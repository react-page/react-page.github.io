"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5185],{55185:function(e,t,r){r.r(t),r.d(t,{Editor:function(){return Je},Element:function(){return qe},Location:function(){return Le},Node:function(){return Qe},Operation:function(){return He},Path:function(){return Ye},PathRef:function(){return et},Point:function(){return nt},PointRef:function(){return ot},Range:function(){return st},RangeRef:function(){return lt},Span:function(){return Ke},Text:function(){return vt},Transforms:function(){return Rt},createEditor:function(){return de}});var n=r(13735);function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[G]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===U}(e)||Array.isArray(e)||!!e[K]||!!e.constructor[K]||d(e)||v(e))}function s(e,t,r){void 0===r&&(r=!1),0===l(e)?(r?Object.keys:$)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function l(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:v(e)?3:0}function f(e,t){return 2===l(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===l(e)?e.get(t):e[t]}function u(e,t,r){var n=l(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return W&&e instanceof Map}function v(e){return V&&e instanceof Set}function p(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Q(e);delete t[G];for(var r=$(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),b(e)||i(e)||!a(e)||(l(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return m(t,!0)}),!0)),e}function y(){o(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function w(e){var t=Z[e];return t||o(18,e),t}function O(){return z}function P(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){A(e),e.p.forEach(j),e.p=null}function A(e){e===z&&(z=e.l)}function E(e){return z={p:[],l:z,h:e,m:!0,_:0}}function j(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function F(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.g||w("ES5").S(t,e,n),n?(r[G].P&&(x(t),o(4)),a(e)&&(e=k(t,e),t.l||D(t,e)),t.u&&w("Patches").M(r[G],e,t.u,t.s)):e=k(t,r,[]),x(t),t.u&&t.v(t.u,t.s),e!==L?e:void 0}function k(e,t,r){if(b(t))return t;var n=t[G];if(!n)return s(t,(function(o,i){return N(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return D(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=g(n.k):n.o;s(3===n.i?new Set(o):o,(function(t,i){return N(e,n,o,t,i,r)})),D(e,o,!1),r&&e.u&&w("Patches").R(n,r,e.u,e.s)}return n.o}function N(e,t,r,n,o,s){if(i(o)){var l=k(e,o,s&&t&&3!==t.i&&!f(t.D,n)?s.concat(n):void 0);if(u(r,n,l),!i(l))return;e.m=!1}if(a(o)&&!b(o)){if(!e.h.F&&e._<1)return;k(e,o),t&&t.A.l||D(e,o)}}function D(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&m(t,r)}function C(e,t){var r=e[G];return(r?p(r):e)[t]}function R(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function _(e){e.P||(e.P=!0,e.l&&_(e.l))}function B(e){e.o||(e.o=g(e.t))}function S(e,t,r){var n=d(t)?w("MapSet").N(t,r):v(t)?w("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:O(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=X;r&&(o=[n],i=H);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return n.k=l,n.j=s,l}(t,r):w("ES5").J(t,r);return(r?r.A:O()).p.push(n),n}function T(e){return i(e)||o(22,e),function e(t){if(!a(t))return t;var r,n=t[G],o=l(t);if(n){if(!n.P&&(n.i<4||!w("ES5").K(n)))return n.t;n.I=!0,r=q(t,o),n.I=!1}else r=q(t,o);return s(r,(function(t,o){n&&c(n.t,t)===o||u(r,t,e(o))})),3===o?new Set(r):r}(e)}function q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}var I,z,M="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,V="undefined"!=typeof Set,J="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,L=M?Symbol.for("immer-nothing"):((I={})["immer-nothing"]=!0,I),K=M?Symbol.for("immer-draftable"):"__$immer_draftable",G=M?Symbol.for("immer-state"):"__$immer_state",U=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Q=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Z={},X={get:function(e,t){if(t===G)return e;var r=p(e);if(!f(r,t))return function(e,t,r){var n,o=R(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!a(n)?n:n===C(e.t,t)?(B(e),e.o[t]=S(e.A.h,n,e)):n},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,r){var n=R(p(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=C(p(e),t),i=null==o?void 0:o[G];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(h(r,o)&&(void 0!==r||f(e.t,t)))return!0;B(e),_(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.D[t]=!1,B(e),_(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=p(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){o(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){o(12)}},H={};s(X,(function(e,t){H[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),H.deleteProperty=function(e,t){return X.deleteProperty.call(this,e[0],t)},H.set=function(e,t,r){return X.set.call(this,e[0],t,r,e[0])};var Y=function(){function e(e){var t=this;this.g=J,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var i=r;r=e;var s=t;return function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return s.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var l;if("function"!=typeof r&&o(6),void 0!==n&&"function"!=typeof n&&o(7),a(e)){var f=E(t),c=S(t,e,void 0),u=!0;try{l=r(c),u=!1}finally{u?x(f):A(f)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return P(f,n),F(e,f)}),(function(e){throw x(f),e})):(P(f,n),F(l,f))}if(!e||"object"!=typeof e){if((l=r(e))===L)return;return void 0===l&&(l=e),t.F&&m(l,!0),l}o(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,r,(function(e,t){n=e,o=t})),n,o];var n,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||o(8),i(e)&&(e=T(e));var t=E(this),r=S(this,e,void 0);return r[G].C=!0,A(t),r},t.finishDraft=function(e,t){var r=(e&&e[G]).A;return P(r,t),F(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!J&&o(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var o=w("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(r+1))}))},e}(),ee=new Y,te=ee.produce,re=(ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee)),ne=ee.finishDraft.bind(ee);function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie=new WeakMap,ae=new WeakMap,se=new WeakMap,le=new WeakMap,fe=new WeakMap,ce=new WeakMap;function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of Je.pathRefs(e))et.transform(r,t);for(var n of Je.pointRefs(e))ot.transform(n,t);for(var o of Je.rangeRefs(e))lt.transform(o,t);var i=new Set,a=[],s=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),a.push(e))}},l=ie.get(e)||[],f=ve(t);for(var c of l){s(Ye.transform(c,t))}for(var u of f)s(u);ie.set(e,a),Rt.transform(e,t),e.operations.push(t),Je.normalize(e),"set_selection"===t.type&&(e.marks=null),ae.get(e)||(ae.set(e,!0),Promise.resolve().then((()=>{ae.set(e,!1),e.onChange(),e.operations=[]})))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(st.isExpanded(n))Rt.setNodes(e,{[t]:r},{match:vt.isText,split:!0});else{var o=he(he({},Je.marks(e)||{}),{},{[t]:r});e.marks=o,ae.get(e)||e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&st.isCollapsed(r)&&Rt.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&st.isCollapsed(r)&&Rt.delete(e,{unit:t})},deleteFragment:t=>{var{selection:r}=e;r&&st.isExpanded(r)&&Rt.delete(e,{reverse:"backward"===t})},getFragment:()=>{var{selection:t}=e;return t?Qe.fragment(e,t):[]},insertBreak:()=>{Rt.splitNodes(e,{always:!0})},insertFragment:t=>{Rt.insertFragment(e,t)},insertNode:t=>{Rt.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(st.isCollapsed(r)){var o=Je.above(e,{match:t=>Je.isInline(e,t),mode:"highest"});if(o){var[,i]=o;if(Je.isEnd(e,r.anchor,i)){var a=Je.after(e,i);Rt.setSelection(e,{anchor:a,focus:a})}}}if(n){var s=he({text:t},n);Rt.insertNodes(e,s)}else Rt.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!vt.isText(r))if(qe.isElement(r)&&0===r.children.length){Rt.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var o=!Je.isEditor(r)&&(qe.isElement(r)&&(e.isInline(r)||0===r.children.length||vt.isText(r.children[0])||e.isInline(r.children[0]))),i=0,a=0;a<r.children.length;a++,i++){var s=Qe.get(e,n);if(!vt.isText(s)){var l=r.children[a],f=s.children[i-1],c=a===r.children.length-1;if((vt.isText(l)||qe.isElement(l)&&e.isInline(l))!==o)Rt.removeNodes(e,{at:n.concat(i),voids:!0}),i--;else if(qe.isElement(l)){if(e.isInline(l))if(null!=f&&vt.isText(f)){if(c){Rt.insertNodes(e,{text:""},{at:n.concat(i+1),voids:!0}),i++}}else{Rt.insertNodes(e,{text:""},{at:n.concat(i),voids:!0}),i++}}else null!=f&&vt.isText(f)&&(vt.equals(l,f,{loose:!0})?(Rt.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):""===f.text?(Rt.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):""===l.text&&(Rt.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}}},removeMark:t=>{var{selection:r}=e;if(r)if(st.isExpanded(r))Rt.unsetNodes(e,t,{match:vt.isText,split:!0});else{var n=he({},Je.marks(e)||{});delete n[t],e.marks=n,ae.get(e)||e.onChange()}}};return e},ve=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return Ye.levels(t);case"insert_node":var{node:r,path:n}=e,o=Ye.levels(n),i=vt.isText(r)?[]:Array.from(Qe.nodes(r),(e=>{var[,t]=e;return n.concat(t)}));return[...o,...i];case"merge_node":var{path:a}=e;return[...Ye.ancestors(a),Ye.previous(a)];case"move_node":var{path:s,newPath:l}=e;if(Ye.equals(s,l))return[];var f=[],c=[];for(var u of Ye.ancestors(s)){var h=Ye.transform(u,e);f.push(h)}for(var d of Ye.ancestors(l)){var v=Ye.transform(d,e);c.push(v)}var p=c[c.length-1],g=l[l.length-1],m=p.concat(g);return[...f,...c,m];case"remove_node":var{path:y}=e;return[...Ye.ancestors(y)];case"split_node":var{path:b}=e;return[...Ye.levels(b),Ye.next(b)];default:return[]}};function pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ge=/\s/,me=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ye=/['\u2018\u2019]/,be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!t,n=0,o=null,i=r?e:_e(e);for(var a of i){var s=a.codePointAt(0);if(!s)break;if(Ne(s))n+=a.length,o="ZWJ";else{var[l,f]=r?[Ae,Ee]:[Ee,Ae];if(l(s)){if("KC"===o)break;n+=a.length,o="KC"}else{if(f(s)){n+=a.length;break}if(xe(s)){if(n+=a.length,r&&"BMP"===o)break;o="VAR"}else if(je(s)){if(r&&o&&"ZWJ"!==o&&"VAR"!==o)break;if(n+=a.length,t&&"VAR"===o)break;o="BMP"}else if(Pe(s))n+=a.length,o="MOD";else{var[c,u]=r?[De,Re]:[Re,De];if(c(s)){if("TAG"===o)break;n+=a.length,o="TAG"}else{if(u(s)){n+=a.length;break}if("TAG"===o&&Ce(s))n+=a.length;else if(Fe(s)){if(n+=a.length,"RI"===o)break;o="RI"}else{if(ke(s)){if(r&&"MOD"===o){n+=a.length;break}break}if("NSEQ"===o)break;n+=a.length,o="NSEQ"}}}}}}return n||1},we=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},Oe=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ge.test(t))return!1;if(ye.test(t)){var o=be(r,n),[i,a]=we(r,o,n);if(e(i,a,n))return!0}return!me.test(t)},Pe=e=>e>=127995&&e<=127999,xe=e=>e<=65039&&e>=65024,Ae=e=>e>=48&&e<=57||35===e||42===e,Ee=e=>8419===e,je=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e||11014===e||8599===e||10145===e||8600===e||11015===e||8601===e||11013===e||8598===e||8597===e||8596===e||8617===e||8618===e||10548===e||10549===e,Fe=e=>e>=127462&&e<=127487,ke=e=>e<=65535,Ne=e=>8205===e,De=e=>127988===e,Ce=e=>e>=917504&&e<=917631,Re=e=>917631===e,_e=function*(e){for(var t=e.length-1,r=0;r<e.length;r++){var n=e.charAt(t-r);if(Se(n.charCodeAt(0))){var o=e.charAt(t-r-1);if(Be(o.charCodeAt(0))){yield o+n,r++;continue}}yield n}},Be=e=>e>=55296&&e<=56319,Se=e=>e>=56320&&e<=57343,Te=e=>(0,n.P)(e)&&Qe.isNodeList(e.children)&&!Je.isEditor(e),qe={isAncestor:e=>(0,n.P)(e)&&Qe.isNodeList(e.children),isElement:Te,isElementList:e=>Array.isArray(e)&&e.every((e=>qe.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Te(e)&&e[r]===t},matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},Ie=["text"],ze=["text"];function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve=new WeakMap,Je={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:o=e.selection,match:i}=t;if(o){var a=Je.path(e,o),s="lowest"===n;for(var[l,f]of Je.levels(e,{at:a,voids:r,match:i,reverse:s}))if(!vt.isText(l)&&!Ye.equals(a,f))return[l,f]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Je.point(e,t,{edge:"end"}),focus:Je.end(e,[])},{distance:i=1}=n,a=0;for(var s of Je.positions(e,We(We({},n),{},{at:o}))){if(a>i)break;0!==a&&(r=s),a++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Je.start(e,[]),focus:Je.point(e,t,{edge:"start"})},{distance:i=1}=n,a=0;for(var s of Je.positions(e,We(We({},n),{},{at:o,reverse:!0}))){if(a>i)break;0!==a&&(r=s),a++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:r="forward"}=t;e.deleteFragment(r)},edges:(e,t)=>[Je.start(e,t),Je.end(e,t)],end:(e,t)=>Je.point(e,t,{edge:"end"}),first(e,t){var r=Je.path(e,t,{edge:"start"});return Je.node(e,r)},fragment(e,t){var r=Je.range(e,t);return Qe.fragment(e,r)},hasBlocks:(e,t)=>t.children.some((t=>Je.isBlock(e,t))),hasInlines:(e,t)=>t.children.some((t=>vt.isText(t)||Je.isInline(e,t))),hasTexts:(e,t)=>t.children.every((e=>vt.isText(e))),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>qe.isElement(t)&&!e.isInline(t),isEditor(e){if(!(0,n.P)(e))return!1;var t=Ve.get(e);if(void 0!==t)return t;var r="function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteBackward&&"function"===typeof e.deleteForward&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isInline&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&(null===e.marks||(0,n.P)(e.marks))&&(null===e.selection||st.isRange(e.selection))&&Qe.isNodeList(e.children)&&He.isOperationList(e.operations);return Ve.set(e,r),r},isEnd(e,t,r){var n=Je.end(e,r);return nt.equals(t,n)},isEdge:(e,t,r)=>Je.isStart(e,t,r)||Je.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&vt.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>qe.isElement(t)&&e.isInline(t),isNormalizing(e){var t=se.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=Je.start(e,r);return nt.equals(t,n)},isVoid:(e,t)=>qe.isElement(t)&&e.isVoid(t),last(e,t){var r=Je.path(e,t,{edge:"end"});return Je.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Je.path(e,t,r);return[Qe.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:o=!1}=t,{match:i}=t;if(null==i&&(i=()=>!0),r){var a=[],s=Je.path(e,r);for(var[l,f]of Qe.levels(e,s))if(i(l,f)&&(a.push([l,f]),!o&&Je.isVoid(e,l)))break;n&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(st.isExpanded(r)){var[n]=Je.nodes(e,{match:vt.isText});if(n){var[o]=n;return pe(o,Ie)}return{}}var{anchor:i}=r,{path:a}=i,[s]=Je.leaf(e,a);if(0===i.offset){var l=Je.previous(e,{at:a,match:vt.isText}),f=Je.above(e,{match:t=>Je.isBlock(e,t)});if(l&&f){var[c,u]=l,[,h]=f;Ye.isAncestor(h,u)&&(s=c)}}return pe(s,ze)},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var a=Je.after(e,i,{voids:n});if(a){var[,s]=Je.last(e,[]),l=[a.path,s];if(Ye.isPath(i)&&0===i.length)throw new Error("Cannot get the next node from the root node!");if(null==o)if(Ye.isPath(i)){var[f]=Je.parent(e,i);o=e=>f.children.includes(e)}else o=()=>!0;var[c]=Je.nodes(e,{at:l,match:o,mode:r,voids:n});return c}}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Je.path(e,t,r);return[Qe.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:o=!1,reverse:i=!1,voids:a=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var l,f;if(Ke.isSpan(r))l=r[0],f=r[1];else{var c=Je.path(e,r,{edge:"start"}),u=Je.path(e,r,{edge:"end"});l=i?u:c,f=i?c:u}var h,d=Qe.nodes(e,{reverse:i,from:l,to:f,pass:t=>{var[r]=t;return!a&&Je.isVoid(e,r)}}),v=[];for(var[p,g]of d){var m=h&&0===Ye.compare(g,h[1]);if("highest"!==n||!m)if(s(p,g))if("lowest"===n&&m)h=[p,g];else{var y="lowest"===n?h:[p,g];y&&(o?v.push(y):yield y),h=[p,g]}else if(o&&!m&&vt.isText(p))return}"lowest"===n&&h&&(o?v.push(h):yield h),o&&(yield*v)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>ie.get(e)||[];if(Je.isNormalizing(e)){if(r){var o=Array.from(Qe.nodes(e),(e=>{var[,t]=e;return t}));ie.set(e,o)}0!==n(e).length&&Je.withoutNormalizing(e,(()=>{for(var t of n(e))if(Qe.has(e,t)){var r=Je.node(e,t),[o,i]=r;qe.isElement(o)&&0===o.children.length&&e.normalizeNode(r)}for(var a=42*n(e).length,s=0;0!==n(e).length;){if(s>a)throw new Error("\n            Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var l=n(e).pop();if(Qe.has(e,l)){var f=Je.node(e,l);e.normalizeNode(f)}s++}}))}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Je.path(e,t,r),o=Ye.parent(n);return Je.node(e,o)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:o}=r;if(Ye.isPath(t))if("start"===o){var[,i]=Qe.first(e,t);t=i}else if("end"===o){var[,a]=Qe.last(e,t);t=a}return st.isRange(t)&&(t="start"===o?st.start(t):"end"===o?st.end(t):Ye.common(t.anchor.path,t.focus.path)),nt.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},hasPath:(e,t)=>Qe.has(e,t),pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Je.pathRefs(e).delete(o),o.current=null,t}};return Je.pathRefs(e).add(o),o},pathRefs(e){var t=le.get(e);return t||(t=new Set,le.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(Ye.isPath(t)){var o;if("end"===n){var[,i]=Qe.last(e,t);o=i}else{var[,a]=Qe.first(e,t);o=a}var s=Qe.get(e,o);if(!vt.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?s.text.length:0}}if(st.isRange(t)){var[l,f]=st.edges(t);return"start"===n?l:f}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Je.pointRefs(e).delete(o),o.current=null,t}};return Je.pointRefs(e).add(o),o},pointRefs(e){var t=fe.get(e);return t||(t=new Set,fe.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:o=!1,voids:i=!1}=t;if(r){var a=Je.range(e,r),[s,l]=st.edges(a),f=o?l:s,c=!1,u="",h=0,d=0,v=0;for(var[p,g]of Je.nodes(e,{at:r,reverse:o,voids:i})){if(qe.isElement(p)){if(!i&&e.isVoid(p)){yield Je.start(e,g);continue}if(e.isInline(p))continue;if(Je.hasInlines(e,p)){var m=Ye.isAncestor(g,l.path)?l:Je.end(e,g),y=Ye.isAncestor(g,s.path)?s:Je.start(e,g);u=Je.string(e,{anchor:y,focus:m},{voids:i}),c=!0}}if(vt.isText(p)){var b=Ye.equals(g,f.path);for(b?(d=o?f.offset:p.text.length-f.offset,v=f.offset):(d=p.text.length,v=o?d:0),(b||c||"offset"===n)&&(yield{path:g,offset:v},c=!1);;){if(0===h){if(""===u)break;h=w(u,n,o),u=we(u,h,o)[1]}if(v=o?v-h:v+h,(d-=h)<0){h=-d;break}h=0,yield{path:g,offset:v}}}}}function w(e,t,r){return"character"===t?be(e,r):"word"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,n=!1;e.length>0;){var o=be(e,t),[i,a]=we(e,o,t);if(Oe(i,a,t))n=!0,r+=o;else{if(n)break;r+=o}e=a}return r}(e,r):"line"===t||"block"===t?e.length:1}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection}=t;if(i){var a=Je.before(e,i,{voids:n});if(a){var[,s]=Je.first(e,[]),l=[a.path,s];if(Ye.isPath(i)&&0===i.length)throw new Error("Cannot get the previous node from the root node!");if(null==o)if(Ye.isPath(i)){var[f]=Je.parent(e,i);o=e=>f.children.includes(e)}else o=()=>!0;var[c]=Je.nodes(e,{reverse:!0,at:l,match:o,mode:r,voids:n});return c}}},range:(e,t,r)=>st.isRange(t)&&!r?t:{anchor:Je.start(e,t),focus:Je.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,o={current:t,affinity:n,unref(){var{current:t}=o;return Je.rangeRefs(e).delete(o),o.current=null,t}};return Je.rangeRefs(e).add(o),o},rangeRefs(e){var t=ce.get(e);return t||(t=new Set,ce.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){se.set(e,t)},start:(e,t)=>Je.point(e,t,{edge:"start"}),string(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,o=Je.range(e,t),[i,a]=st.edges(o),s="";for(var[l,f]of Je.nodes(e,{at:o,match:vt.isText,voids:n})){var c=l.text;Ye.equals(f,a.path)&&(c=c.slice(0,a.offset)),Ye.equals(f,i.path)&&(c=c.slice(i.offset)),s+=c}return s},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[o,i]=st.edges(t);if(0!==o.offset||0!==i.offset||st.isCollapsed(t))return t;var a=Je.above(e,{at:i,match:t=>Je.isBlock(e,t)}),s=a?a[1]:[],l={anchor:Je.start(e,[]),focus:i},f=!0;for(var[c,u]of Je.nodes(e,{at:l,match:vt.isText,reverse:!0,voids:n}))if(f)f=!1;else if(""!==c.text||Ye.isBefore(u,s)){i={path:u,offset:c.text.length};break}return{anchor:o,focus:i}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Je.above(e,We(We({},t),{},{match:t=>Je.isVoid(e,t)}))},withoutNormalizing(e,t){var r=Je.isNormalizing(e);Je.setNormalizing(e,!1);try{t()}finally{Je.setNormalizing(e,r)}Je.normalize(e)}},Le={isLocation:e=>Ye.isPath(e)||nt.isPoint(e)||st.isRange(e)},Ke={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(Ye.isPath)},Ge=["children"],Ue=["text"],$e=new WeakMap,Qe={ancestor(e,t){var r=Qe.get(e,t);if(vt.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of Ye.ancestors(t,r)){var o=[Qe.ancestor(e,n),n];yield o}},child(e,t){if(vt.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,o=Qe.ancestor(e,t),{children:i}=o,a=n?i.length-1:0;n?a>=0:a<i.length;){var s=Qe.child(o,a),l=t.concat(a);yield[s,l],a=n?a-1:a+1}},common(e,t,r){var n=Ye.common(t,r);return[Qe.get(e,n),n]},descendant(e,t){var r=Qe.get(e,t);if(Je.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Qe.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Qe.nodes(e,t))qe.isElement(r)&&(yield[r,n])},extractProps:e=>qe.isAncestor(e)?pe(e,Ge):pe(e,Ue),first(e,t){for(var r=t.slice(),n=Qe.get(e,r);n&&!vt.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(vt.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var r=te({children:e.children},(e=>{var[r,n]=st.edges(t),o=Qe.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!st.includes(t,r)}});for(var[,i]of o){if(!st.includes(t,i)){var a=Qe.parent(e,i),s=i[i.length-1];a.children.splice(s,1)}if(Ye.equals(i,n.path)){var l=Qe.leaf(e,i);l.text=l.text.slice(0,n.offset)}if(Ye.equals(i,r.path)){var f=Qe.leaf(e,i);f.text=f.text.slice(r.offset)}}Je.isEditor(e)&&(e.selection=null)}));return r.children},get(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(vt.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(vt.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:e=>vt.isText(e)||qe.isElement(e)||Je.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=$e.get(e);if(void 0!==t)return t;var r=e.every((e=>Qe.isNode(e)));return $e.set(e,r),r},last(e,t){for(var r=t.slice(),n=Qe.get(e,r);n&&!vt.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf(e,t){var r=Qe.get(e,t);if(!vt.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of Ye.levels(t,r)){var o=Qe.get(e,n);yield[o,n]}},matches:(e,t)=>qe.isElement(e)&&qe.isElementProps(t)&&qe.matches(e,t)||vt.isText(e)&&vt.isTextProps(t)&&vt.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:o=[],to:i}=t,a=new Set,s=[],l=e;!i||!(n?Ye.isBefore(s,i):Ye.isAfter(s,i));)if(a.has(l)||(yield[l,s]),a.has(l)||vt.isText(l)||0===l.children.length||null!=r&&!1!==r([l,s])){if(0===s.length)break;if(!n){var f=Ye.next(s);if(Qe.has(e,f)){s=f,l=Qe.get(e,s);continue}}if(n&&0!==s[s.length-1])s=Ye.previous(s),l=Qe.get(e,s);else s=Ye.parent(s),l=Qe.get(e,s),a.add(l)}else{a.add(l);var c=n?l.children.length-1:0;Ye.isAncestor(s,o)&&(c=o[s.length]),s=s.concat(c),l=Qe.get(e,s)}},parent(e,t){var r=Ye.parent(t),n=Qe.get(e,r);if(vt.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>vt.isText(e)?e.text:e.children.map(Qe.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Qe.nodes(e,t))vt.isText(r)&&(yield[r,n])}};function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var He={isNodeOperation:e=>He.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!(0,n.P)(e))return!1;switch(e.type){case"insert_node":case"remove_node":return Ye.isPath(e.path)&&Qe.isNode(e.node);case"insert_text":case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&Ye.isPath(e.path);case"merge_node":return"number"===typeof e.position&&Ye.isPath(e.path)&&(0,n.P)(e.properties);case"move_node":return Ye.isPath(e.path)&&Ye.isPath(e.newPath);case"set_node":return Ye.isPath(e.path)&&(0,n.P)(e.properties)&&(0,n.P)(e.newProperties);case"set_selection":return null===e.properties&&st.isRange(e.newProperties)||null===e.newProperties&&st.isRange(e.properties)||(0,n.P)(e.properties)&&(0,n.P)(e.newProperties);case"split_node":return Ye.isPath(e.path)&&"number"===typeof e.position&&(0,n.P)(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>He.isOperation(e))),isSelectionOperation:e=>He.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>He.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Xe(Xe({},e),{},{type:"remove_node"});case"insert_text":return Xe(Xe({},e),{},{type:"remove_text"});case"merge_node":return Xe(Xe({},e),{},{type:"split_node",path:Ye.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;if(Ye.equals(t,r))return e;if(Ye.isSibling(r,t))return Xe(Xe({},e),{},{path:t,newPath:r});var n=Ye.transform(r,e),o=Ye.transform(Ye.next(r),e);return Xe(Xe({},e),{},{path:n,newPath:o});case"remove_node":return Xe(Xe({},e),{},{type:"insert_node"});case"remove_text":return Xe(Xe({},e),{},{type:"insert_text"});case"set_node":var{properties:i,newProperties:a}=e;return Xe(Xe({},e),{},{properties:a,newProperties:i});case"set_selection":var{properties:s,newProperties:l}=e;return Xe(Xe({},e),{},null==s?{properties:l,newProperties:null}:null==l?{properties:null,newProperties:s}:{properties:l,newProperties:s});case"split_node":return Xe(Xe({},e),{},{type:"merge_node",path:Ye.next(e.path)})}}},Ye={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=Ye.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return Ye.equals(n,o)&&i>a},endsAt(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return Ye.equals(n,o)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return Ye.equals(n,o)&&i<a},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===Ye.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===Ye.compare(e,t),isBefore:(e,t)=>-1===Ye.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===Ye.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===Ye.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===Ye.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===Ye.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"===typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Ye.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!Ye.isAncestor(t,e)&&!Ye.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(n=>{var{affinity:o="forward"}=r;if(e&&0!==(null===e||void 0===e?void 0:e.length)){if(null===n)return null;switch(t.type){case"insert_node":var{path:i}=t;(Ye.equals(i,n)||Ye.endsBefore(i,n)||Ye.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var{path:a}=t;if(Ye.equals(a,n)||Ye.isAncestor(a,n))return null;Ye.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;Ye.equals(s,n)||Ye.endsBefore(s,n)?n[s.length-1]-=1:Ye.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=l);break;case"split_node":var{path:f,position:c}=t;if(Ye.equals(f,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else Ye.endsBefore(f,n)?n[f.length-1]+=1:Ye.isAncestor(f,n)&&e[f.length]>=c&&(n[f.length-1]+=1,n[f.length]-=c);break;case"move_node":var{path:u,newPath:h}=t;if(Ye.equals(u,h))return;if(Ye.isAncestor(u,n)||Ye.equals(u,n)){var d=h.slice();return Ye.endsBefore(u,h)&&u.length<h.length&&(d[u.length-1]-=1),d.concat(n.slice(u.length))}Ye.isSibling(u,h)&&(Ye.isAncestor(h,n)||Ye.equals(h,n))?Ye.endsBefore(u,n)?n[u.length-1]-=1:n[u.length-1]+=1:Ye.endsBefore(h,n)||Ye.equals(h,n)||Ye.isAncestor(h,n)?(Ye.endsBefore(u,n)&&(n[u.length-1]-=1),n[h.length-1]+=1):Ye.endsBefore(u,n)&&(Ye.equals(h,n)&&(n[h.length-1]+=1),n[u.length-1]-=1)}}}))}},et={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=Ye.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nt={compare(e,t){var r=Ye.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===nt.compare(e,t),isBefore:(e,t)=>-1===nt.compare(e,t),equals:(e,t)=>e.offset===t.offset&&Ye.equals(e.path,t.path),isPoint:e=>(0,n.P)(e)&&"number"===typeof e.offset&&Ye.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(e=>{if(null===e)return null;var{affinity:n="forward"}=r,{path:o,offset:i}=e;switch(t.type){case"insert_node":case"move_node":e.path=Ye.transform(o,t,r);break;case"insert_text":Ye.equals(t.path,o)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":Ye.equals(t.path,o)&&(e.offset+=t.position),e.path=Ye.transform(o,t,r);break;case"remove_text":Ye.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(Ye.equals(t.path,o)||Ye.isAncestor(t.path,o))return null;e.path=Ye.transform(o,t,r);break;case"split_node":if(Ye.equals(t.path,o)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=Ye.transform(o,t,rt(rt({},r),{},{affinity:"forward"})))}else e.path=Ye.transform(o,t,r)}}))}},ot={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=nt.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}},it=["anchor","focus"];function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var st={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:o}=e;return st.isBackward(e)===r?[n,o]:[o,n]},end(e){var[,t]=st.edges(e);return t},equals:(e,t)=>nt.equals(e.anchor,t.anchor)&&nt.equals(e.focus,t.focus),includes(e,t){if(st.isRange(t)){if(st.includes(e,t.anchor)||st.includes(e,t.focus))return!0;var[r,n]=st.edges(e),[o,i]=st.edges(t);return nt.isBefore(r,o)&&nt.isAfter(n,i)}var[a,s]=st.edges(e),l=!1,f=!1;return nt.isPoint(t)?(l=nt.compare(t,a)>=0,f=nt.compare(t,s)<=0):(l=Ye.compare(t,a.path)>=0,f=Ye.compare(t,s.path)<=0),l&&f},intersection(e,t){var r=pe(e,it),[n,o]=st.edges(e),[i,a]=st.edges(t),s=nt.isBefore(n,i)?i:n,l=nt.isBefore(o,a)?o:a;return nt.isBefore(l,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:l},r)},isBackward(e){var{anchor:t,focus:r}=e;return nt.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return nt.equals(t,r)},isExpanded:e=>!st.isCollapsed(e),isForward:e=>!st.isBackward(e),isRange:e=>(0,n.P)(e)&&nt.isPoint(e.anchor)&&nt.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=st.edges(e);return t},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(e=>{if(null===e)return null;var n,o,{affinity:i="inward"}=r;if("inward"===i){var a=st.isCollapsed(e);st.isForward(e)?(n="forward",o=a?n:"backward"):(n="backward",o=a?n:"forward")}else"outward"===i?st.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=i,o=i);var s=nt.transform(e.anchor,t,{affinity:n}),l=nt.transform(e.focus,t,{affinity:o});if(!s||!l)return null;e.anchor=s,e.focus=l}))}},lt={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var o=st.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}},ft=(e,t)=>{for(var r in e){var o=e[r],i=t[r];if((0,n.P)(o)&&(0,n.P)(i)){if(!ft(o,i))return!1}else{if(Array.isArray(o)&&Array.isArray(i)){if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(o[a]!==i[a])return!1;return!0}if(o!==i)return!1}}for(var s in t)if(void 0===e[s]&&void 0!==t[s])return!1;return!0},ct=["text"],ut=["anchor","focus"];function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vt={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;function o(e){return pe(e,ct)}return ft(n?o(e):e,n?o(t):t)},isText:e=>(0,n.P)(e)&&"string"===typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>vt.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[dt({},e)];for(var n of t){var o=pe(n,ut),[i,a]=st.edges(n),s=[],l=0;for(var f of r){var{length:c}=f.text,u=l;if(l+=c,i.offset<=u&&a.offset>=l)Object.assign(f,o),s.push(f);else if(i.offset!==a.offset&&(i.offset===l||a.offset===u)||i.offset>l||a.offset<u||a.offset===u&&0!==u)s.push(f);else{var h=f,d=void 0,v=void 0;if(a.offset<l){var p=a.offset-u;v=dt(dt({},h),{},{text:h.text.slice(p)}),h=dt(dt({},h),{},{text:h.text.slice(0,p)})}if(i.offset>u){var g=i.offset-u;d=dt(dt({},h),{},{text:h.text.slice(0,g)}),h=dt(dt({},h),{},{text:h.text.slice(g)})}Object.assign(h,o),d&&s.push(d),s.push(h),v&&s.push(v)}}r=s}return r}};function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt={transform(e,t){e.children=re(e.children);var r=e.selection&&re(e.selection);try{r=((e,t,r)=>{switch(r.type){case"insert_node":var{path:n,node:o}=r,i=Qe.parent(e,n),a=n[n.length-1];if(a>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(i.children.splice(a,0,o),t)for(var[s,l]of st.points(t))t[l]=nt.transform(s,r);break;case"insert_text":var{path:f,offset:c,text:u}=r;if(0===u.length)break;var h=Qe.leaf(e,f),d=h.text.slice(0,c),v=h.text.slice(c);if(h.text=d+u+v,t)for(var[p,g]of st.points(t))t[g]=nt.transform(p,r);break;case"merge_node":var{path:m}=r,y=Qe.get(e,m),b=Ye.previous(m),w=Qe.get(e,b),O=Qe.parent(e,m),P=m[m.length-1];if(vt.isText(y)&&vt.isText(w))w.text+=y.text;else{if(vt.isText(y)||vt.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(y," ").concat(w));w.children.push(...y.children)}if(O.children.splice(P,1),t)for(var[x,A]of st.points(t))t[A]=nt.transform(x,r);break;case"move_node":var{path:E,newPath:j}=r;if(Ye.isAncestor(E,j))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(j,"] because the destination is inside itself."));var F=Qe.get(e,E),k=Qe.parent(e,E),N=E[E.length-1];k.children.splice(N,1);var D=Ye.transform(E,r),C=Qe.get(e,Ye.parent(D)),R=D[D.length-1];if(C.children.splice(R,0,F),t)for(var[_,B]of st.points(t))t[B]=nt.transform(_,r);break;case"remove_node":var{path:S}=r,T=S[S.length-1];if(Qe.parent(e,S).children.splice(T,1),t)for(var[q,I]of st.points(t)){var z=nt.transform(q,r);if(null!=t&&null!=z)t[I]=z;else{var M=void 0,W=void 0;for(var[V,J]of Qe.texts(e)){if(-1!==Ye.compare(J,S)){W=[V,J];break}M=[V,J]}var L=!1;M&&W&&(L=Ye.equals(W[1],S)?!Ye.hasPrevious(W[1]):Ye.common(M[1],S).length<Ye.common(W[1],S).length),M&&!L?(q.path=M[1],q.offset=M[0].text.length):W?(q.path=W[1],q.offset=0):t=null}}break;case"remove_text":var{path:K,offset:G,text:U}=r;if(0===U.length)break;var $=Qe.leaf(e,K),Q=$.text.slice(0,G),Z=$.text.slice(G+U.length);if($.text=Q+Z,t)for(var[X,H]of st.points(t))t[H]=nt.transform(X,r);break;case"set_node":var{path:Y,properties:ee,newProperties:te}=r;if(0===Y.length)throw new Error("Cannot set properties on the root node!");var re=Qe.get(e,Y);for(var ne in te){if("children"===ne||"text"===ne)throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'));var oe=te[ne];null==oe?delete re[ne]:re[ne]=oe}for(var ie in ee)te.hasOwnProperty(ie)||delete re[ie];break;case"set_selection":var{newProperties:ae}=r;if(null==ae)t=ae;else{if(null==t){if(!st.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ae)," when there is no current selection."));t=gt({},ae)}for(var se in ae){var le=ae[se];if(null==le){if("anchor"===se||"focus"===se)throw new Error('Cannot remove the "'.concat(se,'" selection property'));delete t[se]}else t[se]=le}}break;case"split_node":var{path:fe,position:ce,properties:ue}=r;if(0===fe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fe,"] because the root node cannot be split."));var he,de=Qe.get(e,fe),ve=Qe.parent(e,fe),pe=fe[fe.length-1];if(vt.isText(de)){var ge=de.text.slice(0,ce),me=de.text.slice(ce);de.text=ge,he=gt(gt({},ue),{},{text:me})}else{var ye=de.children.slice(0,ce),be=de.children.slice(ce);de.children=ye,he=gt(gt({},ue),{},{children:be})}if(ve.children.splice(pe+1,0,he),t)for(var[we,Oe]of st.points(t))t[Oe]=nt.transform(we,r)}return t})(e,r,t)}finally{e.children=ne(e.children),e.selection=r?i(r)?ne(r):r:null}}},yt=["text"],bt=["children"];function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pt={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Je.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:o=!1,mode:i="lowest"}=r,{at:a,match:s,select:l}=r;if(Qe.isNode(t)&&(t=[t]),0!==t.length){var[f]=t;if(a||(a=e.selection?e.selection:e.children.length>0?Je.end(e,[]):[0],l=!0),null==l&&(l=!1),st.isRange(a))if(n||(a=Je.unhangRange(e,a)),st.isCollapsed(a))a=a.anchor;else{var[,c]=st.edges(a),u=Je.pointRef(e,c);Rt.delete(e,{at:a}),a=u.unref()}if(nt.isPoint(a)){null==s&&(s=vt.isText(f)?e=>vt.isText(e):e.isInline(f)?t=>vt.isText(t)||Je.isInline(e,t):t=>Je.isBlock(e,t));var[h]=Je.nodes(e,{at:a.path,match:s,mode:i,voids:o});if(!h)return;var[,d]=h,v=Je.pathRef(e,d),p=Je.isEnd(e,a,d);Rt.splitNodes(e,{at:a,match:s,mode:i,voids:o});var g=v.unref();a=p?Ye.next(g):g}var m=Ye.parent(a),y=a[a.length-1];if(o||!Je.void(e,{at:m})){for(var b of t){var w=m.concat(y);y++,e.apply({type:"insert_node",path:w,node:b}),a=Ye.next(a)}if(a=Ye.previous(a),l){var O=Je.end(e,a);O&&Rt.select(e,O)}}}}))},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Je.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:o=!1}=t,{match:i}=t;if(null==i&&(i=Ye.isPath(r)?Et(e,r):t=>Je.isBlock(e,t)),r){var a=Je.nodes(e,{at:r,match:i,mode:n,voids:o}),s=Array.from(a,(t=>{var[,r]=t;return Je.pathRef(e,r)}));for(var l of s){var f=l.unref();if(f.length<2)throw new Error("Cannot lift node at a path [".concat(f,"] because it has a depth of less than `2`."));var c=Je.node(e,Ye.parent(f)),[u,h]=c,d=f[f.length-1],{length:v}=u.children;if(1===v){var p=Ye.next(h);Rt.moveNodes(e,{at:f,to:p,voids:o}),Rt.removeNodes(e,{at:h,voids:o})}else if(0===d)Rt.moveNodes(e,{at:f,to:h,voids:o});else if(d===v-1){var g=Ye.next(h);Rt.moveNodes(e,{at:f,to:g,voids:o})}else{var m=Ye.next(f),y=Ye.next(h);Rt.splitNodes(e,{at:m,voids:o}),Rt.moveNodes(e,{at:f,to:y,voids:o})}}}}))},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Je.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:o=!1,voids:i=!1,mode:a="lowest"}=t;if(n){if(null==r)if(Ye.isPath(n)){var[s]=Je.parent(e,n);r=e=>s.children.includes(e)}else r=t=>Je.isBlock(e,t);if(!o&&st.isRange(n)&&(n=Je.unhangRange(e,n)),st.isRange(n))if(st.isCollapsed(n))n=n.anchor;else{var[,l]=st.edges(n),f=Je.pointRef(e,l);Rt.delete(e,{at:n}),n=f.unref(),null==t.at&&Rt.select(e,n)}var[c]=Je.nodes(e,{at:n,match:r,voids:i,mode:a}),u=Je.previous(e,{at:n,match:r,voids:i,mode:a});if(c&&u){var[h,d]=c,[v,p]=u;if(0!==d.length&&0!==p.length){var g,m,y=Ye.next(p),b=Ye.common(d,p),w=Ye.isSibling(d,p),O=Array.from(Je.levels(e,{at:d}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),P=Je.above(e,{at:d,mode:"highest",match:t=>O.includes(t)&&xt(e,t)}),x=P&&Je.pathRef(e,P[1]);if(vt.isText(h)&&vt.isText(v)){var A=pe(h,yt);m=v.text.length,g=A}else{if(!qe.isElement(h)||!qe.isElement(v))throw new Error("Cannot merge the node at path [".concat(d,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(h)," ").concat(JSON.stringify(v)));A=pe(h,bt);m=v.children.length,g=A}w||Rt.moveNodes(e,{at:d,to:y,voids:i}),x&&Rt.removeNodes(e,{at:x.current,voids:i}),qe.isElement(v)&&Je.isEmpty(e,v)||vt.isText(v)&&""===v.text&&0!==p[p.length-1]?Rt.removeNodes(e,{at:p,voids:i}):e.apply({type:"merge_node",path:y,position:m,properties:g}),x&&x.unref()}}}}))},moveNodes(e,t){Je.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:o="lowest",voids:i=!1}=t,{match:a}=t;if(n){null==a&&(a=Ye.isPath(n)?Et(e,n):t=>Je.isBlock(e,t));var s=Je.pathRef(e,r),l=Je.nodes(e,{at:n,match:a,mode:o,voids:i}),f=Array.from(l,(t=>{var[,r]=t;return Je.pathRef(e,r)}));for(var c of f){var u=c.unref(),h=s.current;0!==u.length&&e.apply({type:"move_node",path:u,newPath:h}),s.current&&Ye.isSibling(h,u)&&Ye.isAfter(h,u)&&(s.current=Ye.next(s.current))}s.unref()}}))},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Je.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:o="lowest"}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=Ye.isPath(i)?Et(e,i):t=>Je.isBlock(e,t)),!r&&st.isRange(i)&&(i=Je.unhangRange(e,i));var s=Je.nodes(e,{at:i,match:a,mode:o,voids:n}),l=Array.from(s,(t=>{var[,r]=t;return Je.pathRef(e,r)}));for(var f of l){var c=f.unref();if(c){var[u]=Je.node(e,c);e.apply({type:"remove_node",path:c,node:u})}}}}))},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Je.withoutNormalizing(e,(()=>{var{match:n,at:o=e.selection}=r,{hanging:i=!1,mode:a="lowest",split:s=!1,voids:l=!1}=r;if(o){if(null==n&&(n=Ye.isPath(o)?Et(e,o):t=>Je.isBlock(e,t)),!i&&st.isRange(o)&&(o=Je.unhangRange(e,o)),s&&st.isRange(o)){if(st.isCollapsed(o)&&Je.leaf(e,o.anchor)[0].text.length>0)return;var f=Je.rangeRef(e,o,{affinity:"inward"}),[c,u]=st.edges(o),h="lowest"===a?"lowest":"highest",d=Je.isEnd(e,u,u.path);Rt.splitNodes(e,{at:u,match:n,mode:h,voids:l,always:!d});var v=Je.isStart(e,c,c.path);Rt.splitNodes(e,{at:c,match:n,mode:h,voids:l,always:!v}),o=f.unref(),null==r.at&&Rt.select(e,o)}for(var[p,g]of Je.nodes(e,{at:o,match:n,mode:a,voids:l})){var m={},y={};if(0!==g.length){var b=!1;for(var w in t)"children"!==w&&"text"!==w&&t[w]!==p[w]&&(b=!0,p.hasOwnProperty(w)&&(m[w]=p[w]),null!=t[w]&&(y[w]=t[w]));b&&e.apply({type:"set_node",path:g,properties:m,newProperties:y})}}}}))},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Je.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:o,at:i=e.selection,height:a=0,always:s=!1}=t;if(null==o&&(o=t=>Je.isBlock(e,t)),st.isRange(i)&&(i=At(e,i)),Ye.isPath(i)){var l=i,f=Je.point(e,l),[c]=Je.parent(e,l);o=e=>e===c,a=f.path.length-l.length+1,i=f,s=!0}if(i){var u=Je.pointRef(e,i,{affinity:"backward"}),[h]=Je.nodes(e,{at:i,match:o,mode:r,voids:n});if(h){var d=Je.void(e,{at:i,mode:"highest"});if(!n&&d){var[v,p]=d;if(qe.isElement(v)&&e.isInline(v)){var g=Je.after(e,p);if(!g){var m=Ye.next(p);Rt.insertNodes(e,{text:""},{at:m,voids:n}),g=Je.point(e,m)}i=g,s=!0}a=i.path.length-p.length+1,s=!0}var y=Je.pointRef(e,i),b=i.path.length-a,[,w]=h,O=i.path.slice(0,b),P=0===a?i.offset:i.path[b]+0;for(var[x,A]of Je.levels(e,{at:O,reverse:!0,voids:n})){var E=!1;if(A.length<w.length||0===A.length||!n&&Je.isVoid(e,x))break;var j=u.current,F=Je.isEnd(e,j,A);if(s||!u||!Je.isEdge(e,j,A)){E=!0;var k=Qe.extractProps(x);e.apply({type:"split_node",path:A,position:P,properties:k})}P=A[A.length-1]+(E||F?1:0)}if(null==t.at){var N=y.current||Je.end(e,[]);Rt.select(e,N)}u.unref(),y.unref()}}}))},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var o of t)n[o]=null;Rt.setNodes(e,n,r)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Je.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:o=!1}=t,{at:i=e.selection,match:a}=t;if(i){null==a&&(a=Ye.isPath(i)?Et(e,i):t=>Je.isBlock(e,t)),Ye.isPath(i)&&(i=Je.range(e,i));var s=st.isRange(i)?Je.rangeRef(e,i):null,l=Je.nodes(e,{at:i,match:a,mode:r,voids:o}),f=Array.from(l,(t=>{var[,r]=t;return Je.pathRef(e,r)})).reverse(),c=function(t){var r=t.unref(),[i]=Je.node(e,r),a=Je.range(e,r);n&&s&&(a=st.intersection(s.current,a)),Rt.liftNodes(e,{at:a,match:e=>qe.isAncestor(i)&&i.children.includes(e),voids:o})};for(var u of f)c(u);s&&s.unref()}}))},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Je.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:o=!1,voids:i=!1}=r,{match:a,at:s=e.selection}=r;if(s){if(null==a&&(a=Ye.isPath(s)?Et(e,s):e.isInline(t)?t=>Je.isInline(e,t)||vt.isText(t):t=>Je.isBlock(e,t)),o&&st.isRange(s)){var[l,f]=st.edges(s),c=Je.rangeRef(e,s,{affinity:"inward"});Rt.splitNodes(e,{at:f,match:a,voids:i}),Rt.splitNodes(e,{at:l,match:a,voids:i}),s=c.unref(),null==r.at&&Rt.select(e,s)}var u=Array.from(Je.nodes(e,{at:s,match:e.isInline(t)?t=>Je.isBlock(e,t):e=>Je.isEditor(e),mode:"lowest",voids:i}));for(var[,h]of u){var d=st.isRange(s)?st.intersection(s,Je.range(e,h)):s;if(d){var v=Array.from(Je.nodes(e,{at:d,match:a,mode:n,voids:i}));if(v.length>0){var p=function(){var[r]=v,n=v[v.length-1],[,o]=r,[,a]=n;if(0===o.length&&0===a.length)return"continue";var s=Ye.equals(o,a)?Ye.parent(o):Ye.common(o,a),l=Je.range(e,o,a),f=Je.node(e,s),[c]=f,u=s.length+1,h=Ye.next(a.slice(0,u)),d=Ot(Ot({},t),{},{children:[]});Rt.insertNodes(e,d,{at:h,voids:i}),Rt.moveNodes(e,{at:l,match:e=>qe.isAncestor(c)&&c.children.includes(e),to:h.concat(0),voids:i})}();if("continue"===p)continue}}}}}))}},xt=(e,t)=>{if(qe.isElement(t)){var r=t;return!!Je.isVoid(e,t)||1===r.children.length&&xt(e,r.children[0])}return!Je.isEditor(t)},At=(e,t)=>{if(st.isCollapsed(t))return t.anchor;var[,r]=st.edges(t),n=Je.pointRef(e,r);return Rt.delete(e,{at:t}),n.unref()},Et=(e,t)=>{var[r]=Je.node(e,t);return e=>e===r};function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kt={collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)Rt.select(e,n.anchor);else if("focus"===r)Rt.select(e,n.focus);else if("start"===r){var[o]=st.edges(n);Rt.select(e,o)}else if("end"===r){var[,i]=st.edges(n);Rt.select(e,i)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:o="character",reverse:i=!1}=t,{edge:a=null}=t;if(r){"start"===a&&(a=st.isBackward(r)?"focus":"anchor"),"end"===a&&(a=st.isBackward(r)?"anchor":"focus");var{anchor:s,focus:l}=r,f={distance:n,unit:o},c={};if(null==a||"anchor"===a){var u=i?Je.before(e,s,f):Je.after(e,s,f);u&&(c.anchor=u)}if(null==a||"focus"===a){var h=i?Je.before(e,l,f):Je.after(e,l,f);h&&(c.focus=h)}Rt.setSelection(e,c)}},select(e,t){var{selection:r}=e;if(t=Je.range(e,t),r)Rt.setSelection(e,t);else{if(!st.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:n}=e,{edge:o="both"}=r;if(n){"start"===o&&(o=st.isBackward(n)?"focus":"anchor"),"end"===o&&(o=st.isBackward(n)?"anchor":"focus");var{anchor:i,focus:a}=n,s="anchor"===o?i:a;Rt.setSelection(e,{["anchor"===o?"anchor":"focus"]:Ft(Ft({},s),t)})}},setSelection(e,t){var{selection:r}=e,n={},o={};if(r){for(var i in t)("anchor"===i&&null!=t.anchor&&!nt.equals(t.anchor,r.anchor)||"focus"===i&&null!=t.focus&&!nt.equals(t.focus,r.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==r[i])&&(n[i]=r[i],o[i]=t[i]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},Nt={delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Je.withoutNormalizing(e,(()=>{var{reverse:r=!1,unit:n="character",distance:o=1,voids:i=!1}=t,{at:a=e.selection,hanging:s=!1}=t;if(a){if(st.isRange(a)&&st.isCollapsed(a)&&(a=a.anchor),nt.isPoint(a)){var l=Je.void(e,{at:a,mode:"highest"});if(!i&&l){var[,f]=l;a=f}else{var c={unit:n,distance:o};a={anchor:a,focus:r?Je.before(e,a,c)||Je.start(e,[]):Je.after(e,a,c)||Je.end(e,[])},s=!0}}if(Ye.isPath(a))Rt.removeNodes(e,{at:a,voids:i});else if(!st.isCollapsed(a)){if(!s){var[,u]=st.edges(a),h=Je.end(e,[]);nt.equals(u,h)||(a=Je.unhangRange(e,a,{voids:i}))}var[d,v]=st.edges(a),p=Je.above(e,{match:t=>Je.isBlock(e,t),at:d,voids:i}),g=Je.above(e,{match:t=>Je.isBlock(e,t),at:v,voids:i}),m=p&&g&&!Ye.equals(p[1],g[1]),y=Ye.equals(d.path,v.path),b=i?null:Je.void(e,{at:d,mode:"highest"}),w=i?null:Je.void(e,{at:v,mode:"highest"});if(b){var O=Je.before(e,d);O&&p&&Ye.isAncestor(p[1],O.path)&&(d=O)}if(w){var P=Je.after(e,v);P&&g&&Ye.isAncestor(g[1],P.path)&&(v=P)}var x,A=[];for(var E of Je.nodes(e,{at:a,voids:i})){var[j,F]=E;x&&0===Ye.compare(F,x)||(!i&&Je.isVoid(e,j)||!Ye.isCommon(F,d.path)&&!Ye.isCommon(F,v.path))&&(A.push(E),x=F)}var k=Array.from(A,(t=>{var[,r]=t;return Je.pathRef(e,r)})),N=Je.pointRef(e,d),D=Je.pointRef(e,v);if(!y&&!b){var C=N.current,[R]=Je.leaf(e,C),{path:_}=C,{offset:B}=d,S=R.text.slice(B);S.length>0&&e.apply({type:"remove_text",path:_,offset:B,text:S})}for(var T of k){var q=T.unref();Rt.removeNodes(e,{at:q,voids:i})}if(!w){var I=D.current,[z]=Je.leaf(e,I),{path:M}=I,W=y?d.offset:0,V=z.text.slice(W,v.offset);V.length>0&&e.apply({type:"remove_text",path:M,offset:W,text:V})}!y&&m&&D.current&&N.current&&Rt.mergeNodes(e,{at:D.current,hanging:!0,voids:i});var J=r?N.unref()||D.unref():D.unref()||N.unref();null==t.at&&J&&Rt.select(e,J)}}}))},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Je.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:o=!1}=r,{at:i=e.selection}=r;if(t.length&&i){if(st.isRange(i))if(n||(i=Je.unhangRange(e,i)),st.isCollapsed(i))i=i.anchor;else{var[,a]=st.edges(i);if(!o&&Je.void(e,{at:a}))return;var s=Je.pointRef(e,a);Rt.delete(e,{at:i}),i=s.unref()}else Ye.isPath(i)&&(i=Je.start(e,i));if(o||!Je.void(e,{at:i})){var l=Je.above(e,{at:i,match:t=>Je.isInline(e,t),mode:"highest",voids:o});if(l){var[,f]=l;if(Je.isEnd(e,i,f))i=Je.after(e,f);else if(Je.isStart(e,i,f)){i=Je.before(e,f)}}var c=Je.above(e,{match:t=>Je.isBlock(e,t),at:i,voids:o}),[,u]=c,h=Je.isStart(e,i,u),d=Je.isEnd(e,i,u),v=h&&d,p=!h||h&&d,g=!d,[,m]=Qe.first({children:t},[]),[,y]=Qe.last({children:t},[]),b=[],w=t=>{var[r,n]=t;return!(0===n.length)&&(!!v||!(p&&Ye.isAncestor(n,m)&&qe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(g&&Ye.isAncestor(n,y)&&qe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))};for(var O of Qe.nodes({children:t},{pass:w}))w(O)&&b.push(O);var P=[],x=[],A=[],E=!0,j=!1;for(var[F]of b)qe.isElement(F)&&!e.isInline(F)?(E=!1,j=!0,x.push(F)):E?P.push(F):A.push(F);var[k]=Je.nodes(e,{at:i,match:t=>vt.isText(t)||Je.isInline(e,t),mode:"highest",voids:o}),[,N]=k,D=Je.isStart(e,i,N),C=Je.isEnd(e,i,N),R=Je.pathRef(e,d?Ye.next(u):u),_=Je.pathRef(e,C?Ye.next(N):N),B=Je.pathRef(e,u);Rt.splitNodes(e,{at:i,match:t=>j?Je.isBlock(e,t):vt.isText(t)||Je.isInline(e,t),mode:j?"lowest":"highest",voids:o});var S=Je.pathRef(e,!D||D&&C?Ye.next(N):N);if(Rt.insertNodes(e,P,{at:S.current,match:t=>vt.isText(t)||Je.isInline(e,t),mode:"highest",voids:o}),v&&x.length&&Rt.delete(e,{at:B.unref(),voids:o}),Rt.insertNodes(e,x,{at:R.current,match:t=>Je.isBlock(e,t),mode:"lowest",voids:o}),Rt.insertNodes(e,A,{at:_.current,match:t=>vt.isText(t)||Je.isInline(e,t),mode:"highest",voids:o}),!r.at){var T;T=A.length>0?Ye.previous(_.current):x.length>0?Ye.previous(R.current):Ye.previous(S.current);var q=Je.end(e,T);Rt.select(e,q)}S.unref(),R.unref(),_.unref()}}}))},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Je.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:o=e.selection}=r;if(o){if(Ye.isPath(o)&&(o=Je.range(e,o)),st.isRange(o))if(st.isCollapsed(o))o=o.anchor;else{var i=st.end(o);if(!n&&Je.void(e,{at:i}))return;var a=Je.pointRef(e,i);Rt.delete(e,{at:o,voids:n}),o=a.unref(),Rt.setSelection(e,{anchor:o,focus:o})}if(n||!Je.void(e,{at:o})){var{path:s,offset:l}=o;t.length>0&&e.apply({type:"insert_text",path:s,offset:l,text:t})}}}))}};function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rt=Ct(Ct(Ct(Ct({},mt),Pt),kt),Nt)},13735:function(e,t,r){function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}r.d(t,{P:function(){return o}})}}]);