{"version":3,"file":"static/chunks/8854-d1f26e2e02226ba4.js","mappings":"oOAAIA,EAAkC,SAAUC,EAAGC,GAC/C,IAAIC,EAAsB,oBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAgBA,KAAM,MAAQI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAEQ,OAExE,MAAOC,GAASR,EAAI,CAAEQ,MAAOA,GAC7B,QACI,IACQT,IAAMA,EAAEM,OAAST,EAAIK,EAAU,SAAIL,EAAEM,KAAKD,GAElD,QAAU,GAAID,EAAG,MAAMA,EAAEQ,OAE7B,OAAOL,GAEPM,EAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUC,OAAc,IAAK,IAA4BX,EAAxBF,EAAI,EAAGc,EAAIJ,EAAKG,OAAYb,EAAIc,EAAGd,KACxEE,GAAQF,KAAKU,IACRR,IAAIA,EAAKa,MAAMC,UAAUC,MAAMhB,KAAKS,EAAM,EAAGV,IAClDE,EAAGF,GAAKU,EAAKV,IAGrB,OAAOS,EAAGS,OAAOhB,GAAMa,MAAMC,UAAUC,MAAMhB,KAAKS,K,qDCjB3CS,GAAgB,IAAAC,eAAc,MACrCC,EAA6B,WAC7B,SAASA,EAAYC,GACjB,IAAIC,EAAKD,EAAGE,WAAYA,OAAoB,IAAPD,EAAgB,GAAKA,EAAIE,EAAQH,EAAGG,MAAOC,EAAeJ,EAAGI,aAC9FC,EAAQC,KACZA,KAAKC,qBAAuB,SAAUC,GAClC,OAAO,QAAgBH,EAAMF,MAAMM,WAAYD,IAEnDF,KAAKI,QAAU,SAAUF,GACrB,IAAIR,EACJ,OAAkE,QAA1DA,GAAK,QAAgBK,EAAMF,MAAMM,WAAYD,UAA4B,IAAPR,OAAgB,EAASA,EAAGW,MAE1GL,KAAKH,MAAQA,GDerB,SAA0BC,EAAcF,QACjB,IAAfA,IAAyBA,EAAa,IAE1C,IAAIU,GAAK,KACa,kBAAXC,QACPA,OAAOC,qCACLD,OAAOC,qCAAqC,IAC5C,KACN,OAAO,QAAY,KAAaV,EAAcQ,EAAE,KAAAG,WAAsB,EAAQ7B,EAAcA,EAAc,GAAIhB,EAAOgC,IAAa,GAAQ,CAAC,MAAQ,MCvBzH,CAAYE,EAAcF,GAChDI,KAAKJ,WAAaA,EAKtB,OAHAH,EAAYL,UAAUsB,QAAU,SAAUC,GACtCX,KAAKH,MAAMe,UAAS,OAAQD,KAEzBlB,EAjBqB,GAmBrBoB,EAAmB,WAC1B,MAAO,CAAGC,IAAI,EAAAC,EAAA,KAAYC,KAAM,GAAIC,QAAS,MAEjD,K,sVC7BA,IAAIC,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAErByC,EAAuB,uBACvBC,EAAmB,mBACnBC,EAAc,cACdC,EAAc,cACdC,EAAa,aACbC,EAAY,YACZC,EAAgB,gBAChBC,EAAoB,SAAUlB,EAAImB,EAAStB,GAGlD,YAFgB,IAAZsB,IAAsBA,GAAU,QACvB,IAATtB,IAAmBA,EAAO,MACvB,CACHuB,KAAMT,EACNU,GAAI,IAAIC,KACRtB,GAAIA,EACJmB,QAASA,EACTtB,KAAMA,IAGH0B,EAAiB,SAAUvB,GAClC,OAAO,SAAUwB,EAAMC,GAAW,OAAQrB,EAAS,CAAEgB,KAAMR,EAAkBS,GAAI,IAAIC,KAAQtB,GAAIA,EAAIwB,KAAMA,GAAQC,KAE5GC,EAAc,SAAUC,GAAO,MAAO,CAC7CP,KAAMP,EACNQ,GAAI,IAAIC,KACRK,IAAKA,IAEEC,EAAa,SAAU5B,GAC9B,OAAO,SAAU6B,GAEb,YADa,IAATA,IAAmBA,EAAO,GACvB,CACHT,KAAMN,EACNO,GAAI,IAAIC,KACRtB,GAAIA,EACJ6B,KAAMA,KAOPC,EAAY,SAAU9B,EAAI+B,EAAcC,GAG/C,YAFqB,IAAjBD,IAA2BA,GAAe,QACjC,IAATC,IAAmBA,EAAO,WACvB,CACHZ,KAAML,EACNM,GAAI,IAAIC,KACRtB,GAAIA,EACJ+B,aAAcA,EACdC,KAAMA,IAcHC,EAAe,WAAc,MAAO,CAC3Cb,KAAMH,EACNI,GAAI,IAAIC,Q,qTCvEDY,EAAkB,kBAGlBC,EAAoB,oBAcpBC,EAAY,SAAUC,EAAMC,EAAOC,EAAOC,GACjD,IAAI5D,EAAIC,OACM,IAAV0D,IAAoBA,EAAQ,GAChC,IAAIE,EAAoB,IAAVF,EACRD,EAAMtC,GAC8F,QAAnGnB,EAAkC,QAA5BD,EAAK0D,EAAMI,mBAAgC,IAAP9D,OAAgB,EAASA,EAAG+D,KAAKC,IAAI,EAAGL,EAAQ,WAAwB,IAAP1D,EAAgBA,EAAKyD,EAAMtC,GAC7I,MAAO,CACHoB,KAAMc,EACNb,GAAI,IAAIC,KACRuB,OAAQR,EAAKrC,GACbyC,QAASA,EACTF,MAAOA,EACPC,SAAUA,IAePM,EAAkB,SAAUT,EAAMC,EAAOC,GAAS,OAAOH,EAAUC,EAAMC,EAAOC,EAAO,cAavFQ,EAAmB,SAAUV,EAAMC,EAAOC,GAAS,OAAOH,EAAUC,EAAMC,EAAOC,EAAO,eAaxFS,EAAiB,SAAUX,EAAMC,EAAOC,GAAS,OAAOH,EAAUC,EAAMC,EAAOC,EAAO,YAatFU,EAAiB,SAAUZ,EAAMC,EAAOC,GAAS,OAAOH,EAAUC,EAAMC,EAAOC,EAAO,YAYtFW,EAAsB,SAAUb,EAAMC,GAC7C,OAAOF,EAAUC,EAAMC,EAAO,EAAG,kBAa1Ba,EAAuB,SAAUd,EAAMC,GAC9C,OAAOF,EAAUC,EAAMC,EAAO,EAAG,mBAa1Bc,EAAW,SAAUpD,GAAM,MAAO,CACzCoB,KA3HmB,YA4HnBC,GAAI,IAAIC,KACRtB,GAAIA,IAOGqD,EAAa,WAAc,MAAO,CACzCjC,KAAMe,EACNd,GAAI,IAAIC,OAaDgC,EAAiB,WAAc,MAAO,CAC7ClC,KAnJ0B,mBAoJ1BC,GAAI,IAAIC,Q,2kBC1JRlB,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAWrBqF,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAsB,sBACtBC,EAAuB,uBACvBC,EAA0B,0BAC1BC,EAA2B,2BAC3BC,EAAqB,qBACrBC,EAAyB,yBACzBC,EAAY,SAAUC,EAAYvC,GACzC,IAAI7C,EAAIC,EACR,OAAIR,MAAM4F,QAAQD,GACP,CACHhE,IAAI,SACJkE,MAAOF,EAAWG,KAAI,SAAUC,GAAK,OAAOC,EAAWD,EAAG3C,QAG3D,OAAqBrB,EAASA,EAAS,CAAEJ,IAAI,UAAcgE,GAAa,CAAEE,MAAuI,QAA/HrF,EAAiC,QAA3BD,EAAKoF,EAAWE,aAA0B,IAAPtF,OAAgB,EAASA,EAAGuF,KAAI,SAAUC,GAAK,OAAOC,EAAWD,EAAG3C,aAAiC,IAAP5C,EAAgBA,EAAK,OAE9OwF,EAAa,SAAUC,EAAa7C,GAC3C,IAAI7C,EACAC,EAAI0F,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACpCC,EAAcvD,EAAQuD,YAAanF,EAAO4B,EAAQ5B,KAClDoF,EAAWX,EAAYY,SACO,iBAAtBZ,EAAYY,OACdZ,EAAYY,OACZZ,EAAYY,OAAOlF,IACzBkF,EAASD,EAAWD,EAAYG,MAAK,SAAU1E,GAAK,OAAOA,EAAET,KAAOiF,KAAe,KACnFG,GAA2C,QAA3BvG,EAAKyF,EAAYpE,YAAyB,IAAPrB,OAAgB,EAASA,EAAGV,QAC7EmG,EAAYpE,KACwI,QAAnJsE,EAA6F,QAAvFD,EAAgB,OAAXW,QAA8B,IAAXA,OAAoB,EAASA,EAAOG,6BAA0C,IAAPd,OAAgB,EAASA,EAAGhH,KAAK2H,UAA4B,IAAPV,EAAgBA,EAAK,GACnLc,EAAWlF,IAAUxB,EAAK,IAAOiB,GAAmd,QAA1cgF,EAAqR,QAA/QF,EAA2F,QAArFF,EAAqB,OAAhBH,QAAwC,IAAhBA,OAAyB,EAASA,EAAY9C,YAAyB,IAAPiD,EAAgBA,EAAyF,QAAnFC,EAAgB,OAAXQ,QAA8B,IAAXA,OAAoB,EAASA,EAAOK,yBAAsC,IAAPb,OAAgB,EAASA,EAAGnH,KAAK2H,EAAQZ,UAAiC,IAAPK,EAAgBA,EAA0F,QAApFC,EAAgB,OAAXM,QAA8B,IAAXA,OAAoB,EAASA,EAAOM,0BAAuC,IAAPZ,OAAgB,EAASA,EAAGrH,KAAK2H,EAAQZ,UAAiC,IAAPO,EAAgBA,EAAK,KAAMjG,GAAsC,QAA/BkG,EAAKR,EAAYgB,gBAA6B,IAAPR,EAAgBA,EAAK,IAC9lB,OAAO,OAAqB,CACxB9E,GAA8B,QAAzB+E,EAAKT,EAAYtE,UAAuB,IAAP+E,EAAgBA,GAAK,SAC3D5D,QAASmD,EAAYnD,QACrBsE,YAAanB,EAAYmB,YACzBC,OAAQpB,EAAYoB,OACpB7D,KAAMyC,EAAYzC,MAAQ,GAC1B8D,mBAAoBrB,EAAYqB,mBAChCT,OAAQA,EACF,CACElF,GAAIkF,EAAOlF,GACXG,QAAS+E,EAAO/E,cAElByF,EACN1F,KAAsB,OAAhBkF,QAAwC,IAAhBA,OAAyB,EAASA,EAAYjB,KAAI,SAAU/G,GACtF,OAAO2G,EAAU3G,EAAG,CAChByC,KAAMA,EACNmF,aAAa,OAAoBA,EAAa,CAC1CC,SAAUA,EACVzD,MAAM,OAAY,CACd8D,SAAUA,GACXzF,UAIfyF,SAAUA,KAGdO,EAAS,SAAUzE,GACnB,OAAO,SAAUK,GACb,OAAO,SAAU6C,EAAawB,EAAQC,EAAepE,QACrC,IAARA,IAAkBA,GAAM,UAC5B,IAAIqE,EAAO3B,EAAWC,EAAa7C,GAC/BwE,GAAS3B,EAAYtE,GACzB,OAAOkG,EAAe9E,EAAf8E,CAAqBF,EAAMF,EAAQ1F,EAASA,EAAS,GAAI2F,GAAgB,CAAEI,YAA+B,OAAlBJ,QAA4C,IAAlBA,OAA2B,EAASA,EAAcI,aAAeF,IAAUtE,MAI5MuE,EAAiB,SAAU9E,GAC3B,OAAO,SAAU4E,EAAMpH,EAAImH,EAAepE,GACtC,IAAI9C,EAAI0F,EACJ9B,EAAU7D,EAAGoB,GAAI0F,EAAS9G,EAAG8G,OAAQC,EAAqB/G,EAAG+G,mBAAoBnB,EAAK5F,EAAG8D,YAAaA,OAAqB,IAAP8B,EAAgB,GAAKA,OACjI,IAAR7C,IAAkBA,GAAM,UAC5B,IAAIY,EAAqG,QAA5F1D,EAAuB,OAAlBkH,QAA4C,IAAlBA,OAA2B,EAASA,EAAcxD,aAA0B,IAAP1D,EAAgBA,EAAK,EAClIT,EAAImE,EACR,OAAQnB,GACJ,KAAKmC,EACL,KAAKC,EAML,KAAKC,EACL,KAAKC,GACIgC,GAAUC,IAAuBpD,EAAQ,IAC1CnE,EAAI,GAMhB,IAAIgI,EAAe,CACfhF,KAAMA,EACNC,GAAI,IAAIC,KACR+E,KAAML,EACNvD,QAAmB,IAAVF,EAAcE,EAAsD,QAA3C8B,EAAK7B,EAAYC,KAAKC,IAAIL,EAAQ,WAAwB,IAAPgC,EAAgBA,EAAK9B,EAC1GF,MAAOnE,EAIPuD,IAAKA,EACL2E,YAA+B,OAAlBP,QAA4C,IAAlBA,OAA2B,EAASA,EAAcO,aAG7F,OAAO,SAAUxG,GACbA,EAASsG,IACa,OAAlBL,QAA4C,IAAlBA,OAA2B,EAASA,EAAcI,cAC5ErG,GAAS,WACTyG,YAAW,WACP,IAAI3H,EAAIC,EAAI0F,EAAIC,EAAIC,EACpB3E,GAAS,QAEuN,QAA/N2E,EAAmL,QAA7KD,EAAiI,QAA3HD,EAA4E,QAAtE1F,EAA0B,QAApBD,EAAKoH,EAAK9F,YAAyB,IAAPtB,OAAgB,EAASA,EAAG,UAAuB,IAAPC,OAAgB,EAASA,EAAGqF,aAA0B,IAAPK,OAAgB,EAASA,EAAG,UAAuB,IAAPC,OAAgB,EAASA,EAAGxE,UAAuB,IAAPyE,EAAgBA,EAAK2B,EAAazE,IAAI0E,MAAM,MACrR,OAQRG,EAAkBX,EAAOrC,GAIzBiD,EAAkBZ,EAAOtC,GAIzBmD,EAAoBb,EAAOnC,GAI3BiD,EAAmBd,EAAOpC,GAI1BmD,EAAuBf,EAAOlC,GAI9BkD,EAAwBhB,EAAOjC,GAC/BkD,EAAqBjB,EAAOhC,GAC5BkD,EAAwBlB,EAAO/B,GAC/BkD,EAAgB,SAAUzH,EAAMkC,GACvC,IAAIuE,GAAO,OAAMzG,GACX,CACES,IAAI,SACJE,KAAM,CAACX,IAETA,EACN,OAAO0H,EAAcjB,EAAMvE,IAEpBwF,EAAgB,SAAUZ,EAAM5E,GACvC,IAAI7C,EAAIC,EACJqI,GAAiB,OAAgBb,GAYrC,OAXaH,EAAe1C,EAAf0C,CAAkCgB,EAAgB,CAC3DxE,YAAa,GACb1C,GAA2F,QAAtFpB,EAAiB,OAAZ6C,QAAgC,IAAZA,OAAqB,EAASA,EAAQ0F,yBAAsC,IAAPvI,EAAgBA,EAAKyH,EAAKrG,GAC7H2F,mBAAoBU,EAAKV,mBACzBD,OAAQW,EAAKX,OACb0B,OAAQ,KACRnC,SAAiC,QAAtBpG,EAAKwH,EAAKnB,cAA2B,IAAPrG,OAAgB,EAASA,EAAGmB,IACtE,CACCuC,MAAO,EACP4D,YAAY,M,sVC1Lb,IAAIkB,EAAgC,gCAChCC,EAAmB,mBAEnBC,EAAuB,UACvBC,EAAsB,SACtBC,EAAoB,OACpBC,EAAsB,SACtBC,EAAwB,WACxBC,EAAmB,mBACnBC,EAAuBJ,EAC9BK,EAAiB,SAAU9F,EAAM+F,GACjC,OAAO,WAAc,MAAO,CACxB3G,KAAMkG,EACNjG,GAAI,IAAIC,KACRU,KAAMA,EACN+F,gBAAiBA,KAGdC,EAA4B,SAAUD,GAAmB,MAAO,CACvE3G,KAAMiG,EACNhG,GAAI,IAAIC,KACRyG,gBAAiBA,IAKVE,EAAU,SAAUjG,EAAM+F,GAAmB,MAAO,CAC3D3G,KAAMkG,EACNjG,GAAI,IAAIC,KACRU,KAAMA,EACN+F,gBAAiBA,IASVG,GAJaJ,EAAeJ,GAIjBI,EAAeL,IAgB1BU,GAZcL,EAAeP,GAIhBO,EAAeN,GAIfM,EAAeH,GAIlB,SAAUS,GAAQ,MAAO,CAC1ChH,KAAMwG,EACNQ,KAAMA,M,qECxDCC,EAAc,WACrB,MAAO,CACHrC,MAAM,SACNK,MAAM,SACNiC,OAAQ,EAAC,UAAY,UAAY,a,4ECLlC,IAAIC,EAAW,WACX3I,EAAU,SAAUC,GAAQ,MAAO,CAC1CuB,KAAMmH,EACN1I,KAAMA,K,4FCFC2I,EAAe,eACfC,EAAc,SAAU7K,GAAS,MAAO,CAC/CwD,KAAMoH,EACNnH,GAAI,IAAIC,KACR1D,MAAOA,EACP+D,KAAK,Y,kQCNE+G,EAAU,SAAU9J,GAC3B,IAAIC,EAEJ,OAAgC,QAAxBA,EADOD,EAAG+J,UAAUC,SACN/I,YAAyB,IAAPhB,EAAgBA,EAAK,W,iCCH7DuB,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAcrB2K,EAAiB,WACxB,OAAO,IAAAC,YAAW,OAEXC,GAAiB,IAAArK,eAAc,KAY/BsK,EAAY,SAAUC,GAC7B,IACIC,GARqC,IAAAJ,YAAWC,GAQ/BE,GACjBE,GAAa,IAAAC,QAAOF,GAIxB,OAHK,EAAAG,EAAA,GAAWF,EAAWG,QAASJ,KAChCC,EAAWG,QAAUJ,GAElBC,EAAWG,SAKXC,EAAkB,WACzB,IAAIC,EAAeR,EAAU,gBAC7B,MAAO,CACHzI,EAAG,SAAU0I,GACT,IAAIrK,EAAIC,EACR,OAA4I,QAApIA,EAA8F,QAAxFD,EAAsB,OAAjB4K,QAA0C,IAAjBA,OAA0B,EAASA,EAAaP,UAAyB,IAAPrK,EAAgBA,EAAKqK,SAAwB,IAAPpK,EAAgBA,EAAK,QAO1K4K,EAAU,WACjB,OAAO,QAAYf,IAKZgB,EAAiB,WACxB,OAAO,QAAqB,QAAgB,iBAKrCC,EAAyB,SAAUC,GAC1C,IAAIC,GAAgB,UAChBjM,EAAQ,WAAc,WAAc,OAAQwC,EAASA,EAAS,GAAIyJ,GAAgB,CAAED,aAAa,OAAqBA,OAAqB,CAACC,EAAeC,KAAKC,UAAUH,KAC9K,MAA2B,qBAAhBA,GAA8C,MAAfA,EAC/B,CAACI,EAAA,EAAcpM,GAGf,CAAC,cAA+BA,K,4IC9EpCqM,GAAuB,IAAAvL,eAAc,KAMrCwL,EAAmB,WAAc,OAAO,IAAApB,YAAWmB,IAMnDE,EAAkB,SAAUlB,GACnC,IACIC,EADUgB,IACOjB,GACjBE,GAAa,IAAAC,QAAOF,GAIxB,OAHK,OAAWC,EAAWG,QAASJ,KAChCC,EAAWG,QAAUJ,GAElBC,EAAWG,U,sBCnBf,IAAIc,E,uDACX,SAAWA,GACPA,EAAsB,QAAI,UAC1BA,EAAuB,SAAI,WAC3BA,EAAoB,MAAI,QACxBA,EAAoB,MAAI,QACxBA,EAA0B,YAAI,cAC9BA,EAA2B,aAAI,eANnC,CAOGA,IAAiBA,EAAe,KAI5B,IAAIC,GAAe,G,iHCZfC,EAAkB,CACzBC,qBAAqB,EACrBC,uBAAuB,EACvBC,iBAAkB,GAClBC,WAAY,GACZC,UAAW,GACXnB,aAAc,KACdoB,aAAa,EACbC,YAAa,CAAC,EAAG,IAAM,GAAK,KAC5BC,iBAAiB,EACjBC,aAAa,EACbC,eAAe,EACfC,eAAe,EACfC,eAAe,EACfC,gBAAgB,EAChBC,WAAY,KACZC,oBAAqB,KACrBC,kBAAkB,EAClBxM,WAAY,GACZC,MAAO,KACPwM,mBAAmB,EACnBC,gCAAgC,EAChCC,6BAA6B,EAC7BC,gBAAiB,gBACjBC,cAAe,GACfC,QAAS,KAEFC,EAAyB,CAChC7G,YAAa,GACb4E,YAAa,O,+LC/BbxJ,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAE5BpB,EAAkC,SAAUC,EAAGC,GAC/C,IAAIC,EAAsB,oBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAgBA,KAAM,MAAQI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAEQ,OAExE,MAAOC,GAASR,EAAI,CAAEQ,MAAOA,GAC7B,QACI,IACQT,IAAMA,EAAEM,OAAST,EAAIK,EAAU,SAAIL,EAAEM,KAAKD,GAElD,QAAU,GAAID,EAAG,MAAMA,EAAEQ,OAE7B,OAAOL,GAEPM,EAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUC,OAAc,IAAK,IAA4BX,EAAxBF,EAAI,EAAGc,EAAIJ,EAAKG,OAAYb,EAAIc,EAAGd,KACxEE,GAAQF,KAAKU,IACRR,IAAIA,EAAKa,MAAMC,UAAUC,MAAMhB,KAAKS,EAAM,EAAGV,IAClDE,EAAGF,GAAKU,EAAKV,IAGrB,OAAOS,EAAGS,OAAOhB,GAAMa,MAAMC,UAAUC,MAAMhB,KAAKS,KA0G3CkG,EAAQ,SAAU4H,EAAOC,EAAQC,QAC1B,IAAVF,IAAoBA,EAAQ,SAClB,IAAVE,IAAoBA,EAAQ,GAChC,IAAIC,EAAqB,IAAVD,GAAgC,IAAjBF,EAAM3N,OAAe,CAZZ,CACvC6B,IAAI,EAAAC,EAAA,KACJC,KAAM,CACF,CACIF,IAAI,EAAAC,EAAA,KACJiE,MAAO,OAO0D4H,EACzE,OAAQC,EAAO3K,MACX,KAAK,KAED6K,GAAW,QAAYA,EAAUF,GACjC,MACJ,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACDE,EAAWA,EAASC,QAAO,SAAU9H,GAAK,OAAOA,EAAEpE,KAAO+L,EAAO1F,KAAKrG,MACtE,MACJ,KAAK,KACDiM,EAAWA,EACNC,QAAO,SAAU9H,GAAK,OAAOA,EAAEpE,KAAO+L,EAAO1F,KAAKrG,MAClDmE,KAAI,SAAUC,GACf,OAAO2H,EAAOtJ,UAAY2B,EAAEpE,GACtB,CACEI,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,OACnEtF,EAASA,EAAS,GAAIgE,GAAI,CAAEpE,GAAI+L,EAAOpK,IAAI2G,OAAO,MAEpD,CAAClE,MAEN+H,OAAO,KAAS,IACrB,MACJ,KAAK,KACDF,EAAWA,EACNC,QAAO,SAAU9H,GAAK,OAAOA,EAAEpE,KAAO+L,EAAO1F,KAAKrG,MAClDmE,KAAI,SAAUC,GACf,OAAO2H,EAAOtJ,UAAY2B,EAAEpE,GACtB,CACEI,EAASA,EAAS,GAAIgE,GAAI,CAAEpE,GAAI+L,EAAOpK,IAAI2G,OAAO,KAClDlI,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,QAErE,CAACtB,MAEN+H,OAAO,KAAS,IACrB,MACJ,KAAK,KACL,KAAK,KACDF,EAAWA,EACNC,QAAO,SAAU9H,GAAK,OAAOA,EAAEpE,KAAO+L,EAAO1F,KAAKrG,MAClDmE,KAAI,SAAUC,GACf,OAAI2H,EAAOtJ,UAAY2B,EAAEpE,GACd,CACH,CACIA,GAAI+L,EAAOpK,IAAIqE,KACf9F,KAAM,CACF,CACIF,GAAI+L,EAAOpK,IAAI2G,OAAO,GACtBpE,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAEX,OAAQqG,EAAO3K,OAAS,KACpD,QACA,OAAQpB,GAAI+L,EAAOpK,IAAI0E,KAAMxE,KAAM,IAC7CzB,EAASA,EAAS,GAAIgE,GAAI,CAAEpE,GAAI+L,EAAOpK,IAAI2G,OAAO,GAAI5C,OAAQ,KAAMC,mBAAoBoG,EAAOpK,IAAI0E,KAAMxE,KAAM,SAOhI,CAACuC,MAEP+H,OAAO,KAAS,IACrB,MACJ,KAAK,KACDF,EAAWA,EAASC,QAAO,SAAUtN,GACjC,IAAIoB,EAAKpB,EAAGoB,GACZ,OAAQ+L,EAAOpK,IAAIyK,SAASpM,MAKxC,IAAIqM,EAAeJ,EAAS9H,KAAI,SAAUC,GAAK,OA/KxC,SAAU5D,EAAG8L,EAAGN,GACvB,OAAO,EAAAO,EAAA,IAAa,SAAWT,EAAOC,GAClC,IAAInN,EAAIC,EACJ0F,EAAIC,EAAIC,EACR0H,EAAS,WACT,IAAIvN,EACJ,OAAO,EAAA4N,EAAA,GAAqBpM,EAASA,EAAS,GAAI0L,GAAQ,CAAE5L,KAAMA,EAA2B,QAArBtB,EAAKkN,EAAM5L,YAAyB,IAAPtB,EAAgBA,EAAK,GAAImN,EAAQC,EAAQ,OAElJ,OAAQD,EAAO3K,MACX,KAAK,KACD,GAAI2K,EAAO/L,KAAO8L,EAAM9L,GAAI,CACxB,IAAIyM,EAAUN,IACd,OAAIJ,EAAOlM,KACAO,EAASA,EAAS,GAAIqM,GAAU,CAAEhH,YAAarF,EAASA,EAAS,GAAoC,QAA9BmE,EAAKkI,EAAQhH,mBAAgC,IAAPlB,EAAgBA,EAAK,KAAO3F,EAAK,GAAIA,EAAGmN,EAAOlM,MAAQkM,EAAO5K,QAASvC,MAGpLwB,EAASA,EAAS,GAAIqM,GAAU,CAAEtL,QAAS4K,EAAO5K,UAGjE,OAAOgL,IACX,KAAK,KACD,GAAIJ,EAAO/L,KAAO8L,EAAM9L,GAAI,CAEpByM,EAAUN,IAAd,IAEIO,EAActM,EAAS,GAAiC,QAA3BoE,EAAKiI,EAAQnH,gBAA6B,IAAPd,EAAgBA,EAAK,IACrFmI,EAA6B,OAAhBZ,EAAOvK,KAIxB,OAHIuK,EAAOlM,MAAQ8M,IACC,OAAhBD,QAAwC,IAAhBA,UAAuCA,EAAYX,EAAOlM,OAE/EO,EAASA,EAAS,GAAIqM,GAAU,CAAEnH,SAAUlF,EAASA,EAAS,GAAqB,OAAhBsM,QAAwC,IAAhBA,EAAyBA,EAAc,IAAQC,EACxF,IAA9C9N,EAAK,GAAIA,EAAGkN,EAAOlM,MAAQkM,EAAOvK,KAAM3C,MAEvD,OAAOsN,IACX,KAAK,KACD,OAAIJ,EAAOtJ,UAAYqJ,EAAM9L,GAClB,CACHA,GAAI+L,EAAOpK,IAAIqE,KACf9F,KAAMA,EAAK,CACP,CACIF,GAAI+L,EAAOpK,IAAI2G,OAAO,GACtBpE,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,SAG3E,CACI1F,GAAI+L,EAAOpK,IAAI2G,OAAO,GACtBpE,MAAO,CAAC9D,EAASA,EAAS,GAAI+L,KAAW,CAAEnM,GAAI+L,EAAOpK,IAAI2G,OAAO,QAEtElI,EAASA,EAAS,GAAI2L,GAAS,CAAEtJ,QAAS,OAASuJ,EAAQ,IAG/DG,IACX,KAAK,KACD,OAAIJ,EAAOtJ,UAAYqJ,EAAM9L,GAClB,CACHA,GAAI+L,EAAOpK,IAAIqE,KACf9F,KAAMA,EAAK,CACP,CACIF,GAAI+L,EAAOpK,IAAI2G,OAAO,GACtBpE,MAAO,CAAC9D,EAASA,EAAS,GAAI+L,KAAW,CAAEnM,GAAI+L,EAAOpK,IAAI2G,OAAO,OAErE,CACItI,GAAI+L,EAAOpK,IAAI2G,OAAO,GACtBpE,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,UAG5EtF,EAASA,EAAS,GAAI2L,GAAS,CAAEtJ,QAAS,OAASuJ,EAAQ,IAG/DG,IACX,KAAK,KACD,OAAIJ,EAAOtJ,UAAYqJ,EAAM9L,GAClBI,EAASA,EAAS,GAAI0L,GAAQ,CAAE5L,KAAMpC,EAAcA,EAAc,GAAIhB,EAA8B,QAArB2H,EAAKqH,EAAM5L,YAAyB,IAAPuE,EAAgBA,EAAK,KAAM,GAAQ,CAC9I,CACIzE,GAAI+L,EAAOpK,IAAI2G,OAAO,GACtBpE,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,WAG5E,KAEJyG,IAEX,QACI,OAAOA,KArFC,CAuFjB3L,EAAG8L,IAuFgDtG,CAAK5B,EAAG2H,EAAQC,MACtE,OAAO,EAAAO,EAAA,IAAcF,IAErBO,EAAM,SAAUpM,EAAG8L,EAAGN,GACtB,OAAO,EAAAO,EAAA,IAAY,SAAWT,EAAOC,GACjC,IAAII,EAAS,WAAc,OAAQ/L,EAASA,EAAS,GAAI0L,GAAQ,CAAE5H,MAAOA,EAAM4H,EAAM5H,MAAO6H,EAAQC,EAAQ,MAC7G,OAAQD,EAAO3K,MACX,KAAK,KACD,OAAI2K,EAAOtJ,UAAYqJ,EAAM9L,GAClBmM,IAEJ/L,EAASA,EAAS,GAAI0L,GAAQ,CAAE5H,MAAOA,EAAMpG,EAAc,CAC1DsC,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,QACpE5I,EAAOgP,EAAM5H,QAAQ,GAAQ9D,EAASA,EAAS,GAAI2L,GAAS,CAAEtJ,QAAS,OAASuJ,EAAQ,KACnG,KAAK,KACD,OAAID,EAAOtJ,UAAYqJ,EAAM9L,GAClBmM,IAEJ/L,EAASA,EAAS,GAAI0L,GAAQ,CAAE5H,MAAOA,EAAMpG,EAAcA,EAAc,GAAIhB,EAAOgP,EAAM5H,QAAQ,GAAQ,CACzG9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,SACpE,GAAQtF,EAASA,EAAS,GAAI2L,GAAS,CAAEtJ,QAAS,OAASuJ,EAAQ,KAO9E,QACI,OAAOG,KAxBA,CA0BhB3L,EAAG8L,KAECpM,EAAO,SAAUM,EAAG8L,EAAGN,GAG9B,YAFU,IAANxL,IAAgBA,EAAI,SACV,IAAVwL,IAAoBA,EAAQ,IACzB,EAAAO,EAAA,IAEP,SAAWT,EAAOC,GAEd,OAAQA,EAAO3K,MACX,KAAK,KACD,OAAO0K,EACF3H,KAAI,SAAU/G,GACf,OAAO2O,EAAOtJ,UAAYrF,EAAE4C,GACtB,CACE,CACIkE,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,QAEvE1F,GAAI+L,EAAOpK,IAAI2G,OAAO,IAE1BlI,EAASA,EAAS,GAAIhD,GAAI,CAAE4C,GAAI+L,EAAOpK,IAAI2G,OAAO,MAEpD,CAAClL,MAEN+O,OAAO,KAAS,IAChBhI,KAAI,SAAU/G,GAAK,OAAOwP,EAAIxP,EAAG2O,EAAQC,MAClD,KAAK,KACD,OAAOF,EACF3H,KAAI,SAAU/G,GACf,OAAO2O,EAAOtJ,UAAYrF,EAAE4C,GACtB,CACEI,EAASA,EAAS,GAAIhD,GAAI,CAAE4C,GAAI+L,EAAOpK,IAAI2G,OAAO,KAClD,CACIpE,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,QAEvE1F,GAAI+L,EAAOpK,IAAI2G,OAAO,KAG5B,CAAClL,MAEN+O,OAAO,KAAS,IAChBhI,KAAI,SAAU/G,GAAK,OAAOwP,EAAIxP,EAAG2O,EAAQC,MAClD,KAAK,KAWD,OAVwB,IAAVA,EACRF,EACAhO,EAAcA,EAAc,GAAIhB,EAAOgP,IAAQ,GAAQ,CACrD,CACI5H,MAAO,CACH9D,EAASA,EAAS,GAAI2L,EAAO1F,MAAO,CAAErG,GAAI+L,EAAOpK,IAAI0E,KAAMX,OAAQ,QAEvE1F,GAAI+L,EAAOpK,IAAI2G,OAAO,MAE3B,IACQnE,KAAI,SAAU/G,GAAK,OAAOwP,EAAIxP,EAAG2O,EAAQC,MAE5D,QACI,OAlD0BF,EAAM3H,KAAI,SAAU/G,GAAK,OAAOwP,EAAIxP,EAAG2O,EAAQC,OADrF,CAqDGxL,EAAG8L,KCnTN,EAAsC,WAStC,OARA,EAAWjM,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJ,EAASZ,MAAMT,KAAMhB,YCJrB2O,GAAS,SDQD,SAAUf,EAAOC,GAChC,GACS,iBADDA,EAAO3K,KAEP,OAAO2K,EAAOnO,MAGtB,IAAIkP,GAAqB,OAAVhB,QAA4B,IAAVA,OAAmB,EAASA,EAAM5L,OAC7D,EAAA6M,EAAA,GAAuB7M,EAAK4L,EAAM5L,KAAM6L,EAAQ,IAChD,GACN,OAAO,EAAS,EAAS,GAAID,GAAQ,CAAE5L,KAAM4M,MCjBb,CAChCZ,OAAQ,SAAqBH,EAAQiB,EAAcC,GAE/C,QAAe,OAAXlB,QAA8B,IAAXA,OAAoB,EAASA,EAAOzF,cAG5C,CACX,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACF4G,QAAQnB,EAAO3K,OAAS,GAG9B+L,kBAAkB,EAClBC,YAAY,I,UC5BZ,EAAsC,WAStC,OARA,EAAW/M,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJ,EAASZ,MAAMT,KAAMhB,YCT5B,EAAsC,WAStC,OARA,EAAWmC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJ,EAASZ,MAAMT,KAAMhB,YAE5B,EAAkC,SAAUnB,EAAGC,GAC/C,IAAIC,EAAsB,oBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAgBA,KAAM,MAAQI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAEQ,OAExE,MAAOC,GAASR,EAAI,CAAEQ,MAAOA,GAC7B,QACI,IACQT,IAAMA,EAAEM,OAAST,EAAIK,EAAU,SAAIL,EAAEM,KAAKD,GAElD,QAAU,GAAID,EAAG,MAAMA,EAAEQ,OAE7B,OAAOL,GAEP,EAAgD,SAAUO,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUC,OAAc,IAAK,IAA4BX,EAAxBF,EAAI,EAAGc,EAAIJ,EAAKG,OAAYb,EAAIc,EAAGd,KACxEE,GAAQF,KAAKU,IACRR,IAAIA,EAAKa,MAAMC,UAAUC,MAAMhB,KAAKS,EAAM,EAAGV,IAClDE,EAAGF,GAAKU,EAAKV,IAGrB,OAAOS,EAAGS,OAAOhB,GAAMa,MAAMC,UAAUC,MAAMhB,KAAKS,KAGlDqP,EAAe,SAAUvB,EAAOwB,GAChC,IAAI1O,EAAIC,EACJ0O,EAA0L,QAA/K1O,EAA4E,QAAtED,EAAe,OAAVkN,QAA4B,IAAVA,OAAmB,EAASA,EAAMyB,eAA4B,IAAP3O,OAAgB,EAASA,EAAGsN,QAAO,SAAUlP,GAAK,OAAQsQ,EAAYlB,SAASpP,aAA2B,IAAP6B,EAAgBA,EAAK,GAC3N,OAAuB,IAAnB0O,EAAQpP,OACD,KAEJ,EAAS,EAAS,GAAI2N,GAAQ,CAAEyB,QAASA,K,qBC3ChD,EAAsC,WAStC,OARA,EAAWlN,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJ,EAASZ,MAAMT,KAAMhB,YCH5BsP,GAAU,QAAgB,CAC1BX,OAAQA,EACRY,QHKiB,SAAU3B,EAAOC,GAKlC,YAJc,IAAVD,IAAoBA,EAAQ,CAC5B9J,KAAM,KACNoG,KAAM,IAEF2D,EAAO3K,MACX,KAAK,KACD,OAAO,EAAS,EAAS,GAAI0K,GAAQ,CAAE1D,KAAM2D,EAAO3D,OAExD,KAAK,KACD,OAAO,EAAS,EAAS,GAAI0D,GAAQ,CAAE/D,gBAAiBgE,EAAOhE,kBACnE,KAAK,KACD,OAAO,EAAS,EAAS,GAAI+D,GAAQ,CAAE9J,KAAM8J,EAAM9J,KAAM+F,gBAAiB,OAE9E,KAAK,KACD,OAAO,EAAS,EAAS,GAAI+D,GAAQ,CAAE9J,KAAM+J,EAAO/J,KAAM+F,gBAAiBgE,EAAOhE,iBAAmB+D,EAAM/D,kBAC/G,QACI,OAAO+D,IGrBf4B,MFoCe,SAAU5B,EAAOC,GAChC,IAAInN,EAAIC,EAAI0F,EAAIC,EAEhB,YADc,IAAVsH,IAAoBA,EAAQ,MACxBC,EAAO3K,MACX,IAAK,cACD,OAAOiM,EAAavB,EAAOC,EAAOpK,KAEtC,KAAK,KAMD,MAAO,CACH4L,QAN0B,QAAhBxB,EAAO/J,MACyD,QAAtEpD,EAAe,OAAVkN,QAA4B,IAAVA,OAAmB,EAASA,EAAMyB,eAA4B,IAAP3O,OAAgB,EAASA,EAAGwN,SAASL,EAAO/L,KACrB,QAAlGuE,EAAiD,QAA3C1F,EAAKwO,EAAavB,EAAO,CAACC,EAAO/L,YAAyB,IAAPnB,OAAgB,EAASA,EAAG0O,eAA4B,IAAPhJ,EAAgBA,EAAK,GAChI,EAAc,EAAc,GAAI,EAA+E,QAAtEC,EAAe,OAAVsH,QAA4B,IAAVA,OAAmB,EAASA,EAAMyB,eAA4B,IAAP/I,EAAgBA,EAAK,KAAM,GAAQ,CAACuH,EAAO/L,KAAK,GAC3K,CAAC+L,EAAO/L,IAGV+B,aAAcgK,EAAOhK,cAAe,IAAIT,MAAOqM,UAAY,MAGnE,KAAK,KACD,OAAO,KACX,KAAK,KACD,OAAON,EAAavB,EAAO,CAACC,EAAO/L,KAEvC,QACI,OAAO8L,IE3DflD,SDEkB,SAAUkD,EAAOC,GAInC,YAHc,IAAVD,IAAoBA,EAAQ,CAC5BjM,KAAM,OAEFkM,EAAO3K,OACN,IACM,EAAS,EAAS,GAAI0K,GAAQ,CAAEjM,KAAMkM,EAAOlM,OAE7CiM,GCTfxJ,MCVe,SAAUwJ,EAAOC,GAEhC,YADc,IAAVD,IAAoBA,EAAQ,MACxBC,EAAO3K,MACX,KAAK,IACD,MAAO,CACHhC,OAAQ2M,EAAOtJ,QACfD,SAAUuJ,EAAOvJ,UAGzB,KAAK,KACD,OAAO,KACX,QACI,OAAOsJ,IDDf8B,YAAa,WAAc,OAAO,QAGtC,GAAe,QAAgB,CAAEjF,UAAW6E,IACrC,SAASxO,EAAapB,EAAOiC,GAChC,MAAO,CACH8I,UAAW,CACPiF,YAAa,GACbtL,MAAO,KACPoL,MAAO,KACPD,QAAS,CACLzL,KAAM,OACNoG,KAAM,GAEVQ,SAAU,CACN/I,KAAMA,GAEVgN,OAAQ,CACJgB,KAAM,GACNC,QAASlQ,EACTmQ,OAAQ,Q,gIEhCpB3N,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAE5B8P,EAAkC,SAAUxN,EAAGnD,GAC/C,IAAIkD,EAAI,GACR,IAAK,IAAIE,KAAKD,EAAOH,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,IAAMpD,EAAE6P,QAAQzM,GAAK,IAC9EF,EAAEE,GAAKD,EAAEC,IACb,GAAS,MAALD,GAAqD,oBAAjCH,OAAO4N,sBACtB,KAAI3Q,EAAI,EAAb,IAAgBmD,EAAIJ,OAAO4N,sBAAsBzN,GAAIlD,EAAImD,EAAEtC,OAAQb,IAC3DD,EAAE6P,QAAQzM,EAAEnD,IAAM,GAAK+C,OAAO/B,UAAU4P,qBAAqB3Q,KAAKiD,EAAGC,EAAEnD,MACvEiD,EAAEE,EAAEnD,IAAMkD,EAAEC,EAAEnD,KAE1B,OAAOiD,GAKA4N,EAAe,gBAAoB,MAEnCC,EAAgB,SAAUxP,GACjC,IAAIG,EAAQH,EAAGG,MAAOsP,EAAQL,EAAOpP,EAAI,CAAC,UAC1C,OAAQ,gBAAoB,KAAUwB,EAAS,CAAErB,MAAOA,EAAOuP,QAASH,GAAgBE,KAGjFE,IADW,QAAgBJ,IACb,QAAmBA,IAGjCK,GAAc,QAAmBL,I,6FCnCxC/N,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAE5BuQ,EAAsC,SAAS1R,GAC/C,IAAIyD,EAAsB,oBAAXtD,QAAyBA,OAAOC,SAAUF,EAAIuD,GAAKzD,EAAEyD,GAAIlD,EAAI,EAC5E,GAAIL,EAAG,OAAOA,EAAEM,KAAKR,GACrB,GAAIA,GAAyB,kBAAbA,EAAEoB,OAAqB,MAAO,CAC1CV,KAAM,WAEF,OADIV,GAAKO,GAAKP,EAAEoB,SAAQpB,OAAI,GACrB,CAAEa,MAAOb,GAAKA,EAAEO,KAAMI,MAAOX,KAG5C,MAAM,IAAI2R,UAAUlO,EAAI,0BAA4B,oCAEpD1D,EAAkC,SAAUC,EAAGC,GAC/C,IAAIC,EAAsB,oBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAgBA,KAAM,MAAQI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAEQ,OAExE,MAAOC,GAASR,EAAI,CAAEQ,MAAOA,GAC7B,QACI,IACQT,IAAMA,EAAEM,OAAST,EAAIK,EAAU,SAAIL,EAAEM,KAAKD,GAElD,QAAU,GAAID,EAAG,MAAMA,EAAEQ,OAE7B,OAAOL,GAEPM,EAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUC,OAAc,IAAK,IAA4BX,EAAxBF,EAAI,EAAGc,EAAIJ,EAAKG,OAAYb,EAAIc,EAAGd,KACxEE,GAAQF,KAAKU,IACRR,IAAIA,EAAKa,MAAMC,UAAUC,MAAMhB,KAAKS,EAAM,EAAGV,IAClDE,EAAGF,GAAKU,EAAKV,IAGrB,OAAOS,EAAGS,OAAOhB,GAAMa,MAAMC,UAAUC,MAAMhB,KAAKS,KAIlD2Q,EAAW,SAAUC,EAAOxP,EAAQyP,GACpC,IAAIC,EAAKlQ,OACS,IAAdiQ,IAAwBA,EAAY,IACxC,IACI,IAAK,IAAIE,EAAUN,EAASG,GAAQI,EAAYD,EAAQtR,QAASuR,EAAUtR,KAAMsR,EAAYD,EAAQtR,OAAQ,CACzG,IAAI8B,EAAOyP,EAAUpR,MACrB,GAAI2B,EAAKS,KAAOZ,EACZ,MAAO,CACHG,KAAMA,EACNsP,UAAWA,GAInB,IAAI,OAAMtP,IAASA,EAAK2E,OAEpB,GADI+K,EAAQN,EAASpP,EAAK2E,MAAO9E,EAAQtB,EAAc,CAACyB,GAAOzC,EAAO+R,IAAY,IAE9E,OAAOI,OAGV,KAAK,OAAM1P,IAASA,EAAKW,KAAM,CAChC,IAAI+O,EACJ,GADIA,EAAQN,EAASpP,EAAKW,KAAMd,EAAQtB,EAAc,CAACyB,GAAOzC,EAAO+R,IAAY,IAE7E,OAAOI,IAKvB,MAAOC,GAASJ,EAAM,CAAEjR,MAAOqR,GAC/B,QACI,IACQF,IAAcA,EAAUtR,OAASkB,EAAKmQ,EAAQI,SAASvQ,EAAGrB,KAAKwR,GAEvE,QAAU,GAAID,EAAK,MAAMA,EAAIjR,OAEjC,OAAO,MAaAuR,EAAkB,SAAUtD,EAAO1M,GAC1C,IAAIR,EAAIC,EAOR,GAHKiN,EAAMnD,UAAUiF,cACjB9B,EAAMnD,UAAUiF,YAAc,IAE9B9B,EAAMnD,UAAUiF,YAAYxO,GAE5B,OAAO0M,EAAMnD,UAAUiF,YAAYxO,GAEvC,KAAwC,QAAjCR,EAAKkN,EAAMnD,UAAUkE,cAA2B,IAAPjO,OAAgB,EAASA,EAAGkP,SACxE,OAAO,KAEX,IAAIuB,EAASV,EAAS,CAClBvO,EAASA,EAAS,GAAsC,QAAjCvB,EAAKiN,EAAMnD,UAAUkE,cAA2B,IAAPhO,OAAgB,EAASA,EAAGiP,SAAU,CAAEwB,QAAQ,KACjHlQ,GAGH,OAFA0M,EAAMnD,UAAUiF,YAAYxO,GAAUiQ,EAE/BA,GAEAE,EAAe,SAAUzD,GAAS,IAAIlN,EAAIC,EAAI,OAAsI,QAA9HA,EAA8E,QAAxED,EAAe,OAAVkN,QAA4B,IAAVA,OAAmB,EAASA,EAAMnD,iBAA8B,IAAP/J,OAAgB,EAASA,EAAGiO,cAA2B,IAAPhO,OAAgB,EAASA,EAAGiP,U,kHCtH/N1N,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YAKrBsR,EAAkB,SAAUjQ,GACnC,OAAO,OAAQA,EAAM,CACjBkQ,QAAS,SAAUzS,GAAK,OAAQoD,EAASA,EAAS,GAAIpD,GAAI,CAEtDsI,UAAiB,OAANtI,QAAoB,IAANA,OAAe,EAASA,EAAEsI,UAAYwE,KAAK4F,MAAM5F,KAAKC,UAAU/M,EAAEsI,WAAa,GAAItF,IAAI,YACpH2P,OAAQ,SAAU3S,GAAK,OAAQoD,EAASA,EAAS,GAAIpD,GAAI,CAAEgD,IAAI,eAG5D4P,EAAc,SAAUrQ,GAC/B,IAAIyG,GAAO,OAAMzG,GACX,CACES,IAAI,SACJE,KAAM,CAACX,IAETA,EACN,OAAOiQ,EAAgBxJ,K,qEC7BvB5F,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGlD,EAAI,EAAGN,EAAIkB,UAAUC,OAAQb,EAAIN,EAAGM,IAE5C,IAAK,IAAImD,KADTD,EAAItC,UAAUZ,GACO+C,OAAO/B,UAAUoC,eAAenD,KAAKiD,EAAGC,KACzDF,EAAEE,GAAKD,EAAEC,IAEjB,OAAOF,GAEJH,EAAST,MAAMT,KAAMhB,YASrB2R,EAAU,SAAUtQ,EAAMuQ,EAAQ9D,GACzC,IAAIpN,EAAIC,EAAI0F,EAAIC,EAAIC,EAAIC,EAExB,QADc,IAAVsH,IAAoBA,EAAQ,IAC5B,OAAMzM,GAAO,CACb,GAAiC,QAA5BX,EAAKkR,EAAOC,kBAA+B,IAAPnR,OAAgB,EAASA,EAAGrB,KAAKuS,EAAQvQ,EAAMyM,GACpF,OAAOzM,EACX,IAEIyQ,GAA+G,QAAhGzL,EAAwB,QADvC0L,EAAqG,QAAnFpR,EAAoB,QADtCqR,EAAaJ,EAAOH,OAASG,EAAOH,OAAOpQ,EAAMyM,GAASzM,SACG,IAAf2Q,OAAwB,EAASA,EAAWhM,aAA0B,IAAPrF,OAAgB,EAASA,EAAGsF,KAAI,SAAUC,GAAK,OAAOyL,EAAQzL,EAAG0L,EAAQ9D,EAAQ,aAC5H,IAAnBiE,OAA4B,EAASA,EAAe9R,cAA2B,IAAPoG,EAAgBA,EAAK,GAAK,EAC/InE,EAASA,EAAS,GAAI8P,GAAa,CAAEhM,MAAO+L,IAC5CC,EACN,OAAOJ,EAAOK,WACRL,EAAOK,WAAWH,EAAYhE,GAC9BgE,EAGN,GAAkC,QAA7BxL,EAAKsL,EAAOM,mBAAgC,IAAP5L,OAAgB,EAASA,EAAGjH,KAAKuS,EAAQvQ,EAAMyM,GACrF,OAAOzM,EACX,IAAI2Q,EACAD,EACAD,GAA+G,QAAhGtL,EAAwB,QADvCuL,EAAoG,QAAlFxL,EAAoB,QADtCyL,EAAaJ,EAAOL,QAAUK,EAAOL,QAAQlQ,EAAMyM,GAASzM,SACC,IAAf2Q,OAAwB,EAASA,EAAWhQ,YAAyB,IAAPuE,OAAgB,EAASA,EAAGN,KAAI,SAAUC,GAAK,OAAOyL,EAAQzL,EAAG0L,EAAQ9D,EAAQ,aAC3H,IAAnBiE,OAA4B,EAASA,EAAe9R,cAA2B,IAAPuG,EAAgBA,EAAK,GAAK,EAC/ItE,EAASA,EAAS,GAAI8P,GAAa,CAAEhQ,KAAM+P,IAC3CC,EACN,OAAOJ,EAAOO,YACRP,EAAOO,YAAYL,EAAYhE,GAC/BgE,I,4FC1CHM,EAAsB,CAC7B5F,WAAY,CACR6F,aAAc,CACVC,aAAc,CACVC,QAAS,eAKdC,GAAe,OAAYJ","sources":["webpack://_N_E/../packages/editor/lib-es/core/store.js","webpack://_N_E/../packages/editor/lib-es/core/EditorStore.js","webpack://_N_E/../packages/editor/lib-es/core/actions/cell/core.js","webpack://_N_E/../packages/editor/lib-es/core/actions/cell/drag.js","webpack://_N_E/../packages/editor/lib-es/core/actions/cell/insert.js","webpack://_N_E/../packages/editor/lib-es/core/actions/display.js","webpack://_N_E/../packages/editor/lib-es/core/actions/helpers.js","webpack://_N_E/../packages/editor/lib-es/core/actions/setting.js","webpack://_N_E/../packages/editor/lib-es/core/actions/value.js","webpack://_N_E/../packages/editor/lib-es/core/selector/setting.js","webpack://_N_E/../packages/editor/lib-es/core/components/hooks/options.js","webpack://_N_E/../packages/editor/lib-es/core/components/hooks/renderOptions.js","webpack://_N_E/../packages/editor/lib-es/core/const.js","webpack://_N_E/../packages/editor/lib-es/core/defaultOptions.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/value/tree.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/value/index.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/values/index.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/display/index.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/focus/index.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/settings/index.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/index.js","webpack://_N_E/../packages/editor/lib-es/core/reducer/hover/index.js","webpack://_N_E/../packages/editor/lib-es/core/reduxConnect.js","webpack://_N_E/../packages/editor/lib-es/core/selector/editable/index.js","webpack://_N_E/../packages/editor/lib-es/core/utils/cloneWithNewIds.js","webpack://_N_E/../packages/editor/lib-es/core/utils/mapNode.js","webpack://_N_E/../packages/editor/lib-es/ui/defaultTheme/index.js"],"sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducer';\nimport { isProduction } from './const';\n/**\n * Returns a new redux store.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default (function (initialState, middleware) {\n    if (middleware === void 0) { middleware = []; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var v = !isProduction &&\n        typeof window === 'object' &&\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n        : compose;\n    return createStore(rootReducer, initialState, v(applyMiddleware.apply(void 0, __spreadArray(__spreadArray([], __read(middleware), false), [thunk], false))));\n});\n//# sourceMappingURL=store.js.map","import createStore from './store';\nimport { setLang } from './actions/setting';\nimport { findNodeInState } from './selector/editable';\nimport { createContext } from 'react';\nimport { createId } from './utils/createId';\nimport { CURRENT_EDITABLE_VERSION } from './migrations/EDITABLE_MIGRATIONS';\nexport var EditorContext = createContext(null);\nvar EditorStore = /** @class */ (function () {\n    function EditorStore(_a) {\n        var _b = _a.middleware, middleware = _b === void 0 ? [] : _b, store = _a.store, initialState = _a.initialState;\n        var _this = this;\n        this.getNodeWithAncestors = function (nodeId) {\n            return findNodeInState(_this.store.getState(), nodeId);\n        };\n        this.getNode = function (nodeId) {\n            var _a;\n            return (_a = findNodeInState(_this.store.getState(), nodeId)) === null || _a === void 0 ? void 0 : _a.node;\n        };\n        this.store = store || createStore(initialState, middleware);\n        this.middleware = middleware;\n    }\n    EditorStore.prototype.setLang = function (lang) {\n        this.store.dispatch(setLang(lang));\n    };\n    return EditorStore;\n}());\nexport var createEmptyState = function () {\n    return ({ id: createId(), rows: [], version: CURRENT_EDITABLE_VERSION });\n};\nexport default EditorStore;\n//# sourceMappingURL=EditorStore.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var CELL_UPDATE_IS_DRAFT = 'CELL_UPDATE_IS_DRAFT';\nexport var CELL_UPDATE_DATA = 'CELL_UPDATE_DATA';\nexport var CELL_REMOVE = 'CELL_REMOVE';\nexport var CELL_RESIZE = 'CELL_RESIZE';\nexport var CELL_FOCUS = 'CELL_FOCUS';\nexport var CELL_BLUR = 'CELL_BLUR';\nexport var CELL_BLUR_ALL = 'CELL_BLUR_ALL';\nexport var updateCellIsDraft = function (id, isDraft, lang) {\n    if (isDraft === void 0) { isDraft = false; }\n    if (lang === void 0) { lang = null; }\n    return ({\n        type: CELL_UPDATE_IS_DRAFT,\n        ts: new Date(),\n        id: id,\n        isDraft: isDraft,\n        lang: lang,\n    });\n};\nexport var updateCellData = function (id) {\n    return function (data, options) { return (__assign({ type: CELL_UPDATE_DATA, ts: new Date(), id: id, data: data }, options)); };\n};\nexport var removeCells = function (ids) { return ({\n    type: CELL_REMOVE,\n    ts: new Date(),\n    ids: ids,\n}); };\nexport var resizeCell = function (id) {\n    return function (size) {\n        if (size === void 0) { size = 1; }\n        return ({\n            type: CELL_RESIZE,\n            ts: new Date(),\n            id: id,\n            size: size,\n        });\n    };\n};\n/**\n * Dispatch to focus a cell.\n */\nexport var focusCell = function (id, scrollToCell, mode) {\n    if (scrollToCell === void 0) { scrollToCell = false; }\n    if (mode === void 0) { mode = 'replace'; }\n    return ({\n        type: CELL_FOCUS,\n        ts: new Date(),\n        id: id,\n        scrollToCell: scrollToCell,\n        mode: mode,\n    });\n};\n/**\n * Dispatch to blur a cell.\n */\nexport var blurCell = function (id) { return ({\n    type: CELL_BLUR,\n    ts: new Date(),\n    id: id,\n}); };\n/**\n * Dispatch to blur all cells. For example when clicking on document body.\n */\nexport var blurAllCells = function () { return ({\n    type: CELL_BLUR_ALL,\n    ts: new Date(),\n}); };\nexport var coreActions = {\n    blurAllCells: blurAllCells,\n    blurCell: blurCell,\n    focusCell: focusCell,\n    resizeCell: resizeCell,\n    removeCells: removeCells,\n    updateCellData: updateCellData,\n    updateCellIsDraft: updateCellIsDraft,\n};\n//# sourceMappingURL=core.js.map","/**\n * @module src/editor/actions/cell/drag\n */\nimport { PositionEnum } from '../../const';\nexport var CELL_DRAG_HOVER = 'CELL_DRAG_HOVER';\nexport var CELL_DRAG = 'CELL_DRAG';\nexport var CELL_DRAG_CANCEL = 'CELL_DRAG_CANCEL';\nexport var CLEAR_CLEAR_HOVER = 'CLEAR_CLEAR_HOVER';\n/**\n * Creates a redux action for when a cell hovers another item.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHover(drag, hover, level, position))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @param {string} position Can be left, right, above, below.\n * @return {Action}\n */\nexport var cellHover = function (drag, hover, level, position) {\n    var _a, _b;\n    if (level === void 0) { level = 0; }\n    var hoverId = level === 0\n        ? hover.id\n        : (_b = (_a = hover.ancestorIds) === null || _a === void 0 ? void 0 : _a[Math.max(0, level - 1)]) !== null && _b !== void 0 ? _b : hover.id;\n    return {\n        type: CELL_DRAG_HOVER,\n        ts: new Date(),\n        dragId: drag.id,\n        hoverId: hoverId,\n        level: level,\n        position: position,\n    };\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the left.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverLeftOf(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverLeftOf = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.LEFT_OF); };\n/**\n * Creates a redux action for when a cell is hovering another cell on the right.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverRightOf(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverRightOf = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.RIGHT_OF); };\n/**\n * Creates a redux action for when a cell is hovering another cell above.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverAbove(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverAbove = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.ABOVE); };\n/**\n * Creates a redux action for when a cell is hovering another cell below.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverBelow(drag, hover, level))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverBelow = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.BELOW); };\n/**\n * Creates a redux action for when a cell is hovering another cell on the left, but inline (css floating).\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverInlineLeft(drag, hover))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @return {Action}\n */\nexport var cellHoverInlineLeft = function (drag, hover) {\n    return cellHover(drag, hover, 0, PositionEnum.INLINE_LEFT);\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the right, but inline (css floating).\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverInlineRight(drag, hover))\n *\n * @param {PartialCell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @return {Action}\n */\nexport var cellHoverInlineRight = function (drag, hover) {\n    return cellHover(drag, hover, 0, PositionEnum.INLINE_RIGHT);\n};\n/**\n * Creates a redux action for when a cell is being dragged.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(dragCell(cell.id))\n *\n * @param {string} id The id of the cell that is being dragged.\n * @return {Action}\n */\nexport var dragCell = function (id) { return ({\n    type: CELL_DRAG,\n    ts: new Date(),\n    id: id,\n}); };\n/**\n * Creates a redux action to clear hover state of all cells.\n *\n * @return {Action}\n */\nexport var clearHover = function () { return ({\n    type: CLEAR_CLEAR_HOVER,\n    ts: new Date(),\n}); };\n/**\n * Creates a redux action for when cell dragging ends.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(cancelCellDrag(cell.id))\n *\n * @param {string} id\n * @return {Action}\n */\nexport var cancelCellDrag = function () { return ({\n    type: CELL_DRAG_CANCEL,\n    ts: new Date(),\n}); };\nexport var dragActions = {\n    cancelCellDrag: cancelCellDrag,\n    clearHover: clearHover,\n    dragCell: dragCell,\n    cellHoverInlineRight: cellHoverInlineRight,\n    cellHoverInlineLeft: cellHoverInlineLeft,\n    cellHoverBelow: cellHoverBelow,\n    cellHoverAbove: cellHoverAbove,\n    cellHoverRightOf: cellHoverRightOf,\n    cellHoverLeftOf: cellHoverLeftOf,\n    cellHover: cellHover,\n};\n//# sourceMappingURL=drag.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { cloneWithNewIds } from '../../../core/utils/cloneWithNewIds';\nimport { isRow } from '../../types';\nimport { createId } from '../../utils/createId';\nimport { getChildCellPlugins } from '../../utils/getAvailablePlugins';\nimport { getCellData } from '../../utils/getCellData';\nimport { removeUndefinedProps } from '../../utils/removeUndefinedProps';\nimport { editMode } from '../display';\nimport { generateIds } from '../helpers';\nimport { focusCell } from './core';\nexport var CELL_INSERT_ABOVE = 'CELL_INSERT_ABOVE';\nexport var CELL_INSERT_BELOW = 'CELL_INSERT_BELOW';\nexport var CELL_INSERT_LEFT_OF = 'CELL_INSERT_LEFT_OF';\nexport var CELL_INSERT_RIGHT_OF = 'CELL_INSERT_RIGHT_OF';\nexport var CELL_INSERT_INLINE_LEFT = 'CELL_INSERT_INLINE_LEFT';\nexport var CELL_INSERT_INLINE_RIGHT = 'CELL_INSERT_INLINE_RIGHT';\nexport var CELL_INSERT_AT_END = 'CELL_INSERT_AT_END';\nexport var CELL_INSERT_AS_NEW_ROW = 'CELL_INSERT_AS_NEW_ROW';\nexport var createRow = function (partialRow, options) {\n    var _a, _b;\n    if (Array.isArray(partialRow)) {\n        return {\n            id: createId(),\n            cells: partialRow.map(function (c) { return createCell(c, options); }),\n        };\n    }\n    return removeUndefinedProps(__assign(__assign({ id: createId() }, partialRow), { cells: (_b = (_a = partialRow.cells) === null || _a === void 0 ? void 0 : _a.map(function (c) { return createCell(c, options); })) !== null && _b !== void 0 ? _b : [] }));\n};\nexport var createCell = function (partialCell, options) {\n    var _a;\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    var cellPlugins = options.cellPlugins, lang = options.lang;\n    var pluginId = partialCell.plugin &&\n        (typeof partialCell.plugin == 'string'\n            ? partialCell.plugin\n            : partialCell.plugin.id);\n    var plugin = pluginId ? cellPlugins.find(function (p) { return p.id === pluginId; }) : null;\n    var partialRows = ((_b = partialCell.rows) === null || _b === void 0 ? void 0 : _b.length)\n        ? partialCell.rows\n        : (_d = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.createInitialChildren) === null || _c === void 0 ? void 0 : _c.call(plugin)) !== null && _d !== void 0 ? _d : [];\n    var dataI18n = __assign((_a = {}, _a[lang] = (_j = (_g = (_e = partialCell === null || partialCell === void 0 ? void 0 : partialCell.data) !== null && _e !== void 0 ? _e : (_f = plugin === null || plugin === void 0 ? void 0 : plugin.createInitialData) === null || _f === void 0 ? void 0 : _f.call(plugin, partialCell)) !== null && _g !== void 0 ? _g : (_h = plugin === null || plugin === void 0 ? void 0 : plugin.createInitialState) === null || _h === void 0 ? void 0 : _h.call(plugin, partialCell)) !== null && _j !== void 0 ? _j : null, _a), ((_k = partialCell.dataI18n) !== null && _k !== void 0 ? _k : {}));\n    return removeUndefinedProps({\n        id: (_l = partialCell.id) !== null && _l !== void 0 ? _l : createId(),\n        isDraft: partialCell.isDraft,\n        isDraftI18n: partialCell.isDraftI18n,\n        inline: partialCell.inline,\n        size: partialCell.size || 12,\n        hasInlineNeighbour: partialCell.hasInlineNeighbour,\n        plugin: plugin\n            ? {\n                id: plugin.id,\n                version: plugin.version,\n            }\n            : undefined,\n        rows: partialRows === null || partialRows === void 0 ? void 0 : partialRows.map(function (r) {\n            return createRow(r, {\n                lang: lang,\n                cellPlugins: getChildCellPlugins(cellPlugins, {\n                    pluginId: pluginId,\n                    data: getCellData({\n                        dataI18n: dataI18n,\n                    }, lang),\n                }),\n            });\n        }),\n        dataI18n: dataI18n,\n    });\n};\nvar insert = function (type) {\n    return function (options) {\n        return function (partialCell, target, insertOptions, ids) {\n            if (ids === void 0) { ids = generateIds(); }\n            var cell = createCell(partialCell, options);\n            var isNew = !partialCell.id;\n            return insertFullCell(type)(cell, target, __assign(__assign({}, insertOptions), { focusAfter: (insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.focusAfter) || isNew }), ids);\n        };\n    };\n};\nvar insertFullCell = function (type) {\n    return function (cell, _a, insertOptions, ids) {\n        var _b, _c;\n        var hoverId = _a.id, inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour, _d = _a.ancestorIds, ancestorIds = _d === void 0 ? [] : _d;\n        if (ids === void 0) { ids = generateIds(); }\n        var level = (_b = insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.level) !== null && _b !== void 0 ? _b : 0;\n        var l = level;\n        switch (type) {\n            case CELL_INSERT_ABOVE:\n            case CELL_INSERT_BELOW: {\n                if ((inline || hasInlineNeighbour) && level < 1) {\n                    l = 1;\n                }\n                break;\n            }\n            case CELL_INSERT_LEFT_OF:\n            case CELL_INSERT_RIGHT_OF: {\n                if ((inline || hasInlineNeighbour) && level < 1) {\n                    l = 1;\n                }\n                break;\n            }\n            default:\n        }\n        var insertAction = {\n            type: type,\n            ts: new Date(),\n            item: cell,\n            hoverId: level === 0 ? hoverId : (_c = ancestorIds[Math.max(level - 1)]) !== null && _c !== void 0 ? _c : hoverId,\n            level: l,\n            // FIXME: item handling is a bit confusing,\n            // we now give some of them a name like \"cell\" or \"item\",\n            // but the purpose of the others is unclear\n            ids: ids,\n            notUndoable: insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.notUndoable,\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return function (dispatch) {\n            dispatch(insertAction);\n            if (insertOptions === null || insertOptions === void 0 ? void 0 : insertOptions.focusAfter) {\n                dispatch(editMode());\n                setTimeout(function () {\n                    var _a, _b, _c, _d, _e;\n                    dispatch(focusCell(\n                    // first condition is for pasted cells. I know its a bit weird\n                    (_e = (_d = (_c = (_b = (_a = cell.rows) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.cells) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.id) !== null && _e !== void 0 ? _e : insertAction.ids.item, true));\n                }, 0);\n            }\n        };\n    };\n};\n/**\n * Insert a cell below of the hovering cell.\n */\nexport var insertCellBelow = insert(CELL_INSERT_BELOW);\n/**\n * Insert a cell above of the hovering cell.\n */\nexport var insertCellAbove = insert(CELL_INSERT_ABOVE);\n/**\n * Insert a cell right of the hovering cell.\n */\nexport var insertCellRightOf = insert(CELL_INSERT_RIGHT_OF);\n/**\n * Insert a cell left of the hovering cell.\n */\nexport var insertCellLeftOf = insert(CELL_INSERT_LEFT_OF);\n/**\n * Insert a cell inside the hovering cell, on the left.\n */\nexport var insertCellLeftInline = insert(CELL_INSERT_INLINE_LEFT);\n/**\n * Insert a cell inside the hovering cell, on the right.\n */\nexport var insertCellRightInline = insert(CELL_INSERT_INLINE_RIGHT);\nexport var insertCellAtTheEnd = insert(CELL_INSERT_AT_END);\nexport var insertCellNewAsNewRow = insert(CELL_INSERT_AS_NEW_ROW);\nexport var duplicateNode = function (node, options) {\n    var cell = isRow(node)\n        ? {\n            id: createId(),\n            rows: [node],\n        }\n        : node;\n    return duplicateCell(cell, options);\n};\nexport var duplicateCell = function (item, options) {\n    var _a, _b;\n    var cellWithNewIds = cloneWithNewIds(item);\n    var action = insertFullCell(CELL_INSERT_BELOW)(cellWithNewIds, {\n        ancestorIds: [],\n        id: (_a = options === null || options === void 0 ? void 0 : options.insertAfterNodeId) !== null && _a !== void 0 ? _a : item.id,\n        hasInlineNeighbour: item.hasInlineNeighbour,\n        inline: item.inline,\n        levels: null,\n        pluginId: (_b = item.plugin) === null || _b === void 0 ? void 0 : _b.id,\n    }, {\n        level: 0,\n        focusAfter: true,\n    });\n    return action;\n};\nexport var insertActions = {\n    insertCellRightInline: insertCellRightInline,\n    insertCellLeftInline: insertCellLeftInline,\n    insertCellLeftOf: insertCellLeftOf,\n    insertCellRightOf: insertCellRightOf,\n    insertCellAbove: insertCellAbove,\n    insertCellBelow: insertCellBelow,\n    duplicateCell: duplicateCell,\n    insertCellAtTheEnd: insertCellAtTheEnd,\n    insert: insert,\n};\n//# sourceMappingURL=insert.js.map","export var SET_DISPLAY_REFERENCE_NODE_ID = 'SET_DISPLAY_REFERENCE_NODE_ID';\nexport var SET_DISPLAY_MODE = 'SET_DISPLAY_MODE';\nexport var SET_PREVIOUS_DISPLAY_MODE = 'SET_PREVIOUS_DISPLAY_MODE';\nexport var DISPLAY_MODE_PREVIEW = 'preview';\nexport var DISPLAY_MODE_LAYOUT = 'layout';\nexport var DISPLAY_MODE_EDIT = 'edit';\nexport var DISPLAY_MODE_INSERT = 'insert';\nexport var DISPLAY_MODE_RESIZING = 'resizing';\nexport var DISPLAY_SET_ZOOM = 'DISPLAY_SET_ZOOM';\nexport var DEFAULT_DISPLAY_MODE = DISPLAY_MODE_EDIT;\nvar setDisplayMode = function (mode, referenceNodeId) {\n    return function () { return ({\n        type: SET_DISPLAY_MODE,\n        ts: new Date(),\n        mode: mode,\n        referenceNodeId: referenceNodeId,\n    }); };\n};\nexport var setDisplayReferenceNodeId = function (referenceNodeId) { return ({\n    type: SET_DISPLAY_REFERENCE_NODE_ID,\n    ts: new Date(),\n    referenceNodeId: referenceNodeId,\n}); };\n/**\n * Dispatch to switch to arbitrary mode.\n */\nexport var setMode = function (mode, referenceNodeId) { return ({\n    type: SET_DISPLAY_MODE,\n    ts: new Date(),\n    mode: mode,\n    referenceNodeId: referenceNodeId,\n}); };\n/**\n * Dispatch to switch to insert display mode.\n */\nexport var insertMode = setDisplayMode(DISPLAY_MODE_INSERT);\n/**\n * Dispatch to switch to edit display mode.\n */\nexport var editMode = setDisplayMode(DISPLAY_MODE_EDIT);\n/**\n * Dispatch to switch to preview display mode.\n */\nexport var previewMode = setDisplayMode(DISPLAY_MODE_PREVIEW);\n/**\n * Dispatch to switch to layout display mode.\n */\nexport var layoutMode = setDisplayMode(DISPLAY_MODE_LAYOUT);\n/**\n * Dispatch to switch to resize display mode.\n */\nexport var resizeMode = setDisplayMode(DISPLAY_MODE_RESIZING);\n/**\n * Dispatch Zoom the content\n */\nexport var setZoom = function (zoom) { return ({\n    type: DISPLAY_SET_ZOOM,\n    zoom: zoom,\n}); };\n//# sourceMappingURL=display.js.map","import { createId } from '../utils/createId';\nexport var generateIds = function () {\n    return {\n        cell: createId(),\n        item: createId(),\n        others: [createId(), createId(), createId()],\n    };\n};\n//# sourceMappingURL=helpers.js.map","export var SET_LANG = 'SET_LANG';\nexport var setLang = function (lang) { return ({\n    type: SET_LANG,\n    lang: lang,\n}); };\n//# sourceMappingURL=setting.js.map","import { generateIds } from './helpers';\nexport var UPDATE_VALUE = 'UPDATE_VALUE';\nexport var updateValue = function (value) { return ({\n    type: UPDATE_VALUE,\n    ts: new Date(),\n    value: value,\n    ids: generateIds(),\n}); };\n//# sourceMappingURL=value.js.map","export var getLang = function (_a) {\n    var _b;\n    var settings = _a.reactPage.settings;\n    return (_b = settings.lang) !== null && _b !== void 0 ? _b : 'default';\n};\n//# sourceMappingURL=setting.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { createContext, useContext, useRef } from 'react';\nimport deepEquals from '../../utils/deepEquals';\nimport { DEFAULT_OPTIONS } from '../../defaultOptions';\nimport { EditorContext } from '../../EditorStore';\nimport { useSelector } from '../../reduxConnect';\nimport { getLang } from '../../selector/setting';\nimport { normalizeCellSpacing } from '../../utils/getCellSpacing';\nimport NoopProvider from '../Cell/NoopProvider';\nimport { RenderOptionsContext, useRenderOption, useRenderOptions, } from './renderOptions';\n/**\n * @returns the store object of the current editor. Contains the redux store.\n */\nexport var useEditorStore = function () {\n    return useContext(EditorContext);\n};\nexport var OptionsContext = createContext(DEFAULT_OPTIONS);\n/**\n * @returns the options object of the current Editor.\n *\n * this object is memoized, alltough its better to use `useOption` instead if you want to use a single option\n */\nexport var useOptions = function () { return useContext(OptionsContext); };\n/**\n * get a single (memoized) option value\n * @param key the option key\n * @returns the option value\n */\nexport var useOption = function (key) {\n    var options = useOptions();\n    var option = options[key];\n    var lastOption = useRef(option);\n    if (!deepEquals(lastOption.current, option)) {\n        lastOption.current = option;\n    }\n    return lastOption.current;\n};\n/**\n * @returns the an object with a single `t` function for ui translations\n */\nexport var useUiTranslator = function () {\n    var uiTranslator = useOption('uiTranslator');\n    return {\n        t: function (key) {\n            var _a, _b;\n            return (_b = (_a = uiTranslator === null || uiTranslator === void 0 ? void 0 : uiTranslator(key)) !== null && _a !== void 0 ? _a : key) !== null && _b !== void 0 ? _b : null;\n        },\n    };\n};\n/**\n * @returns the current language\n */\nexport var useLang = function () {\n    return useSelector(getLang);\n};\n/**\n * @returns cell spacing for the current cell sub-tree\n */\nexport var useCellSpacing = function () {\n    return normalizeCellSpacing(useRenderOption('cellSpacing'));\n};\n/**\n * @returns a Provider/value tuple that can be used to override cell spacing for a subtree of cells\n */\nexport var useCellSpacingProvider = function (cellSpacing) {\n    var renderOptions = useRenderOptions();\n    var value = React.useMemo(function () { return (__assign(__assign({}, renderOptions), { cellSpacing: normalizeCellSpacing(cellSpacing) })); }, [renderOptions, JSON.stringify(cellSpacing)]);\n    if (typeof cellSpacing === 'undefined' || cellSpacing == null) {\n        return [NoopProvider, value];\n    }\n    else {\n        return [RenderOptionsContext.Provider, value];\n    }\n};\n//# sourceMappingURL=options.js.map","import { createContext, useContext, useRef } from 'react';\nimport deepEquals from '../../utils/deepEquals';\nimport { DEFAULT_RENDER_OPTIONS } from '../../defaultOptions';\nexport var RenderOptionsContext = createContext(DEFAULT_RENDER_OPTIONS);\n/**\n * @returns the options object of the current Editor.\n *\n * this object is memoized, alltough its better to use `useOption` instead if you want to use a single option\n */\nexport var useRenderOptions = function () { return useContext(RenderOptionsContext); };\n/**\n * get a single (memoized) option value\n * @param key the option key\n * @returns the option value\n */\nexport var useRenderOption = function (key) {\n    var options = useRenderOptions();\n    var option = options[key];\n    var lastOption = useRef(option);\n    if (!deepEquals(lastOption.current, option)) {\n        lastOption.current = option;\n    }\n    return lastOption.current;\n};\n//# sourceMappingURL=renderOptions.js.map","/**\n * A list of positions in the layout space.\n */\nexport var PositionEnum;\n(function (PositionEnum) {\n    PositionEnum[\"LEFT_OF\"] = \"left-of\";\n    PositionEnum[\"RIGHT_OF\"] = \"right-of\";\n    PositionEnum[\"ABOVE\"] = \"above\";\n    PositionEnum[\"BELOW\"] = \"below\";\n    PositionEnum[\"INLINE_LEFT\"] = \"inline-left\";\n    PositionEnum[\"INLINE_RIGHT\"] = \"inline-right\";\n})(PositionEnum || (PositionEnum = {}));\n/**\n * Is true if built in production mode.\n */\nexport var isProduction = process.env.NODE_ENV === 'production';\n//# sourceMappingURL=const.js.map","import { HTML5Backend } from 'react-dnd-html5-backend';\nimport { DISPLAY_MODE_EDIT } from './actions/display';\nimport { defaultTheme } from '../ui';\nexport var DEFAULT_OPTIONS = {\n    allowMoveInEditMode: true,\n    allowResizeInEditMode: true,\n    childConstraints: {},\n    components: {},\n    languages: [],\n    uiTranslator: null,\n    zoomEnabled: true,\n    zoomFactors: [1, 0.75, 0.5, 0.25],\n    undoRedoEnabled: true,\n    editEnabled: true,\n    insertEnabled: true,\n    layoutEnabled: true,\n    resizeEnabled: true,\n    previewEnabled: true,\n    dndBackend: HTML5Backend,\n    blurGateDefaultMode: DISPLAY_MODE_EDIT,\n    blurGateDisabled: false,\n    middleware: [],\n    store: null,\n    hideEditorSidebar: false,\n    showMoveButtonsInBottomToolbar: true,\n    showMoveButtonsInLayoutMode: true,\n    sidebarPosition: 'rightAbsolute',\n    customOptions: [],\n    uiTheme: defaultTheme,\n};\nexport var DEFAULT_RENDER_OPTIONS = {\n    cellPlugins: [],\n    cellSpacing: null,\n};\n//# sourceMappingURL=defaultOptions.js.map","/* eslint-disable @typescript-eslint/ban-types */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { CELL_INSERT_ABOVE, CELL_INSERT_BELOW, CELL_INSERT_INLINE_LEFT, CELL_INSERT_INLINE_RIGHT, CELL_INSERT_LEFT_OF, CELL_INSERT_RIGHT_OF, CELL_REMOVE, CELL_RESIZE, CELL_UPDATE_DATA, CELL_UPDATE_IS_DRAFT, CELL_INSERT_AT_END, CELL_INSERT_AS_NEW_ROW, } from '../../actions/cell';\nimport { createId } from '../../utils/createId';\nimport { removeUndefinedProps } from '../../utils/removeUndefinedProps';\nimport { flatten, optimizeCell, optimizeCells, optimizeRow, optimizeRows, } from './helper/optimize';\nimport { resizeCells } from './helper/sizing';\nvar cell = function (s, a, depth) {\n    return optimizeCell((function (state, action) {\n        var _a, _b;\n        var _c, _d, _e;\n        var reduce = function () {\n            var _a;\n            return removeUndefinedProps(__assign(__assign({}, state), { rows: rows((_a = state.rows) !== null && _a !== void 0 ? _a : [], action, depth + 1) }));\n        };\n        switch (action.type) {\n            case CELL_UPDATE_IS_DRAFT:\n                if (action.id === state.id) {\n                    var reduced = reduce();\n                    if (action.lang) {\n                        return __assign(__assign({}, reduced), { isDraftI18n: __assign(__assign({}, ((_c = reduced.isDraftI18n) !== null && _c !== void 0 ? _c : {})), (_a = {}, _a[action.lang] = action.isDraft, _a)) });\n                    }\n                    else {\n                        return __assign(__assign({}, reduced), { isDraft: action.isDraft });\n                    }\n                }\n                return reduce();\n            case CELL_UPDATE_DATA:\n                if (action.id === state.id) {\n                    // If this cell is being updated, set the data\n                    var reduced = reduce();\n                    // copy because we mutate afterwards with delete\n                    var newI18nData = __assign({}, ((_d = reduced.dataI18n) !== null && _d !== void 0 ? _d : {}));\n                    var emptyValue = action.data === null;\n                    if (action.lang && emptyValue) {\n                        newI18nData === null || newI18nData === void 0 ? true : delete newI18nData[action.lang];\n                    }\n                    return __assign(__assign({}, reduced), { dataI18n: __assign(__assign({}, (newI18nData !== null && newI18nData !== void 0 ? newI18nData : {})), (!emptyValue\n                            ? (_b = {}, _b[action.lang] = action.data, _b) : {})) });\n                }\n                return reduce();\n            case CELL_INSERT_ABOVE:\n                if (action.hoverId === state.id) {\n                    return {\n                        id: action.ids.cell,\n                        rows: rows([\n                            {\n                                id: action.ids.others[0],\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                            },\n                            {\n                                id: action.ids.others[1],\n                                cells: [__assign(__assign({}, reduce()), { id: action.ids.others[2] })],\n                            },\n                        ], __assign(__assign({}, action), { hoverId: null }), depth + 1),\n                    };\n                }\n                return reduce();\n            case CELL_INSERT_BELOW:\n                if (action.hoverId === state.id) {\n                    return {\n                        id: action.ids.cell,\n                        rows: rows([\n                            {\n                                id: action.ids.others[0],\n                                cells: [__assign(__assign({}, reduce()), { id: action.ids.others[1] })],\n                            },\n                            {\n                                id: action.ids.others[2],\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                            },\n                        ], __assign(__assign({}, action), { hoverId: null }), depth + 1),\n                    };\n                }\n                return reduce();\n            case CELL_INSERT_AS_NEW_ROW: {\n                if (action.hoverId === state.id) {\n                    return __assign(__assign({}, state), { rows: __spreadArray(__spreadArray([], __read(((_e = state.rows) !== null && _e !== void 0 ? _e : [])), false), [\n                            {\n                                id: action.ids.others[1],\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                            },\n                        ], false) });\n                }\n                return reduce();\n            }\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\nvar createEmptyCell = function () { return ({\n    id: createId(),\n    rows: [\n        {\n            id: createId(),\n            cells: [],\n        },\n    ],\n}); };\nexport var cells = function (state, action, depth) {\n    if (state === void 0) { state = []; }\n    if (depth === void 0) { depth = 0; }\n    var newCells = depth === 0 && state.length === 0 ? [createEmptyCell()] : state;\n    switch (action.type) {\n        case CELL_RESIZE:\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            newCells = resizeCells(newCells, action);\n            break;\n        case CELL_INSERT_AT_END:\n        case CELL_INSERT_AS_NEW_ROW:\n        case CELL_INSERT_BELOW:\n        case CELL_INSERT_ABOVE:\n            newCells = newCells.filter(function (c) { return c.id !== action.item.id; }); // this removes the cell if it already exists\n            break;\n        case CELL_INSERT_LEFT_OF:\n            newCells = newCells\n                .filter(function (c) { return c.id !== action.item.id; }) // this removes the cell if it already exists\n                .map(function (c) {\n                return action.hoverId === c.id\n                    ? [\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                        __assign(__assign({}, c), { id: action.ids.others[0] }),\n                    ]\n                    : [c];\n            })\n                .reduce(flatten, []);\n            break;\n        case CELL_INSERT_RIGHT_OF:\n            newCells = newCells\n                .filter(function (c) { return c.id !== action.item.id; }) // this removes the cell if it already exists\n                .map(function (c) {\n                return action.hoverId === c.id\n                    ? [\n                        __assign(__assign({}, c), { id: action.ids.others[0] }),\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                    ]\n                    : [c];\n            })\n                .reduce(flatten, []);\n            break;\n        case CELL_INSERT_INLINE_RIGHT:\n        case CELL_INSERT_INLINE_LEFT:\n            newCells = newCells\n                .filter(function (c) { return c.id !== action.item.id; }) // this removes the cell if it already exists\n                .map(function (c) {\n                if (action.hoverId === c.id) {\n                    return [\n                        {\n                            id: action.ids.cell,\n                            rows: [\n                                {\n                                    id: action.ids.others[0],\n                                    cells: [\n                                        __assign(__assign({}, action.item), { inline: action.type === CELL_INSERT_INLINE_RIGHT\n                                                ? 'right'\n                                                : 'left', id: action.ids.item, size: 0 }),\n                                        __assign(__assign({}, c), { id: action.ids.others[1], inline: null, hasInlineNeighbour: action.ids.item, size: 0 }),\n                                    ],\n                                },\n                            ],\n                        },\n                    ];\n                }\n                return [c];\n            })\n                .reduce(flatten, []);\n            break;\n        case CELL_REMOVE:\n            newCells = newCells.filter(function (_a) {\n                var id = _a.id;\n                return !action.ids.includes(id);\n            });\n            break;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var reducedCells = newCells.map(function (c) { return cell(c, action, depth); });\n    return optimizeCells(reducedCells);\n};\nvar row = function (s, a, depth) {\n    return optimizeRow((function (state, action) {\n        var reduce = function () { return (__assign(__assign({}, state), { cells: cells(state.cells, action, depth + 1) })); };\n        switch (action.type) {\n            case CELL_INSERT_LEFT_OF:\n                if (action.hoverId !== state.id) {\n                    return reduce();\n                }\n                return __assign(__assign({}, state), { cells: cells(__spreadArray([\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null })\n                    ], __read(state.cells), false), __assign(__assign({}, action), { hoverId: null }), depth + 1) });\n            case CELL_INSERT_RIGHT_OF:\n                if (action.hoverId !== state.id) {\n                    return reduce();\n                }\n                return __assign(__assign({}, state), { cells: cells(__spreadArray(__spreadArray([], __read(state.cells), false), [\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                    ], false), __assign(__assign({}, action), { hoverId: null }), depth + 1) });\n            /*case CELL_DRAG_HOVER:\n              if (action.hoverId === state.id) {\n                return { ...reduce(), hoverPosition: action.position };\n              }\n              return reduce();\n              */\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\nexport var rows = function (s, a, depth) {\n    if (s === void 0) { s = []; }\n    if (depth === void 0) { depth = 0; }\n    return optimizeRows(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (function (state, action) {\n        var reduce = function () { return state.map(function (r) { return row(r, action, depth); }); };\n        switch (action.type) {\n            case CELL_INSERT_ABOVE:\n                return state\n                    .map(function (r) {\n                    return action.hoverId === r.id\n                        ? [\n                            {\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                                id: action.ids.others[0],\n                            },\n                            __assign(__assign({}, r), { id: action.ids.others[1] }),\n                        ]\n                        : [r];\n                })\n                    .reduce(flatten, [])\n                    .map(function (r) { return row(r, action, depth); });\n            case CELL_INSERT_BELOW:\n                return state\n                    .map(function (r) {\n                    return action.hoverId === r.id\n                        ? [\n                            __assign(__assign({}, r), { id: action.ids.others[0] }),\n                            {\n                                cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ],\n                                id: action.ids.others[1],\n                            },\n                        ]\n                        : [r];\n                })\n                    .reduce(flatten, [])\n                    .map(function (r) { return row(r, action, depth); });\n            case CELL_INSERT_AT_END: {\n                var newRows = depth !== 0\n                    ? state\n                    : __spreadArray(__spreadArray([], __read(state), false), [\n                        {\n                            cells: [\n                                __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                            ],\n                            id: action.ids.others[1],\n                        },\n                    ], false);\n                return newRows.map(function (r) { return row(r, action, depth); });\n            }\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\n//# sourceMappingURL=tree.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { setAllSizesAndOptimize } from './helper/setAllSizesAndOptimize';\nimport { rows } from './tree';\nexport var value = function (state, action) {\n    switch (action.type) {\n        case 'UPDATE_VALUE': {\n            return action.value;\n        }\n    }\n    var newRows = (state === null || state === void 0 ? void 0 : state.rows)\n        ? setAllSizesAndOptimize(rows(state.rows, action, 0))\n        : [];\n    return __assign(__assign({}, state), { rows: newRows });\n};\n//# sourceMappingURL=index.js.map","import undoable from 'redux-undo';\nimport { CELL_REMOVE, CELL_RESIZE, CELL_UPDATE_DATA, } from '../../actions/cell/core';\nimport { CELL_INSERT_ABOVE, CELL_INSERT_AS_NEW_ROW, CELL_INSERT_AT_END, CELL_INSERT_BELOW, CELL_INSERT_INLINE_LEFT, CELL_INSERT_INLINE_RIGHT, CELL_INSERT_LEFT_OF, CELL_INSERT_RIGHT_OF, } from '../../actions/cell/insert';\nimport { UPDATE_VALUE } from '../../actions/value';\nimport { value } from '../value';\nexport var values = undoable(value, {\n    filter: function filterState(action, currentState, previousHistory) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (action === null || action === void 0 ? void 0 : action.notUndoable) {\n            return false;\n        }\n        var undoable = [\n            UPDATE_VALUE,\n            CELL_UPDATE_DATA,\n            CELL_REMOVE,\n            CELL_RESIZE,\n            CELL_INSERT_ABOVE,\n            CELL_INSERT_BELOW,\n            CELL_INSERT_LEFT_OF,\n            CELL_INSERT_RIGHT_OF,\n            CELL_INSERT_INLINE_LEFT,\n            CELL_INSERT_INLINE_RIGHT,\n            CELL_INSERT_AT_END,\n            CELL_INSERT_AS_NEW_ROW,\n        ].indexOf(action.type) >= 0;\n        return undoable;\n    },\n    neverSkipReducer: true,\n    syncFilter: true,\n    //debug: !isProduction,\n});\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CELL_BLUR_ALL } from '../../actions/cell';\nimport { DEFAULT_DISPLAY_MODE, DISPLAY_SET_ZOOM, SET_DISPLAY_MODE, SET_DISPLAY_REFERENCE_NODE_ID, } from '../../actions/display';\nexport var display = function (state, action) {\n    if (state === void 0) { state = {\n        mode: DEFAULT_DISPLAY_MODE,\n        zoom: 1,\n    }; }\n    switch (action.type) {\n        case DISPLAY_SET_ZOOM: {\n            return __assign(__assign({}, state), { zoom: action.zoom });\n        }\n        case SET_DISPLAY_REFERENCE_NODE_ID:\n            return __assign(__assign({}, state), { referenceNodeId: action.referenceNodeId });\n        case CELL_BLUR_ALL: {\n            return __assign(__assign({}, state), { mode: state.mode, referenceNodeId: null });\n        }\n        case SET_DISPLAY_MODE:\n            return __assign(__assign({}, state), { mode: action.mode, referenceNodeId: action.referenceNodeId || state.referenceNodeId });\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { CELL_FOCUS, CELL_BLUR, CELL_BLUR_ALL } from '../../actions/cell';\nvar stateWithout = function (state, idsToRemove) {\n    var _a, _b;\n    var nodeIds = (_b = (_a = state === null || state === void 0 ? void 0 : state.nodeIds) === null || _a === void 0 ? void 0 : _a.filter(function (n) { return !idsToRemove.includes(n); })) !== null && _b !== void 0 ? _b : [];\n    if (nodeIds.length === 0) {\n        return null;\n    }\n    return __assign(__assign({}, state), { nodeIds: nodeIds });\n};\nexport var focus = function (state, action) {\n    var _a, _b, _c, _d;\n    if (state === void 0) { state = null; }\n    switch (action.type) {\n        case 'CELL_REMOVE': {\n            return stateWithout(state, action.ids);\n        }\n        case CELL_FOCUS: {\n            var nodeIds = action.mode === 'add'\n                ? ((_a = state === null || state === void 0 ? void 0 : state.nodeIds) === null || _a === void 0 ? void 0 : _a.includes(action.id))\n                    ? (_c = (_b = stateWithout(state, [action.id])) === null || _b === void 0 ? void 0 : _b.nodeIds) !== null && _c !== void 0 ? _c : []\n                    : __spreadArray(__spreadArray([], __read(((_d = state === null || state === void 0 ? void 0 : state.nodeIds) !== null && _d !== void 0 ? _d : [])), false), [action.id], false)\n                : [action.id];\n            return {\n                nodeIds: nodeIds,\n                scrollToCell: action.scrollToCell ? new Date().getTime() : null,\n            };\n        }\n        case CELL_BLUR_ALL:\n            return null;\n        case CELL_BLUR: {\n            return stateWithout(state, [action.id]);\n        }\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { SET_LANG } from '../../actions/setting';\nexport var settings = function (state, action) {\n    if (state === void 0) { state = {\n        lang: null,\n    }; }\n    switch (action.type) {\n        case SET_LANG:\n            return __assign(__assign({}, state), { lang: action.lang });\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","import { combineReducers } from 'redux';\nimport { values } from './values';\nimport { display } from './display';\nimport { focus } from './focus';\nimport { hover } from './hover';\nimport { settings } from './settings';\nvar reducer = combineReducers({\n    values: values,\n    display: display,\n    focus: focus,\n    settings: settings,\n    hover: hover,\n    __nodeCache: function () { return null; }, // always empty __nodeCache\n});\nexport { reducer };\nexport default combineReducers({ reactPage: reducer });\nexport function initialState(value, lang) {\n    return {\n        reactPage: {\n            __nodeCache: {},\n            hover: null,\n            focus: null,\n            display: {\n                mode: 'edit',\n                zoom: 1,\n            },\n            settings: {\n                lang: lang,\n            },\n            values: {\n                past: [],\n                present: value,\n                future: [],\n            },\n        },\n    };\n}\n//# sourceMappingURL=index.js.map","import { CELL_DRAG_HOVER, CLEAR_CLEAR_HOVER } from '../../actions/cell';\nexport var hover = function (state, action) {\n    if (state === void 0) { state = null; }\n    switch (action.type) {\n        case CELL_DRAG_HOVER: {\n            return {\n                nodeId: action.hoverId,\n                position: action.position,\n            };\n        }\n        case CLEAR_CLEAR_HOVER:\n            return null;\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { createDispatchHook, createSelectorHook, createStoreHook, Provider, } from 'react-redux';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var ReduxContext = React.createContext(null);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var ReduxProvider = function (_a) {\n    var store = _a.store, props = __rest(_a, [\"store\"]);\n    return (React.createElement(Provider, __assign({ store: store, context: ReduxContext }, props)));\n};\nexport var useStore = createStoreHook(ReduxContext);\nexport var useDispatch = createDispatchHook(ReduxContext\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n);\nexport var useSelector = createSelectorHook(ReduxContext);\n//# sourceMappingURL=reduxConnect.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { isRow } from '../../types/node';\n/** */\nvar findNode = function (nodes, nodeId, ancestors) {\n    var e_1, _a;\n    if (ancestors === void 0) { ancestors = []; }\n    try {\n        for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\n            var node = nodes_1_1.value;\n            if (node.id === nodeId) {\n                return {\n                    node: node,\n                    ancestors: ancestors,\n                };\n            }\n            // else search children\n            if (isRow(node) && node.cells) {\n                var found = findNode(node.cells, nodeId, __spreadArray([node], __read(ancestors), false));\n                if (found) {\n                    return found;\n                }\n            }\n            else if (!isRow(node) && node.rows) {\n                var found = findNode(node.rows, nodeId, __spreadArray([node], __read(ancestors), false));\n                if (found) {\n                    return found;\n                }\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return null;\n};\n/*\nlet sum = 0;\nlet missum = 0;\nconst end = (start, hit) => {\n  const now = performance.now();\n  const diff = now - start;\n  sum += diff;\n  if (!hit) missum++;\n  console.log('time', hit ? '!' : '?', missum, diff, sum);\n};\n*/\nexport var findNodeInState = function (state, nodeId) {\n    var _a, _b;\n    // const now = performance.now();\n    // POOR mans node cache\n    // it gets removed every reduce, so we don't have to clear it manually\n    if (!state.reactPage.__nodeCache) {\n        state.reactPage.__nodeCache = {};\n    }\n    if (state.reactPage.__nodeCache[nodeId]) {\n        //end(now, true);\n        return state.reactPage.__nodeCache[nodeId];\n    }\n    if (!((_a = state.reactPage.values) === null || _a === void 0 ? void 0 : _a.present)) {\n        return null;\n    }\n    var result = findNode([\n        __assign(__assign({}, (_b = state.reactPage.values) === null || _b === void 0 ? void 0 : _b.present), { isRoot: true }),\n    ], nodeId);\n    state.reactPage.__nodeCache[nodeId] = result;\n    //end(now, false);\n    return result;\n};\nexport var currentValue = function (state) { var _a, _b; return (_b = (_a = state === null || state === void 0 ? void 0 : state.reactPage) === null || _a === void 0 ? void 0 : _a.values) === null || _b === void 0 ? void 0 : _b.present; };\nexport var selectNode = function (state, nodeId) {\n    var found = findNodeInState(state, nodeId);\n    return found;\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isRow } from '../types';\nimport { createId } from './createId';\nimport { mapNode } from './mapNode';\nexport var cloneWithNewIds = function (node) {\n    return mapNode(node, {\n        mapCell: function (n) { return (__assign(__assign({}, n), { \n            // clone data as well\n            dataI18n: (n === null || n === void 0 ? void 0 : n.dataI18n) ? JSON.parse(JSON.stringify(n.dataI18n)) : {}, id: createId() })); },\n        mapRow: function (n) { return (__assign(__assign({}, n), { id: createId() })); },\n    });\n};\nexport var cloneAsCell = function (node) {\n    var cell = isRow(node)\n        ? {\n            id: createId(),\n            rows: [node],\n        }\n        : node;\n    return cloneWithNewIds(cell);\n};\n//# sourceMappingURL=cloneWithNewIds.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isRow } from '../types';\n/**\n * map a node recursivly\n * @param node the node to map\n * @param mapper mapRow and mapCell callbck. Return the transformed row or cell\n * @param depth initialy 0\n */\nexport var mapNode = function (node, mapper, depth) {\n    var _a, _b, _c, _d, _e, _f;\n    if (depth === void 0) { depth = 0; }\n    if (isRow(node)) {\n        if ((_a = mapper.skipMapRow) === null || _a === void 0 ? void 0 : _a.call(mapper, node, depth))\n            return node;\n        var mappedNode = mapper.mapRow ? mapper.mapRow(node, depth) : node;\n        var mappedChildren = (_b = mappedNode === null || mappedNode === void 0 ? void 0 : mappedNode.cells) === null || _b === void 0 ? void 0 : _b.map(function (c) { return mapNode(c, mapper, depth + 1); });\n        var fullMapped = ((_c = mappedChildren === null || mappedChildren === void 0 ? void 0 : mappedChildren.length) !== null && _c !== void 0 ? _c : 0) > 0\n            ? __assign(__assign({}, mappedNode), { cells: mappedChildren })\n            : mappedNode;\n        return mapper.mapRowDown\n            ? mapper.mapRowDown(fullMapped, depth)\n            : fullMapped;\n    }\n    else {\n        if ((_d = mapper.skipMapCell) === null || _d === void 0 ? void 0 : _d.call(mapper, node, depth))\n            return node;\n        var mappedNode = mapper.mapCell ? mapper.mapCell(node, depth) : node;\n        var mappedChildren = (_e = mappedNode === null || mappedNode === void 0 ? void 0 : mappedNode.rows) === null || _e === void 0 ? void 0 : _e.map(function (c) { return mapNode(c, mapper, depth + 1); });\n        var fullMapped = ((_f = mappedChildren === null || mappedChildren === void 0 ? void 0 : mappedChildren.length) !== null && _f !== void 0 ? _f : 0) > 0\n            ? __assign(__assign({}, mappedNode), { rows: mappedChildren })\n            : mappedNode;\n        return mapper.mapCellDown\n            ? mapper.mapCellDown(fullMapped, depth)\n            : fullMapped;\n    }\n};\n//# sourceMappingURL=mapNode.js.map","import { createTheme } from '@mui/material';\nexport var defaultThemeOptions = {\n    components: {\n        MuiTextField: {\n            defaultProps: {\n                variant: 'standard',\n            },\n        },\n    },\n};\nexport var defaultTheme = createTheme(defaultThemeOptions);\n//# sourceMappingURL=index.js.map"],"names":["__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spreadArray","to","from","pack","arguments","length","l","Array","prototype","slice","concat","EditorContext","createContext","EditorStore","_a","_b","middleware","store","initialState","_this","this","getNodeWithAncestors","nodeId","getState","getNode","node","v","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","apply","setLang","lang","dispatch","createEmptyState","id","createId","rows","version","__assign","Object","assign","t","s","p","hasOwnProperty","CELL_UPDATE_IS_DRAFT","CELL_UPDATE_DATA","CELL_REMOVE","CELL_RESIZE","CELL_FOCUS","CELL_BLUR","CELL_BLUR_ALL","updateCellIsDraft","isDraft","type","ts","Date","updateCellData","data","options","removeCells","ids","resizeCell","size","focusCell","scrollToCell","mode","blurAllCells","CELL_DRAG_HOVER","CLEAR_CLEAR_HOVER","cellHover","drag","hover","level","position","hoverId","ancestorIds","Math","max","dragId","cellHoverLeftOf","cellHoverRightOf","cellHoverAbove","cellHoverBelow","cellHoverInlineLeft","cellHoverInlineRight","dragCell","clearHover","cancelCellDrag","CELL_INSERT_ABOVE","CELL_INSERT_BELOW","CELL_INSERT_LEFT_OF","CELL_INSERT_RIGHT_OF","CELL_INSERT_INLINE_LEFT","CELL_INSERT_INLINE_RIGHT","CELL_INSERT_AT_END","CELL_INSERT_AS_NEW_ROW","createRow","partialRow","isArray","cells","map","c","createCell","partialCell","_c","_d","_e","_f","_g","_h","_j","_k","_l","cellPlugins","pluginId","plugin","find","partialRows","createInitialChildren","dataI18n","createInitialData","createInitialState","isDraftI18n","inline","hasInlineNeighbour","undefined","insert","target","insertOptions","cell","isNew","insertFullCell","focusAfter","insertAction","item","notUndoable","setTimeout","insertCellBelow","insertCellAbove","insertCellRightOf","insertCellLeftOf","insertCellLeftInline","insertCellRightInline","insertCellAtTheEnd","insertCellNewAsNewRow","duplicateNode","duplicateCell","cellWithNewIds","insertAfterNodeId","levels","SET_DISPLAY_REFERENCE_NODE_ID","SET_DISPLAY_MODE","DISPLAY_MODE_PREVIEW","DISPLAY_MODE_LAYOUT","DISPLAY_MODE_EDIT","DISPLAY_MODE_INSERT","DISPLAY_MODE_RESIZING","DISPLAY_SET_ZOOM","DEFAULT_DISPLAY_MODE","setDisplayMode","referenceNodeId","setDisplayReferenceNodeId","setMode","editMode","setZoom","zoom","generateIds","others","SET_LANG","UPDATE_VALUE","updateValue","getLang","reactPage","settings","useEditorStore","useContext","OptionsContext","useOption","key","option","lastOption","useRef","deepEquals","current","useUiTranslator","uiTranslator","useLang","useCellSpacing","useCellSpacingProvider","cellSpacing","renderOptions","JSON","stringify","NoopProvider","RenderOptionsContext","useRenderOptions","useRenderOption","PositionEnum","isProduction","DEFAULT_OPTIONS","allowMoveInEditMode","allowResizeInEditMode","childConstraints","components","languages","zoomEnabled","zoomFactors","undoRedoEnabled","editEnabled","insertEnabled","layoutEnabled","resizeEnabled","previewEnabled","dndBackend","blurGateDefaultMode","blurGateDisabled","hideEditorSidebar","showMoveButtonsInBottomToolbar","showMoveButtonsInLayoutMode","sidebarPosition","customOptions","uiTheme","DEFAULT_RENDER_OPTIONS","state","action","depth","newCells","filter","reduce","includes","reducedCells","a","optimize","removeUndefinedProps","reduced","newI18nData","emptyValue","row","values","newRows","setAllSizesAndOptimize","currentState","previousHistory","indexOf","neverSkipReducer","syncFilter","stateWithout","idsToRemove","nodeIds","reducer","display","focus","getTime","__nodeCache","past","present","future","__rest","getOwnPropertySymbols","propertyIsEnumerable","ReduxContext","ReduxProvider","props","context","useDispatch","useSelector","__values","TypeError","findNode","nodes","ancestors","e_1","nodes_1","nodes_1_1","found","e_1_1","return","findNodeInState","result","isRoot","currentValue","cloneWithNewIds","mapCell","parse","mapRow","cloneAsCell","mapNode","mapper","skipMapRow","fullMapped","mappedChildren","mappedNode","mapRowDown","skipMapCell","mapCellDown","defaultThemeOptions","MuiTextField","defaultProps","variant","defaultTheme"],"sourceRoot":""}