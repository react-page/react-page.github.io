{"version":3,"sources":["../../../../src/ThemeProvider/DarkTheme/index.ts","../../../src/hooks/useAddPlugin.ts","../../../src/ColorPicker/colorToString.tsx","../../../src/default/state.ts","../../../src/ImageUpload/defaultTranslations.tsx","../../../src/slateEnhancer/withInline.ts","../../../src/slateEnhancer/withPaste.ts","../../../src/Controls/renderHooks.tsx","../../../src/Controls/pluginHooks.ts","../../../src/utils/getTextContent.ts","../../../src/Controls/index.tsx","../../../src/Controls/hotkeyHooks.ts","../../src/index.tsx","../../../src/editor/index.tsx","contents.ts","../../src/createLayoutPlugin.tsx","../../../src/Component/index.tsx","../../../src/migrations/v002.ts","../../../src/migrations/v003.ts","../../../src/migrations/v004.ts","../../../src/pluginFactories/createComponentPlugin.tsx","../../../src/pluginFactories/createDataPlugin.tsx","../../../../src/plugins/paragraphs/index.tsx","../../../src/pluginFactories/createSimpleHtmlBlockPlugin.tsx","../../../src/pluginFactories/createHeadingsPlugin.tsx","../../../../src/pluginFactories/utils/listUtils.ts","../../../src/pluginFactories/createListIndentionPlugin.tsx","../../../src/pluginFactories/createListItemPlugin.tsx","../../../src/pluginFactories/createListPlugin.tsx","../../../src/pluginFactories/createMarkPlugin.tsx","../../../src/plugins/alignment.tsx","../../../../src/plugins/code/index.tsx","../../../../src/plugins/emphasize/em.tsx","../../../../src/plugins/emphasize/strong.tsx","../../../../src/plugins/emphasize/underline.tsx","../../../../src/plugins/emphasize/index.tsx","../../../../src/plugins/headings/index.tsx","../../../../src/plugins/links/link.tsx","../../../../src/plugins/links/index.tsx","../../../../src/plugins/links/anchor.tsx","../../../../src/plugins/lists/index.tsx","../../../src/plugins/quotes.tsx","../../../src/utils/flattenDeep.ts","../../../src/utils/transformInitialSlateState.ts","../../../src/Renderer/index.tsx","../../../src/default/settings.ts","../../../src/utils/makeSlatePluginsFromDef.ts","customSlatePlugin.tsx","katexSlatePlugin.tsx","slate.tsx","customLayoutPluginWithInitialState.tsx","../../../src/default/settings.tsx","../../src/createPlugin.tsx","../../../src/Renderer/BackgroundHtmlRenderer.tsx","../../src/index.ts","../../../src/Renderer/DividerHtmlRenderer.tsx","../../../src/Renderer/Html5VideoHtmlRenderer.tsx","../../../src/common/styles.ts","../../../src/Renderer/ImageHtmlRenderer.tsx","../../../src/Renderer/SpacerHtmlRenderer.tsx","../../../src/Renderer/VideoHtmlRenderer.tsx","../../src/createContentPlugin.tsx","customContentPlugin.tsx","customContentPluginWithListField.tsx","customContentPluginTwitter.tsx","plugins.ts","customLayoutPlugin.tsx","index.tsx","../../src/const.ts","../../../src/actions/helpers.ts","../../../../src/actions/cell/core.ts","../../../../src/actions/cell/drag.ts","../../../src/actions/display.ts","../../../../src/actions/cell/insert.ts","../../../src/actions/undo.ts","../../../src/actions/editables.ts","../../../../src/actions/cell/index.ts","../../../src/actions/setting.ts","../../../src/actions/index.ts","../../../../src/selector/editable/index.ts","../../src/reduxConnect.tsx","../../../../src/selector/display/index.ts","../../../src/selector/setting.ts","../../../src/selector/index.ts","../../../../src/service/plugin/classes.ts","../../../../src/service/plugin/default.tsx","../../../../src/service/plugin/missing.tsx","../../../../src/service/plugin/index.ts","../../../../src/helper/createInitialChildren/index.ts","../../../../src/helper/sanitizeInitialChildren/index.ts","../../../../../src/reducer/editable/helper/order.ts","../../../../../src/reducer/editable/helper/empty.ts","../../../../../src/reducer/editable/helper/optimize.ts","../../../../../src/reducer/editable/helper/level.ts","../../../../../src/reducer/editable/helper/setAllSizesAndOptimize.ts","../../../../../src/reducer/editable/helper/sizing.ts","../../../../../src/reducer/editable/helper/hover.ts","../../../../src/reducer/editable/tree.ts","../../../src/types/editable.ts","../../../../src/reducer/editable/index.ts","../../../../src/reducer/editables/index.ts","../../../src/reducer/index.ts","../../../../src/reducer/display/index.ts","../../../../src/reducer/focus/index.ts","../../../../src/reducer/settings/index.ts","../../src/Editor.ts","../../src/store.ts","../../../../src/components/hooks/index.ts","../../../../src/components/HotKey/Decorator.tsx","../../../src/selector/focus.ts","../../../../src/components/Editable/FallbackDropArea.tsx","../../../../../src/components/Cell/utils/scrollIntoViewWithOffset.ts","../../../../src/helper/nativeDragHelpers/index.ts","../../../../src/service/logger/index.ts","../../../../src/service/hover/index.ts","../../../../src/service/hover/input.ts","../../../../../../src/components/Cell/Droppable/helper/dnd.ts","../../../../src/helper/throttle/index.ts","../../../../../src/components/Cell/Droppable/index.tsx","../../../../../../src/components/Cell/Draggable/helper/dnd.ts","../../../../../src/components/Cell/Draggable/index.tsx","../../../../../src/components/Row/Droppable/dnd.ts","../../../../../src/components/Row/Droppable/index.tsx","../../../../src/components/Row/inner.tsx","../../../../src/components/Row/index.tsx","../../../../../src/components/Cell/Rows/index.tsx","../../../../../src/components/Cell/Content/index.tsx","../../../../../src/components/Cell/Layout/index.tsx","../../../../../src/components/Cell/ErrorCell/index.tsx","../../../../../src/components/Cell/Inner/index.tsx","../../../../../src/components/Cell/Resizable/helper.ts","../../../../../src/components/Cell/Resizable/index.tsx","../../../../src/components/Cell/index.tsx","../../../../../src/components/Editable/Inner/index.tsx","../../../../src/components/Editable/index.tsx","../../../../src/helper/lazyLoad/index.tsx","../../../src/components/BlurGate.tsx","../../../src/Provider/index.tsx","../../../../src/service/i18n/index.ts","../../../src/types/ModeEnum.ts","../../../src/HtmlToSlate/index.tsx","../../../src/HtmlToSlate/parseHtml.browser.ts","../../../src/hooks/useCurrentNodeWithPlugin.ts","../../../src/hooks/useRemovePlugin.ts","../../../../src/components/Dimensions/index.tsx","../../../src/utils/getCurrentData.ts"],"names":["data","e","a","contents","id","cells","inline","size","rows","content","plugin","name","version","state","slate","align","type","children","text","href","url","src","height","layout","background","SetColor","color","openInNewWindow","importFromHtml","editor","Component","anchor","link","flattenDeep","pluginName","pluginDescription","placeholder","linkPlugin","cancel","ok","createLink","linkTitlePlaceholder","linkHrefPlaceholder","linkOpenInNewWindowLabel","pluginFactories","createComponentPlugin","addHoverButton","addToolbarButton","object","icon","label","getStyle","schema","required","properties","default","enum","props","focused","useFocused","selected","useSelected","showSource","math","getTextContents","join","trim","style","position","contentEditable","transform","transition","backgroundColor","border","padding","display","zIndex","opacity","left","top","addExtraSpace","defaultSlate","def","plugins","custom","custom1","customSlatePlugin","katex","katexSlatePlugin","customizedSlate","hideInMenu","headings","h2","h3","d","h4","attributes","role","aria-label","h5","styled","paragraphs","emphasize","alignment","createLayoutPlugin","Renderer","createInitialChildren","createInitialSlateState","paragraph","h1","lists","ul","li","description","handleFocusNextHotKey","g","styles","IconComponent","_a","Promise","handleFocus","setTimeout","h","Controls","translations","this","createContentPlugin","title","firstName","lastName","age","minimum","shops","map","shop","index","key","address","street","zipCode","city","controlsLayout","columnCount","items","dataSource","sourceType","screenName","options","fakeImageUploadService","defaultUrl","file","reportProgress","resolve","reject","counter","interval","setInterval","clearInterval","alert","spacer","imagePlugin","imageUpload","video","divider","html5video","customContentPlugin","customContentPluginWithListField","customContentPluginTwitter","defaultPlugin","enabledModes","ModeEnum","COLOR_MODE_FLAG","IMAGE_MODE_FLAG","GRADIENT_MODE_FLAG","customLayoutPluginWithInitialState","native","LANGUAGES","lang","KeepStateEditor","value","React","useState","setState","allowMove","setAllowMove","onAllowMoveChanged","useCallback","checked","allowResize","setAllowResize","onAllowResizeChanged","hide","sethide","onSethideChanged","setLang","onSetLang","target","FormGroup","row","FormControlLabel","control","Switch","onChange","marginLeft","Select","l","allowMoveInEditMode","allowResizeInEditMode","onChangeLang","languages","Button","variant","onClick","document","querySelectorAll","forEach","element","ReactDOM","render","dataset","readOnly","getElementById","PositionEnum","c","s","action","previous","dispatch","useDispatch","handler","console","i","rawNode","endDrag","_b","steps","_this","previousSerializedRef","oldLang"],"mappings":"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AAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,KAEzD,kBAAiB,CACjB,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GA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","file":"static/js/main.ac948460.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nvar theme = createMuiTheme({\n    palette: {\n        type: 'dark',\n    },\n});\nexport default theme;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { Transforms } from 'slate';\nimport { useSlate } from 'slate-react';\nimport { getCurrentNodeWithPlugin } from './useCurrentNodeWithPlugin';\nimport { removePlugin } from './useRemovePlugin';\nimport getCurrentData from '../utils/getCurrentData';\nexport var addPlugin = function (editor, plugin, props) {\n    var _a = props || {}, passedData = _a.data, text = _a.text;\n    var currentNodeEntry = getCurrentNodeWithPlugin(editor, plugin);\n    if (text) {\n        var withExtraSpace = plugin.pluginType === 'component' &&\n            plugin.object === 'inline' &&\n            plugin.addExtraSpace;\n        var textToInsert = withExtraSpace ? text + ' ' : text;\n        editor.insertText(textToInsert);\n        Transforms.select(editor, {\n            anchor: editor.selection.anchor,\n            focus: __assign(__assign({}, editor.selection.focus), { offset: editor.selection.focus.offset - textToInsert.length }),\n        });\n    }\n    var data = passedData || (plugin.getInitialData ? plugin.getInitialData() : null);\n    var isActive = Boolean(currentNodeEntry);\n    if (isActive) {\n        Transforms.select(editor, currentNodeEntry[1]);\n        removePlugin(editor, plugin);\n    }\n    // add new\n    if (plugin.customAdd) {\n        plugin.customAdd(editor);\n    }\n    else if (plugin.pluginType === 'component') {\n        if (plugin.object === 'mark') {\n            editor.addMark(plugin.type, data || true);\n        }\n        else {\n            if (plugin.object === 'block' && plugin.replaceWithDefaultOnRemove) {\n                Transforms.setNodes(editor, { type: plugin.type, data: data });\n            }\n            else {\n                Transforms.wrapNodes(editor, {\n                    type: plugin.type,\n                    children: [],\n                    data: data,\n                }, { split: true });\n                // workaround for inline problems in slate\n                if (plugin.object === 'inline' &&\n                    plugin.addExtraSpace &&\n                    !text &&\n                    editor.selection) {\n                    var focus_1 = __assign({}, editor.selection.focus);\n                    Transforms.insertText(editor, ' ', {\n                        at: editor.selection.focus,\n                    });\n                    Transforms.select(editor, focus_1);\n                }\n            }\n        }\n    }\n    else if (plugin.pluginType === 'data') {\n        var existingData = getCurrentData(editor);\n        Transforms.setNodes(editor, {\n            data: __assign(__assign({}, existingData), data),\n        });\n    }\n};\nexport default (function (plugin) {\n    var editor = useSlate();\n    return useCallback(function (props) { return addPlugin(editor, plugin, props); }, []);\n});\n//# sourceMappingURL=useAddPlugin.js.map","export var colorToString = function (c) {\n    return c && 'rgba(' + c.r + ', ' + c.g + ', ' + c.b + ', ' + c.a + ')';\n};\n//# sourceMappingURL=colorToString.js.map","export var defaultSpacerState = {\n    height: 24,\n};\n//# sourceMappingURL=state.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultTranslations = {\n    buttonContent: 'Upload image',\n    noFileError: 'No file selected',\n    badExtensionError: 'Bad file type',\n    tooBigError: 'Too big',\n    uploadingError: 'Error while uploading',\n    unknownError: 'Unknown error',\n};\n//# sourceMappingURL=defaultTranslations.js.map","var withInline = function (plugins) { return function (editor) {\n    var isInline = editor.isInline;\n    editor.isInline = function (element) {\n        return plugins.some(function (plugin) {\n            return plugin.pluginType === 'component' &&\n                plugin.object === 'inline' &&\n                plugin.type === element.type;\n        })\n            ? true\n            : isInline(element);\n    };\n    return editor;\n}; };\nexport default withInline;\n//# sourceMappingURL=withInline.js.map","import { Transforms } from 'slate';\nimport HtmlToSlate from '../HtmlToSlate';\nvar withPaste = function (plugins, defaultPluginType) { return function (editor) {\n    var insertData = editor.insertData;\n    var htmlToSlate = HtmlToSlate({ plugins: plugins });\n    editor.insertData = function (data) {\n        var slateData = data.getData('application/x-slate-fragment');\n        if (slateData) {\n            insertData(data);\n            return;\n        }\n        var html = data.getData('text/html');\n        if (html) {\n            var slate = htmlToSlate(html).slate;\n            Transforms.insertFragment(editor, slate);\n            return;\n        }\n        var text = data.getData('text/plain');\n        if (text) {\n            // if there are two subsequent line breks, insert paragraph, otherway insert soft line break\n            var lines = text.split('\\n');\n            var nextWillbeParagraph = false;\n            for (var i = 0; i < lines.length; i++) {\n                var thisLine = lines[i];\n                var nextLine = lines[i + 1];\n                // add a \\n, unless the next line is empty, then its either the last entry or the following wil be a paragraph\n                var nextIsEmpty = !nextLine || !nextLine.trim();\n                var thisLineText = thisLine + (nextIsEmpty ? '' : '\\n');\n                if (!thisLine.trim()) {\n                    // this line is empty,\n                    nextWillbeParagraph = true;\n                }\n                else if (nextWillbeParagraph) {\n                    Transforms.insertNodes(editor, {\n                        type: defaultPluginType,\n                        children: [{ text: thisLineText }],\n                    });\n                    nextWillbeParagraph = false;\n                }\n                else {\n                    Transforms.insertText(editor, thisLineText);\n                    nextWillbeParagraph = false;\n                }\n            }\n            return;\n        }\n        insertData(data);\n    };\n    return editor;\n}; };\nexport default withPaste;\n//# sourceMappingURL=withPaste.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport isObject from 'lodash.isobject';\nimport React, { useCallback } from 'react';\nimport { useSelected, useFocused, } from 'slate-react';\nimport { useComponentMarkPlugins, useComponentNodePlugins, } from './pluginHooks';\nimport { getTextContents } from '../utils/getTextContent';\nimport propisValid from '@emotion/is-prop-valid';\nvar pickNativeProps = function (data) {\n    if (!isObject(data)) {\n        return {};\n    }\n    return Object.keys(data).reduce(function (acc, key) {\n        var _a;\n        if (propisValid(key)) {\n            return __assign(__assign({}, acc), (_a = {}, _a[key] = data[key], _a));\n        }\n        return acc;\n    }, {});\n};\nexport var useRenderElement = function (_a, deps) {\n    var plugins = _a.plugins, defaultPluginType = _a.defaultPluginType;\n    var componentPlugins = useComponentNodePlugins({ plugins: plugins }, deps);\n    return useCallback(function (_a) {\n        var _b = _a.element, type = _b.type, _c = _b.data, data = _c === void 0 ? {} : _c, childNodes = _b.children, children = _a.children, attributes = _a.attributes;\n        var _d;\n        var matchingPlugin = (_d = componentPlugins.find(function (plugin) { return plugin.type === type; })) !== null && _d !== void 0 ? _d : componentPlugins.find(function (plugin) { return plugin.type === defaultPluginType; });\n        if (matchingPlugin) {\n            var Component = matchingPlugin.Component, getStyle = matchingPlugin.getStyle;\n            var style = getStyle ? getStyle(data || {}) : undefined;\n            var baseProps = {\n                children: children,\n                style: style,\n            };\n            if (typeof Component === 'string' || Component instanceof String) {\n                var nativePropsInData = pickNativeProps(data);\n                // simple component like \"p\"\n                return (React.createElement(Component, __assign({}, attributes, baseProps, nativePropsInData)));\n            }\n            Component.displayName = 'SlatePlugin(' + matchingPlugin.type + ')';\n            // usefull in certain cases\n            var additionalProps = {\n                childNodes: childNodes,\n                getTextContents: function () { return getTextContents(childNodes); },\n                useSelected: useSelected,\n                useFocused: useFocused,\n            };\n            return (React.createElement(Component, __assign({}, baseProps, data, { \n                // attributes have to be spread in manually because of ref problem\n                attributes: attributes }, additionalProps)));\n        }\n        return React.createElement(\"p\", null,\n            \"unknown component \",\n            type);\n    }, deps);\n};\nexport var useRenderLeave = function (_a, deps) {\n    var plugins = _a.plugins;\n    var markPlugins = useComponentMarkPlugins({ plugins: plugins }, deps);\n    return useCallback(function (_a) {\n        var _b = _a.leaf, text = _b.text, leaveTypes = __rest(_b, [\"text\"]), attributes = _a.attributes, children = _a.children;\n        return (React.createElement(\"span\", __assign({}, attributes), Object.keys(leaveTypes).reduce(function (el, type) {\n            var matchingPlugin = markPlugins.find(function (plugin) { return plugin.type === type; });\n            if (matchingPlugin) {\n                var Component = matchingPlugin.Component, getStyle = matchingPlugin.getStyle;\n                var dataRaw = leaveTypes[type]; // usually boolean\n                var data = isObject(dataRaw) ? dataRaw : {};\n                var style = getStyle ? getStyle(data) : undefined;\n                if (typeof Component === 'string' ||\n                    Component instanceof String) {\n                    var nativePropsInData = pickNativeProps(data);\n                    return (React.createElement(Component, __assign({}, nativePropsInData, { style: style }), el));\n                }\n                return (React.createElement(Component, __assign({ childNodes: [{ text: text }], getTextContents: function () { return [text]; }, useSelected: useSelected, useFocused: useFocused, style: style }, data), el));\n            }\n            return el;\n        }, children)));\n    }, deps);\n};\n//# sourceMappingURL=renderHooks.js.map","import { useMemo } from 'react';\nexport var useComponentNodePlugins = function (_a, deps) {\n    var plugins = _a.plugins;\n    return useMemo(function () {\n        return plugins.filter(function (plugin) {\n            return plugin.pluginType === 'component' && plugin.object !== 'mark';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        );\n    }, deps);\n};\nexport var useComponentMarkPlugins = function (_a, deps) {\n    var plugins = _a.plugins;\n    return useMemo(function () {\n        return plugins.filter(function (plugin) {\n            return plugin.pluginType === 'component' && plugin.object === 'mark';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        );\n    }, deps);\n};\n//# sourceMappingURL=pluginHooks.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nexport var getTextContents = function (nodes) {\n    return nodes.reduce(function (acc, node) {\n        if (node.text) {\n            return __spread(acc, [node.text]);\n        }\n        else if (node.children) {\n            // see https://github.com/ianstormtaylor/slate/issues/3769\n            return __spread(acc, getTextContents(node.children));\n        }\n        else {\n            return acc;\n        }\n    }, []);\n};\n//# sourceMappingURL=getTextContent.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { lazyLoad } from '@react-page/core';\nimport debounce from 'lodash.debounce';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { createEditor, Transforms } from 'slate';\nimport { Editable, Slate, withReact } from 'slate-react';\nimport withInline from '../slateEnhancer/withInline';\nimport withPaste from '../slateEnhancer/withPaste';\nimport { useOnKeyDown } from './hotkeyHooks';\nimport { useRenderElement, useRenderLeave } from './renderHooks';\nvar HoverButtons = lazyLoad(function () { return import('./HoverButtons'); });\nvar Toolbar = lazyLoad(function () { return import('./Toolbar'); });\nvar SlateEditable = React.memo(function (props) {\n    var plugins = props.plugins, defaultPluginType = props.defaultPluginType, readOnly = props.readOnly, placeholder = props.placeholder;\n    var renderElement = useRenderElement({ plugins: plugins, defaultPluginType: defaultPluginType }, []);\n    var renderLeaf = useRenderLeave({ plugins: plugins }, []);\n    var onKeyDown = readOnly ? undefined : useOnKeyDown({ plugins: plugins }, []);\n    return (React.createElement(Editable, { placeholder: readOnly ? undefined : placeholder, readOnly: readOnly, renderElement: renderElement, renderLeaf: renderLeaf, onKeyDown: onKeyDown }));\n});\nvar SlateControls = function (props) {\n    var state = props.state, plugins = props.plugins, focused = props.focused, readOnly = props.readOnly, remove = props.remove, id = props.id, defaultPluginType = props.defaultPluginType;\n    var editor = useMemo(function () {\n        return withPaste(plugins, defaultPluginType)(withReact(withInline(plugins)(createEditor())));\n    }, []);\n    // useWhyDidYouUpdate('SlateControls' + id, props);\n    var onChangeDebounced = useMemo(function () { return debounce(props.onChange, 200); }, [\n        props.onChange,\n    ]);\n    var _a = __read(useState(state === null || state === void 0 ? void 0 : state.slate), 2), value = _a[0], setValue = _a[1];\n    useEffect(function () {\n        if (state.selection) {\n            // update seleciton, if changed from outside (e.g. through undo)\n            Transforms.select(editor, state.selection);\n        }\n        else {\n            // deselect, otherwise slate might throw an eerror if cursor is now on a non existing dom node\n            Transforms.deselect(editor);\n        }\n        setValue(state === null || state === void 0 ? void 0 : state.slate);\n    }, [state === null || state === void 0 ? void 0 : state.slate, state === null || state === void 0 ? void 0 : state.selection]);\n    var onChange = useCallback(function (v) {\n        if (editor.selection) {\n            setValue(v);\n            onChangeDebounced({\n                slate: v,\n                selection: editor.selection,\n            });\n        }\n    }, [onChangeDebounced]);\n    var showBottomToolbar = Boolean(focused);\n    return (React.createElement(Slate, { editor: editor, value: value, onChange: onChange },\n        !readOnly && focused && (React.createElement(HoverButtons, { plugins: props.plugins, translations: props.translations })),\n        React.createElement(SlateEditable, { placeholder: props.translations.placeholder, readOnly: readOnly, plugins: plugins, defaultPluginType: props.defaultPluginType }),\n        !readOnly ? (React.createElement(Toolbar, { plugins: plugins, show: showBottomToolbar, removeSlate: remove, id: id, name: props.name, translations: props.translations, editable: props.editable })) : null));\n};\nexport default React.memo(SlateControls);\n//# sourceMappingURL=index.js.map","import isHotkey from 'is-hotkey';\nimport React from 'react';\nimport { useSlate } from 'slate-react';\nimport { addPlugin } from '../hooks/useAddPlugin';\nimport { getCurrentNodeWithPlugin } from '../hooks/useCurrentNodeWithPlugin';\nimport { removePlugin } from '../hooks/useRemovePlugin';\nexport var useOnKeyDown = function (_a, deps) {\n    var plugins = _a.plugins;\n    var editor = useSlate();\n    return React.useCallback(function (event) {\n        plugins\n            .filter(function (plugin) { return plugin.hotKey; })\n            .forEach(function (plugin) {\n            if (isHotkey(plugin.hotKey, event)) {\n                event.preventDefault();\n                var node = getCurrentNodeWithPlugin(editor, plugin);\n                if (node) {\n                    removePlugin(editor, plugin);\n                }\n                else {\n                    addPlugin(editor, plugin);\n                }\n            }\n        });\n        // we need to prevent slate from handling undo and redo\n        if (isHotkey(['mod+z', 'mod+y'], event)) {\n            event.preventDefault();\n            return true;\n        }\n        if (isHotkey('shift+enter', event)) {\n            event.preventDefault();\n            editor.insertText('\\n');\n            return true;\n        }\n    }, deps);\n};\n//# sourceMappingURL=hotkeyHooks.js.map","// something is wrong with lerna, typescript and this import: import { lazyLoad } from '@react-page/core';\nimport loadable from '@loadable/component';\nimport { colorToString } from './ColorPicker/colorToString';\nimport darkTheme from './ThemeProvider/DarkTheme';\nvar Trash = loadable(function () { return import('./Trash/index'); });\nvar PluginDrawer = loadable(function () { return import('./PluginDrawer/index'); });\nvar DisplayModeToggle = loadable(function () { return import('./DisplayModeToggle/index'); });\nvar BottomToolbar = loadable(function () { return import('./BottomToolbar/index'); });\nvar EditorUI = loadable(function () { return import('./EditorUI/index'); });\nvar ThemeProvider = loadable(function () { return import('./ThemeProvider/index'); });\nvar ImageUpload = loadable(function () { return import('./ImageUpload/index'); });\nvar ColorPicker = loadable(function () { return import('./ColorPicker/index'); });\nexport default EditorUI;\nexport { EditorUI, Trash, PluginDrawer, DisplayModeToggle, BottomToolbar, ThemeProvider, darkTheme, ImageUpload, ColorPicker, colorToString, };\nvar Toolbar = PluginDrawer;\n/**\n * @deprecated, use PluginDrawer instead\n */\nexport { Toolbar };\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { lazyLoad, } from '@react-page/core';\nimport { HTMLRenderer } from '@react-page/renderer';\nimport React from 'react';\nvar EditableEditor = lazyLoad(function () { return import('./EditableEditor'); });\nvar Editor = function (_a) {\n    var plugins = _a.plugins, defaultPlugin = _a.defaultPlugin, readOnly = _a.readOnly, value = _a.value, onChange = _a.onChange, dndBackend = _a.dndBackend, blurGateDisabled = _a.blurGateDisabled, defaultDisplayMode = _a.defaultDisplayMode, lang = _a.lang, rest = __rest(_a, [\"plugins\", \"defaultPlugin\", \"readOnly\", \"value\", \"onChange\", \"dndBackend\", \"blurGateDisabled\", \"defaultDisplayMode\", \"lang\"]);\n    return readOnly ? (React.createElement(HTMLRenderer, { state: value, plugins: plugins, lang: lang })) : (React.createElement(EditableEditor, __assign({ plugins: plugins, defaultPlugin: defaultPlugin, value: value, onChange: onChange, dndBackend: dndBackend, blurGateDisabled: blurGateDisabled, defaultDisplayMode: defaultDisplayMode, lang: lang }, rest)));\n};\nexport default React.memo(Editor);\n//# sourceMappingURL=index.js.map","// tslint:disable:max-line-length\nimport { EditableType } from '@react-page/core';\n\nconst contents: EditableType[] = [\n  {\n    id: '1',\n    cells: [\n      {\n        id: '5ac89ec4-7536-4120-a072-8eedad0a48ff',\n        inline: null,\n        size: 12,\n        rows: [\n          {\n            id: 'd813d094-215a-43ec-bcdd-d5fd6258b915',\n            cells: [\n              {\n                id: '3fde7b92-fbfe-4b2d-85b3-bad431939df6',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {\n                          align: 'center',\n                        },\n                        type: 'HEADINGS/HEADING-ONE',\n                        children: [\n                          {\n                            text: 'ReactPage',\n                          },\n                        ],\n                      },\n                      {\n                        data: {\n                          align: 'left',\n                        },\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text: '',\n                          },\n                          {\n                            data: {\n                              href: 'https://www.ory.sh/',\n                            },\n                            type: 'LINK/LINK',\n                            children: [\n                              {\n                                text: 'ORY',\n                              },\n                            ],\n                          },\n                          {\n                            text:\n                              ' is a company building and maintaining developer tools for a safer, more accessible web. You might also like our other ',\n                          },\n                          {\n                            data: {\n                              href: 'https://github.com/ory',\n                            },\n                            type: 'LINK/LINK',\n                            children: [\n                              {\n                                text: 'Open Source',\n                              },\n                            ],\n                          },\n                          {\n                            text:\n                              ' tools! ReactPage is a smart, extensible and modern editor (\"WYSIWYG\") for the web written in React.',\n                          },\n                        ],\n                      },\n                      {\n                        data: {\n                          align: 'left',\n                        },\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              'ReactPage was written because we urgently needed a robust and modern content editing solution for our open education platform ',\n                          },\n                          {\n                            data: {\n                              href: 'https://en.serlo.org/serlo',\n                            },\n                            type: 'LINK/LINK',\n                            children: [\n                              {\n                                text: 'serlo.org',\n                              },\n                            ],\n                          },\n                          {\n                            text:\n                              '. Serlo is the largest open education platform in Germany, works like the Wikipedia and is used by millions every year.',\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: 'c15959de-4767-41b7-9814-71626d6cbcdb',\n            cells: [\n              {\n                id: '33c58cda-94b5-4c2e-9232-9aa27a4aff8d',\n                inline: null,\n                size: 6,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {\n                          align: 'left',\n                        },\n                        type: 'HEADINGS/HEADING-THREE',\n                        children: [\n                          {\n                            text: 'ORY Sites',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text: 'ORY Sites is an ',\n                          },\n                          {\n                            text: 'next-gen',\n                            'EMPHASIZE/STRONG': true,\n                          },\n                          {\n                            text: ' ',\n                          },\n                          {\n                            text: 'open source static site generator',\n                            'EMPHASIZE/STRONG': true,\n                          },\n                          {\n                            text:\n                              ' based on ReactPage. Create stunning websites, write your own designs and plugins, and be done with databases, application servers, and security updates.',\n                          },\n                        ],\n                      },\n                      {\n                        data: {\n                          align: 'center',\n                        },\n                        type: 'HEADINGS/HEADING-FIVE',\n                        children: [\n                          {\n                            text: '',\n                          },\n                          {\n                            data: {\n                              href:\n                                'https://www.ory.sh/sites?utm_source=github&utm_medium=link&utm_campaign=editor_demo',\n                            },\n                            type: 'LINK/LINK',\n                            children: [\n                              {\n                                text: 'Learn more about ORY Sites!',\n                              },\n                            ],\n                          },\n                          {\n                            text: '',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text: '',\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n              {\n                id: 'd5e4efbe-66f0-4344-9df0-f0720b5d1f5d',\n                inline: null,\n                size: 6,\n                content: {\n                  plugin: {\n                    name: 'ory/sites/plugin/content/html5-video',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    url: 'images/app-preview.mp4',\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '5f33bca6-4ab3-4429-a38f-4d02fb5a16e6',\n            cells: [\n              {\n                id: '640485f1-04d4-4579-81e0-5d8aa1dbfe24',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {\n                          align: 'center',\n                        },\n                        type: 'HEADINGS/HEADING-TWO',\n                        children: [\n                          {\n                            text: \"What's the problem?\",\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '09c5e133-ef5c-40ce-965f-a14200e4f162',\n            cells: [\n              {\n                id: '5e813953-98b7-41aa-b077-42923cc0d2c6',\n                inline: 'right',\n                size: 5,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/image',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    src: '/images/front.png',\n                  },\n                },\n              },\n              {\n                id: '2fff5d50-f252-478b-b354-181300e21419',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              'We had to realize that existing open source content editing solutions had one of the three flaws:\\r',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'LISTS/UNORDERED-LIST',\n                        children: [\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'The produced markup was horrific, a lot of sanitation had to take place and XSS is always a threat.\\r',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'The author must learn special mark up, like markdown, before being able to produce content. These text-based solutions are usually unable to specify a layout and complex data structures like tables are annoying to edit.\\r',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'Promising libraries potentially solving the above where abandoned by their maintainers, because it started as a special use case, or a free-time project.\\r',\n                              },\n                            ],\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: 'da7ba725-44a0-4be5-9e5d-53db76950b15',\n            cells: [\n              {\n                id: 'ede254d9-f54f-47c1-85c3-e0e09e816264',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {\n                          align: 'center',\n                        },\n                        type: 'HEADINGS/HEADING-TWO',\n                        children: [\n                          {\n                            text: \"So what's different?\",\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: 'de26482c-ba8a-42b3-bdfc-b4f0761e2dad',\n            cells: [\n              {\n                id: 'b2332df1-94c4-4136-867f-14c93e1efe48',\n                inline: null,\n                size: 4,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/video',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    src: 'https://www.youtube.com/watch?v=dkc65_l0Kfc',\n                  },\n                },\n              },\n              {\n                id: '71d9437b-38ef-40f9-be8b-0a5517734922',\n                inline: null,\n                size: 8,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              'We concluded that a solution must meet the following principles:\\r',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'LISTS/UNORDERED-LIST',\n                        children: [\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'The state is a normalized JSON object, no HTML involved.\\r',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'It is a visual editor that does not require programming experience or special training.\\r',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'It is built by a company, reducing the likelihood of abandonment.\\r',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text:\n                                  'Based on reusable React Components, it gives developers, authors and designers new ways of working together and creating better and richer experiences more easily.\\r',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text: 'It works on mobile and touch devices.\\r',\n                              },\n                            ],\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              'With these principles in mind, we went out and implemented ReactPage, which you are looking at right now.',\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: 'b3c394b2-f99c-4286-a348-0dc5c4592f05',\n            cells: [\n              {\n                id: 'af4d6d7b-57ac-43f2-aff6-6b141dfcf98e',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/spacer',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    height: 48,\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '338463af-5dfb-4e53-a53d-a47855247269',\n            cells: [\n              {\n                id: 'f9a5c347-8e5f-464f-8af9-b130ec2dd3bb',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {\n                          align: 'center',\n                        },\n                        type: 'HEADINGS/HEADING-TWO',\n                        children: [\n                          {\n                            text: 'Feature Spotlight',\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '111f3e10-e62f-483c-8937-9b95ca05c48d',\n            cells: [\n              {\n                id: '9e726399-4a2c-4ea7-b0f3-7742d430a861',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/divider',\n                    version: '0.0.1',\n                  },\n                  state: {},\n                },\n              },\n            ],\n          },\n          {\n            id: '76814458-ee0c-49c4-b011-937ce7e883fc',\n            cells: [\n              {\n                id: '4825fda3-916f-44f9-ac02-3be553bcd871',\n                inline: null,\n                size: 8,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {},\n                        type: 'HEADINGS/HEADING-THREE',\n                        children: [\n                          {\n                            text: 'Rich Inline Editing',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              'Presentation and modification happen in the same canvas, at the same time. Now you always know what your content looks like on desktop, tablet and mobile, in real-time!',\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n              {\n                id: '76d7587b-d978-4958-b54f-91ccb1e3d0a2',\n                inline: null,\n                size: 4,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/image',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    src: '/images/create-content.png',\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '2e1d1ba8-cdbe-4175-9990-26cdc15fce5c',\n            cells: [\n              {\n                id: '412e3261-1fb8-474f-965e-39cbc5a16d18',\n                inline: null,\n                size: 4,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/image',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    src: '/images/responsive.png',\n                  },\n                },\n              },\n              {\n                id: '02125c61-3120-49ef-9b50-70ae79409bea',\n                inline: null,\n                size: 8,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {},\n                        type: 'HEADINGS/HEADING-THREE',\n                        children: [\n                          {\n                            text: 'Responsive Layouts',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              \"Today's content is more than a monolithic blob of text. ReactPage allows you to define your own layout blocks, and create content that looks good on all devices.\",\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: 'ec4474f6-a418-4628-831b-03a7e64fd500',\n            cells: [\n              {\n                id: '78269a8f-7b29-4703-b107-b399eac3e365',\n                inline: null,\n                size: 8,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {},\n                        type: 'HEADINGS/HEADING-THREE',\n                        children: [\n                          {\n                            text: 'Sane mark-up',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              \"Most web editors work on top of the DOM. This is dangerous (XSS), hard to maintain and difficult to parse. ReactPage uses JSON only - everywhere! It's sane, tested, clean and minimal.\",\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n              {\n                id: 'e8c5696c-4769-483c-a962-2fd5f4727c0c',\n                inline: null,\n                size: 4,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/image',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    src: '/images/sane-markup.png',\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '6f226a6b-e4e8-405a-a0f8-6f370dc05763',\n            cells: [\n              {\n                id: '6c11a0d6-6857-4917-9692-eae056fd9500',\n                inline: null,\n                size: 12,\n                layout: {\n                  plugin: {\n                    name: 'ory/editor/core/layout/background',\n                    version: '0.0.1',\n                  },\n                  state: {\n                    background: '/images/sea-bg.jpg',\n                  },\n                },\n                rows: [\n                  {\n                    id: 'c9d1ff2a-f7d1-410c-b275-9dd6200114c5',\n                    cells: [\n                      {\n                        id: 'fa87ac49-73b9-4202-9034-f752fa83273c',\n                        inline: null,\n                        size: 4,\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/image',\n                            version: '0.0.1',\n                          },\n                          state: {\n                            src: '/images/react.png',\n                          },\n                        },\n                      },\n                      {\n                        id: '491d3370-e551-4b05-be4f-c926d52ee08b',\n                        inline: null,\n                        size: 8,\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/slate',\n                            version: '0.0.4',\n                          },\n                          state: {\n                            slate: [\n                              {\n                                data: {},\n                                type: 'HEADINGS/HEADING-THREE',\n                                children: [\n                                  {\n                                    text: 'React Plugin API',\n                                  },\n                                ],\n                              },\n                              {\n                                data: {},\n                                type: 'PARAGRAPH/PARAGRAPH',\n                                children: [\n                                  {\n                                    text:\n                                      \"You don't like our rich text solution, require custom layout components, need a twitter feed, want to contribute or even sell plugins? No problem with our easy-to-use React Plugin API!\",\n                                  },\n                                ],\n                              },\n                              {\n                                data: {},\n                                type: 'PARAGRAPH/PARAGRAPH',\n                                children: [\n                                  {\n                                    text:\n                                      'In fact, this section is rendered on top of an exemplary layout plugin!',\n                                  },\n                                ],\n                              },\n                            ],\n                          },\n                        },\n                      },\n                    ],\n                  },\n                ],\n              },\n            ],\n          },\n          {\n            id: 'f35a9eea-602d-448f-a1ec-c1b2357b28d5',\n            cells: [\n              {\n                id: '4e04678e-e51a-4883-8732-b8218f55fd24',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        type: 'HEADINGS/HEADING-THREE',\n                        children: [\n                          {\n                            text: 'Extend beyond text!',\n                          },\n                        ],\n                      },\n                      {\n                        children: [\n                          {\n                            text:\n                              'The built in rich text editor is extendable as well! ',\n                          },\n                        ],\n                      },\n                      {\n                        children: [\n                          {\n                            text: 'You like ',\n                          },\n                          {\n                            text: 'colors? ',\n                            SetColor: {\n                              color: 'blue',\n                            },\n                          },\n                          {\n                            text: 'write a color ',\n                            SetColor: {\n                              color: 'green',\n                            },\n                          },\n                          {\n                            text: 'plugin.',\n                            SetColor: {\n                              color: 'red',\n                            },\n                          },\n                        ],\n                      },\n                      {\n                        children: [\n                          {\n                            text: 'You are into math? How about a ',\n                          },\n                          {\n                            type: 'LINK/LINK',\n                            children: [\n                              {\n                                text: 'katex',\n                              },\n                            ],\n                            data: {\n                              href:\n                                'https://github.com/talyssonoc/react-katex/',\n                              openInNewWindow: true,\n                            },\n                          },\n                          {\n                            text: ' plugin?',\n                          },\n                        ],\n                      },\n                      {\n                        children: [\n                          {\n                            text: '',\n                          },\n                          {\n                            type: 'Katex',\n                            children: [\n                              {\n                                text: 'f(x) = ax^2 + bx +c ',\n                              },\n                            ],\n                            data: null,\n                          },\n                          {\n                            text: '',\n                          },\n                          {\n                            type: 'LINK/LINK',\n                            data: {\n                              href:\n                                'https://github.com/talyssonoc/react-katex/',\n                              openInNewWindow: false,\n                            },\n                            children: [\n                              {\n                                text: '',\n                              },\n                            ],\n                          },\n                          {\n                            text: '',\n                          },\n                        ],\n                        data: {\n                          align: 'center',\n                        },\n                      },\n                      {\n                        children: [\n                          {\n                            text: 'or even more complex formulas:',\n                          },\n                          {\n                            type: 'LINK/LINK',\n                            data: {\n                              href:\n                                'https://github.com/talyssonoc/react-katex/',\n                              openInNewWindow: false,\n                            },\n                            children: [\n                              {\n                                text: '',\n                              },\n                            ],\n                          },\n                          {\n                            text: '',\n                          },\n                        ],\n                        data: {\n                          align: 'center',\n                        },\n                      },\n                      {\n                        children: [\n                          {\n                            text: '',\n                          },\n                          {\n                            type: 'Katex',\n                            children: [\n                              {\n                                text:\n                                  'f(x) = \\\\int_{-\\\\infty}^\\\\infty\\\\hat f(\\\\xi)\\\\,e^{2 \\\\pi i \\\\xi x}\\\\,d\\\\xi ',\n                              },\n                            ],\n                            data: null,\n                          },\n                          {\n                            text: '',\n                          },\n                        ],\n                        data: {\n                          align: 'center',\n                        },\n                      },\n                      {\n                        children: [\n                          {\n                            text: '',\n                          },\n                        ],\n                        data: {\n                          align: 'center',\n                        },\n                      },\n                      {\n                        children: [\n                          {\n                            text:\n                              'These plugins are not shipped, but the example project shows you how you can create these plugins.',\n                          },\n                        ],\n                        data: {\n                          align: 'left',\n                        },\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: '5db554dd-6b14-46c6-8dd4-3de3aee946a9',\n            cells: [\n              {\n                id: '246945c0-f677-4942-b067-ecfef5624911',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {\n                          align: 'center',\n                        },\n                        type: 'HEADINGS/HEADING-TWO',\n                        children: [\n                          {\n                            text: \"That's all?\",\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n          {\n            id: 'ba89fcb0-6657-4826-abc0-1ad006dac05c',\n            cells: [\n              {\n                id: 'b368328c-86fd-4949-b0c8-7277da6c7d6d',\n                inline: null,\n                size: 12,\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.4',\n                  },\n                  state: {\n                    slate: [\n                      {\n                        data: {},\n                        type: 'PARAGRAPH/PARAGRAPH',\n                        children: [\n                          {\n                            text:\n                              'No, of course not! We are very proud of these ones as well:',\n                          },\n                        ],\n                      },\n                      {\n                        data: {},\n                        type: 'LISTS/UNORDERED-LIST',\n                        children: [\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text: 'global un-/redo with ',\n                              },\n                              {\n                                text: 'ctrl+z',\n                                'EMPHASIZE/EM': true,\n                              },\n                              {\n                                text: ' / ',\n                              },\n                              {\n                                text: 'ctrl+y',\n                                'EMPHASIZE/EM': true,\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text: 'editing shortcuts, for example ',\n                              },\n                              {\n                                text: 'ctrl+b',\n                                'EMPHASIZE/STRONG': true,\n                              },\n                              {\n                                text: ',',\n                              },\n                              {\n                                text: ' ',\n                                'EMPHASIZE/STRONG': true,\n                              },\n                              {\n                                text: 'ctrl+i, ',\n                                'EMPHASIZE/EM': true,\n                              },\n                              {\n                                text: 'ctrl+u',\n                                'EMPHASIZE/U': true,\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text: 'collaborative editing',\n                              },\n                            ],\n                          },\n                          {\n                            data: {},\n                            type: 'LISTS/LIST-ITEM',\n                            children: [\n                              {\n                                text: '... and more things to come',\n                              },\n                            ],\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                },\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  {\n    id: '2',\n    cells: [\n      {\n        rows: [\n          {\n            cells: [\n              {\n                content: {\n                  plugin: {\n                    name: 'ory/editor/core/content/slate',\n                    version: '0.0.2',\n                  },\n                  state: {},\n                },\n                id: '7d29c96e-53b8-4b3e-b0f1-758b405d6daf',\n              },\n            ],\n            id: 'd62fe894-5795-4f00-80c8-0a5c9cfe85b9',\n          },\n          {\n            cells: [\n              {\n                rows: [\n                  {\n                    cells: [\n                      {\n                        inline: 'right',\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/image',\n                            version: '0.0.1',\n                          },\n                          state: {\n                            src: '/images/grass-header.jpg',\n                          },\n                        },\n                        id: 'c3fab3ee-c086-4faf-8a88-e8f321d425c2',\n                      },\n                      {\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/slate',\n                            version: '0.0.2',\n                          },\n                          state: {\n                            importFromHtml:\n                              '<h1>Hello world</h1><p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>',\n                          },\n                        },\n                        id: '254233b6-4bf3-4d0a-8c86-ab7b88f4283c',\n                      },\n                    ],\n                    id: 'f32b324e-2d17-4658-8941-93c7380d51d8',\n                  },\n                  {\n                    cells: [\n                      {\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/slate',\n                            version: '0.0.2',\n                          },\n                          state: {\n                            importFromHtml:\n                              '<p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p>',\n                          },\n                        },\n                        id: 'c5d411d5-595c-4ff2-ac11-0d0079a814ef',\n                      },\n                    ],\n                    id: '25d9f081-28b6-45f0-bff0-5a11bc5db071',\n                  },\n                  {\n                    cells: [\n                      {\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/slate',\n                            version: '0.0.2',\n                          },\n                          state: {\n                            importFromHtml:\n                              '<p>Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>',\n                          },\n                        },\n                        id: '42cd103b-9b14-4674-a895-50c629183a00',\n                      },\n                    ],\n                    id: 'c969431c-aa25-4b81-a5e5-752751517309',\n                  },\n                  {\n                    cells: [\n                      {\n                        content: {\n                          plugin: {\n                            name: 'ory/editor/core/content/slate',\n                            version: '0.0.2',\n                          },\n                          state: {\n                            importFromHtml:\n                              '<p>Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.</p>',\n                          },\n                        },\n                        id: '15ab9e7d-70e2-4a6b-9f99-3a849a31ac59',\n                      },\n                    ],\n                    id: '83c94e3c-2fd5-4e2a-8384-4f31841dab27',\n                  },\n                ],\n                id: '9a7d26ec-ead5-429f-a596-b53935642f4b',\n              },\n            ],\n            id: '8c16dbe4-96e3-41fd-8012-6c37233d86f6',\n          },\n        ],\n        id: '15efd3c3-b683-4da6-b107-16d8d0c8cd26',\n      },\n    ],\n  },\n];\nexport default contents;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { lazyLoad, } from '@react-page/core';\nimport * as React from 'react';\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createPluginWithDef(_a) {\n    var schema = _a.schema, controlsLayout = _a.controlsLayout, Renderer = _a.Renderer, pluginSettings = __rest(_a, [\"schema\", \"controlsLayout\", \"Renderer\"]);\n    var Controls = lazyLoad(function () { return import('./Controls'); });\n    return __assign({ Component: function (props) {\n            return (React.createElement(React.Fragment, null, !props.readOnly ? (React.createElement(Controls, __assign({ controlsLayout: controlsLayout, schema: schema, Renderer: Renderer }, props))) : (React.createElement(Renderer, __assign({}, props)))));\n        } }, pluginSettings);\n}\nfunction createContentPlugin(definition) {\n    return function (customize) {\n        if (customize) {\n            return createPluginWithDef(customize(definition));\n        }\n        return createPluginWithDef(definition);\n    };\n}\nexport default createContentPlugin;\n//# sourceMappingURL=createLayoutPlugin.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar Video = /** @class */ (function (_super) {\n    __extends(Video, _super);\n    function Video(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            src: undefined,\n        };\n        _this.changeSrcPreview = _this.changeSrcPreview.bind(_this);\n        _this.commitSrc = _this.commitSrc.bind(_this);\n        return _this;\n    }\n    Video.prototype.render = function () {\n        var _a = this.props, Controls = _a.Controls, readOnly = _a.readOnly, Renderer = _a.Renderer;\n        return (React.createElement(React.Fragment, null,\n            !readOnly ? (React.createElement(Controls, __assign({}, this.props, { state: __assign(__assign({}, this.props.state), { src: this.state.src ? this.state.src : this.props.state.src }), changeSrcPreview: this.changeSrcPreview, commitSrc: this.commitSrc }))) : null,\n            React.createElement(Renderer, __assign({}, this.props))));\n    };\n    Video.prototype.changeSrcPreview = function (src) {\n        this.setState({ src: src });\n    };\n    Video.prototype.commitSrc = function () {\n        var _this = this;\n        var src = this.state.src;\n        this.setState({ src: undefined }, function () { return _this.props.onChange({ src: src }); });\n    };\n    return Video;\n}(React.PureComponent));\nexport default Video;\n// <div className=\"ory-content-plugin--video\">\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Migration } from '@react-page/core';\nimport rename from 'deep-rename-keys';\nvar migration = new Migration({\n    toVersion: '0.0.2',\n    fromVersionRange: '^0.0.1',\n    migrate: function (state) {\n        // wrap with document\n        state = __assign(__assign({}, state), (state.serialized\n            ? { serialized: { document: state.serialized } }\n            : {}));\n        // rename keys\n        state = rename(state, function (key) {\n            switch (key) {\n                case 'kind':\n                    return 'object';\n                case 'ranges':\n                    return 'leaves';\n                default:\n                    return key;\n            }\n        });\n        return state;\n    },\n});\nexport default migration;\n//# sourceMappingURL=v002.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Migration } from '@react-page/core';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar removeLeaves = function (nodes) {\n    if (!nodes) {\n        return [];\n    }\n    var cleanedNodes = nodes.reduce(function (acc, node) {\n        if (node.leaves) {\n            // we don't need the node itself, as we exepct it to be a text node\n            return __spread(acc, node.leaves.map(function (leave) { return (__assign(__assign({}, leave), { object: 'text' })); }));\n        }\n        else {\n            var cleanedNode = node.nodes\n                ? __assign(__assign({}, node), { nodes: removeLeaves(node.nodes) }) : node;\n            return __spread(acc, [cleanedNode]);\n        }\n    }, []);\n    return cleanedNodes;\n};\nvar migration = new Migration({\n    toVersion: '0.0.3',\n    fromVersionRange: '^0.0.2',\n    migrate: function (state) {\n        if (!state) {\n            return {};\n        }\n        var newState = state.serialized && state.serialized.document\n            ? __assign(__assign({}, state), { serialized: __assign(__assign({}, state.serialized), { document: __assign(__assign({}, state.serialized.document), { nodes: removeLeaves(state.serialized.document.nodes) }) }) }) : state;\n        return newState;\n    },\n});\nexport default migration;\n//# sourceMappingURL=v003.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Migration } from '@react-page/core';\nimport isEmpty from 'lodash.isempty';\nvar migrateTextNode = function (oldNode) {\n    var _a, _b;\n    return __assign({ text: oldNode.text }, ((_b = (_a = oldNode.marks) === null || _a === void 0 ? void 0 : _a.reduce(function (acc, mark) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[mark.type] = !isEmpty(mark.data) ? mark.data : true, _a)));\n    }, {})) !== null && _b !== void 0 ? _b : {}));\n};\nvar migrateElementNode = function (node) {\n    var _a, _b, _c;\n    return {\n        data: (_a = node.data) !== null && _a !== void 0 ? _a : {},\n        type: node.type,\n        children: (_c = (_b = node.nodes) === null || _b === void 0 ? void 0 : _b.map(migrateNode)) !== null && _c !== void 0 ? _c : [],\n    };\n};\nvar migrateNode = function (oldNode) {\n    if (oldNode.object === 'text') {\n        return migrateTextNode(oldNode);\n    }\n    else {\n        return migrateElementNode(oldNode);\n    }\n};\nvar migration = new Migration({\n    toVersion: '0.0.4',\n    fromVersionRange: '^0.0.3',\n    migrate: function (state) {\n        var _a, _b, _c, _d;\n        if (!state) {\n            return {};\n        }\n        var slate = (_d = (_c = (_b = (_a = state.serialized) === null || _a === void 0 ? void 0 : _a.document) === null || _b === void 0 ? void 0 : _b.nodes) === null || _c === void 0 ? void 0 : _c.map(migrateNode)) !== null && _d !== void 0 ? _d : [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var result = { slate: slate };\n        if (state.importFromHtml) {\n            result.importFromHtml = state.importFromHtml;\n        }\n        return result;\n    },\n});\nexport default migration;\n//# sourceMappingURL=v004.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nfunction createComponentPlugin(def) {\n    var customizablePlugin = function (customize) {\n        if (customize === void 0) { customize = function (d) {\n            return d;\n        }; }\n        return createComponentPlugin(customize(def));\n    };\n    customizablePlugin.toPlugin = function () { return (__assign(__assign({}, def), { pluginType: 'component' })); };\n    return customizablePlugin;\n}\nexport default createComponentPlugin;\n//# sourceMappingURL=createComponentPlugin.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nfunction createDataPlugin(def) {\n    var customizablePlugin = function (customize) {\n        if (customize === void 0) { customize = function (d) {\n            return d;\n        }; }\n        return createDataPlugin(customize(def));\n    };\n    customizablePlugin.toPlugin = function () { return (__assign({ pluginType: 'data' }, def)); };\n    return customizablePlugin;\n}\nexport default createDataPlugin;\n//# sourceMappingURL=createDataPlugin.js.map","import createComponentPlugin from '../../pluginFactories/createComponentPlugin';\nexport var getAlignmentFromElement = function (el) {\n    var _a;\n    var align = (_a = el === null || el === void 0 ? void 0 : el.style) === null || _a === void 0 ? void 0 : _a.textAlign;\n    if (align) {\n        return {\n            align: align,\n        };\n    }\n};\nexport default {\n    paragraph: createComponentPlugin({\n        type: 'PARAGRAPH/PARAGRAPH',\n        label: 'Paragraph',\n        object: 'block',\n        addToolbarButton: false,\n        addHoverButton: false,\n        deserialize: {\n            tagName: 'p',\n            getData: getAlignmentFromElement,\n        },\n        getStyle: function (_a) {\n            var align = _a.align;\n            return ({ textAlign: align });\n        },\n        Component: 'p',\n    }),\n    // currently only for deserialize\n    pre: createComponentPlugin({\n        type: 'PARAGRAPH/PRE',\n        label: 'Pre',\n        object: 'block',\n        addToolbarButton: false,\n        addHoverButton: false,\n        deserialize: {\n            tagName: 'pre',\n            getData: getAlignmentFromElement,\n        },\n        getStyle: function (_a) {\n            var align = _a.align;\n            return ({ textAlign: align });\n        },\n        Component: 'pre',\n    }),\n};\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/ban-types */\nimport { getAlignmentFromElement } from '../plugins/paragraphs';\nimport createComponentPlugin from './createComponentPlugin';\nfunction createSimpleHtmlBlockPlugin(def) {\n    return createComponentPlugin({\n        type: def.type,\n        object: 'block',\n        hotKey: def.hotKey,\n        replaceWithDefaultOnRemove: def.replaceWithDefaultOnRemove,\n        icon: def.icon,\n        label: def.label,\n        onKeyDown: def.onKeyDown,\n        addToolbarButton: !def.noButton,\n        customAdd: def.customAdd,\n        customRemove: def.customRemove,\n        schema: def.schema,\n        addHoverButton: false,\n        deserialize: {\n            tagName: def.tagName,\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            getData: def.getData || getAlignmentFromElement,\n        },\n        getStyle: function (_a) {\n            var align = _a.align;\n            return ({ textAlign: align });\n        },\n        Component: def.tagName,\n    });\n}\nexport default createSimpleHtmlBlockPlugin;\n//# sourceMappingURL=createSimpleHtmlBlockPlugin.js.map","import createSimpleHtmlBlockPlugin from './createSimpleHtmlBlockPlugin';\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createHeadingsPlugin(def) {\n    return createSimpleHtmlBlockPlugin({\n        type: def.type,\n        hotKey: 'mod+' + def.level,\n        replaceWithDefaultOnRemove: true,\n        icon: def.icon,\n        label: \"Heading \" + def.level,\n        tagName: ('h' + def.level),\n    });\n}\nexport default createHeadingsPlugin;\n//# sourceMappingURL=createHeadingsPlugin.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Editor, Path, Text, Transforms } from 'slate';\nexport var getActiveList = function (editor, allListTypes) {\n    var _a = __read(Editor.nodes(editor, {\n        match: function (elem) { return allListTypes.includes(elem.type); },\n        mode: 'lowest',\n    }), 1), matchingNode = _a[0];\n    return matchingNode;\n};\nexport var getActiveListType = function (editor, allListTypes) {\n    var _a, _b;\n    return (_b = (_a = getActiveList(editor, allListTypes)) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.type;\n};\nexport var getPreviousListItem = function (editor, listItemType) {\n    var _a = __read(Editor.nodes(editor, {\n        match: function (elem) { return elem.type === listItemType; },\n        mode: 'lowest',\n    }), 1), currentLi = _a[0];\n    var hasPrevious = currentLi && currentLi[1][currentLi[1].length - 1] > 0;\n    return hasPrevious ? Editor.node(editor, Path.previous(currentLi[1])) : null;\n};\nexport var increaseListIndention = function (editor, def, listType) {\n    var currentActiveType = getActiveListType(editor, def.allListTypes);\n    var previous = getPreviousListItem(editor, def.listItemType);\n    Transforms.setNodes(editor, {\n        type: def.listItemType,\n    });\n    if (previous) {\n        // first make the previous node a paragraph\n        Transforms.setNodes(editor, {\n            type: null,\n        }, {\n            at: previous[1],\n        });\n        // wrap the pararaph as a new list item\n        Transforms.wrapNodes(editor, {\n            type: def.listItemType,\n            children: [],\n        }, {\n            at: previous[1],\n        });\n        // move the current node after the paragraph\n        Transforms.moveNodes(editor, {\n            to: __spread(previous[1], [1]),\n        });\n        Transforms.wrapNodes(editor, {\n            type: listType !== null && listType !== void 0 ? listType : currentActiveType,\n            children: [],\n        });\n    }\n    else {\n        Transforms.wrapNodes(editor, {\n            type: listType !== null && listType !== void 0 ? listType : currentActiveType,\n            children: [],\n        });\n    }\n};\nvar moveToParent = function (editor, nodePath, targetPath, parentIsList) {\n    var _a;\n    Transforms.moveNodes(editor, {\n        at: nodePath,\n        to: targetPath,\n    });\n    if (!parentIsList) {\n        var targetNode = Editor.node(editor, targetPath);\n        // see https://github.com/ianstormtaylor/slate/issues/3769\n        var onlyTextChildren = (_a = targetNode === null || targetNode === void 0 ? void 0 : targetNode[0].children) === null || _a === void 0 ? void 0 : _a.every(function (child) { return Text.isText(child) || Editor.isInline(editor, child); });\n        if (onlyTextChildren) {\n            Transforms.setNodes(editor, {\n                type: null,\n            }, {\n                at: targetPath,\n            });\n        }\n        else {\n            Transforms.unwrapNodes(editor, {\n                at: targetPath,\n            });\n        }\n    }\n};\nexport var decreaseListIndention = function (editor, def) {\n    var _a = __read(Editor.nodes(editor, {\n        match: function (elem) { return elem.type === def.listItemType; },\n        mode: 'lowest',\n    }), 1), currentLi = _a[0];\n    var currentLiPath = currentLi[1];\n    var currentParent = Path.parent(currentLiPath);\n    var parentListItemPath = Path.parent(currentParent);\n    var parentListItem = Editor.node(editor, parentListItemPath);\n    var parentIsList = (parentListItem === null || parentListItem === void 0 ? void 0 : parentListItem[0].type) === def.listItemType;\n    var isFirstInItsList = currentLiPath[currentLiPath.length - 1] === 0;\n    var targetPath = parentIsList\n        ? Path.next(parentListItemPath)\n        : Path.next(currentParent);\n    var next;\n    do {\n        next = Editor.next(editor, {\n            at: currentLiPath,\n        });\n        if (next) {\n            moveToParent(editor, next[1], targetPath, parentIsList);\n        }\n    } while (next);\n    moveToParent(editor, currentLiPath, targetPath, parentIsList);\n    if (isFirstInItsList) {\n        // the list will be empty now, remove it\n        Transforms.removeNodes(editor, {\n            at: currentParent,\n        });\n        if (parentIsList) {\n            var previousParagraphPath = __spread(Path.previous(targetPath), [0]);\n            var previousParagraph = Editor.node(editor, previousParagraphPath);\n            if (!(previousParagraph === null || previousParagraph === void 0 ? void 0 : previousParagraph[0].type)) {\n                Transforms.unwrapNodes(editor, {\n                    at: previousParagraphPath,\n                    split: true,\n                });\n            }\n        }\n    }\n};\n//# sourceMappingURL=listUtils.js.map","import { decreaseListIndention, getActiveListType, getPreviousListItem, increaseListIndention, } from './utils/listUtils';\nvar ceateSlatePlugin = function (def) {\n    return [\n        {\n            pluginType: 'custom',\n            addToolbarButton: true,\n            addHoverButton: false,\n            icon: def.iconIncrease,\n            label: def.labelIncrease,\n            customAdd: function (editor) {\n                increaseListIndention(editor, {\n                    allListTypes: def.allListTypes,\n                    listItemType: def.listItemType,\n                });\n            },\n            customRemove: function (editor) {\n                decreaseListIndention(editor, {\n                    allListTypes: def.allListTypes,\n                    listItemType: def.listItemType,\n                });\n            },\n            isDisabled: function (editor) {\n                var previous = getPreviousListItem(editor, def.listItemType);\n                return !previous;\n            },\n        },\n        {\n            pluginType: 'custom',\n            addToolbarButton: true,\n            addHoverButton: false,\n            icon: def.iconDecrease,\n            label: def.labelDecrease,\n            customAdd: function (editor) {\n                decreaseListIndention(editor, {\n                    allListTypes: def.allListTypes,\n                    listItemType: def.listItemType,\n                });\n            },\n            customRemove: function (editor) {\n                increaseListIndention(editor, {\n                    allListTypes: def.allListTypes,\n                    listItemType: def.listItemType,\n                });\n            },\n            isDisabled: function (editor) {\n                return !getActiveListType(editor, def.allListTypes);\n            },\n        },\n    ];\n};\nfunction createListIndentionPlugin(def) {\n    var customizablePlugin = function (customize) {\n        return createListIndentionPlugin(customize(def));\n    };\n    customizablePlugin.toPlugin = function () { return ceateSlatePlugin(def); };\n    return customizablePlugin;\n}\nexport default createListIndentionPlugin;\n//# sourceMappingURL=createListIndentionPlugin.js.map","import createSimpleHtmlBlockPlugin from './createSimpleHtmlBlockPlugin';\nexport default function (def) {\n    return createSimpleHtmlBlockPlugin({\n        noButton: true,\n        tagName: def.tagName,\n        type: def.type,\n    });\n}\n//# sourceMappingURL=createListItemPlugin.js.map","import { Transforms } from 'slate';\nimport createListItemPlugin from './createListItemPlugin';\nimport createSimpleHtmlBlockPlugin from './createSimpleHtmlBlockPlugin';\nimport { decreaseListIndention, getActiveList, increaseListIndention, } from './utils/listUtils';\nfunction createSlatePlugins(def, customizers) {\n    if (customizers === void 0) { customizers = {}; }\n    return [\n        createSimpleHtmlBlockPlugin({\n            type: def.type,\n            icon: def.icon,\n            label: def.label,\n            noButton: def.noButton,\n            tagName: def.tagName,\n            customAdd: function (editor) {\n                var currentList = getActiveList(editor, def.allListTypes);\n                if (!currentList) {\n                    increaseListIndention(editor, {\n                        allListTypes: def.allListTypes,\n                        listItemType: def.listItem.type,\n                    }, def.type);\n                }\n                else {\n                    // change type\n                    Transforms.setNodes(editor, {\n                        type: def.type,\n                    }, {\n                        at: currentList[1],\n                    });\n                }\n            },\n            customRemove: function (editor) {\n                decreaseListIndention(editor, {\n                    allListTypes: def.allListTypes,\n                    listItemType: def.listItem.type,\n                });\n            },\n        })(customizers.customizeList),\n        createListItemPlugin(def.listItem)(customizers.customizeListItem),\n    ];\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction mergeCustomizer(c1, c2) {\n    return {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        customizeList: function (def) {\n            var def2 = (c1 === null || c1 === void 0 ? void 0 : c1.customizeList) ? c1.customizeList(def) : def;\n            return (c2 === null || c2 === void 0 ? void 0 : c2.customizeList) ? c2.customizeList(def2) : def2;\n        },\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        customizeListItem: function (def) {\n            var def2 = (c1 === null || c1 === void 0 ? void 0 : c1.customizeList) ? c1.customizeListItem(def) : def;\n            return (c2 === null || c2 === void 0 ? void 0 : c2.customizeList) ? c2.customizeListItem(def2) : def2;\n        },\n    };\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createListPlugin(def) {\n    var inner = function (innerdef, customizersIn) {\n        var customizablePlugin = function (customizers) {\n            return inner(innerdef, mergeCustomizer(customizersIn, customizers));\n        };\n        customizablePlugin.toPlugin = function () {\n            return createSlatePlugins(innerdef, customizersIn).map(function (plugin) {\n                return plugin.toPlugin();\n            });\n        };\n        return customizablePlugin;\n    };\n    return inner(def);\n}\nexport default createListPlugin;\n//# sourceMappingURL=createListPlugin.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport createComponentPlugin from './createComponentPlugin';\nexport default (function (markDef) {\n    return createComponentPlugin({\n        type: markDef.type,\n        object: 'mark',\n        hotKey: markDef.hotKey,\n        icon: markDef.icon,\n        label: markDef.label,\n        addToolbarButton: false,\n        addHoverButton: true,\n        deserialize: {\n            tagName: markDef.tagName,\n        },\n        Component: function (_a) {\n            var children = _a.children, attributes = _a.attributes;\n            var Tag = markDef.tagName;\n            return React.createElement(Tag, __assign({}, attributes), children);\n        },\n    });\n});\n//# sourceMappingURL=createMarkPlugin.js.map","import { lazyLoad } from '@react-page/core';\nimport * as React from 'react';\nimport createDataPlugin from '../pluginFactories/createDataPlugin';\nvar AlignLeftIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatAlignLeft');\n});\nvar AlignCenterIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatAlignCenter');\n});\nvar AlignRightIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatAlignRight');\n});\nvar AlignJustifyIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatAlignJustify');\n});\nvar left = createDataPlugin({\n    icon: React.createElement(AlignLeftIcon, null),\n    label: 'Align Left',\n    object: 'block',\n    addToolbarButton: true,\n    addHoverButton: false,\n    dataMatches: function (data) { return (data === null || data === void 0 ? void 0 : data.align) === 'left'; },\n    getInitialData: function () { return ({ align: 'left' }); },\n});\nvar center = createDataPlugin({\n    icon: React.createElement(AlignCenterIcon, null),\n    label: 'Align Center',\n    object: 'block',\n    addToolbarButton: true,\n    addHoverButton: false,\n    dataMatches: function (data) { return (data === null || data === void 0 ? void 0 : data.align) === 'center'; },\n    getInitialData: function () { return ({ align: 'center' }); },\n});\nvar right = createDataPlugin({\n    icon: React.createElement(AlignRightIcon, null),\n    label: 'Align Right',\n    object: 'block',\n    addToolbarButton: true,\n    addHoverButton: false,\n    dataMatches: function (data) { return (data === null || data === void 0 ? void 0 : data.align) === 'right'; },\n    getInitialData: function () { return ({ align: 'right' }); },\n});\nvar justify = createDataPlugin({\n    icon: React.createElement(AlignJustifyIcon, null),\n    label: 'Align Justify',\n    object: 'block',\n    addToolbarButton: true,\n    addHoverButton: false,\n    dataMatches: function (data) { return (data === null || data === void 0 ? void 0 : data.align) === 'justify'; },\n    getInitialData: function () { return ({ align: 'justify' }); },\n});\nexport default {\n    left: left,\n    center: center,\n    right: right,\n    justify: justify,\n};\n//# sourceMappingURL=alignment.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { lazyLoad } from '@react-page/core';\nimport React from 'react';\nimport createComponentPlugin from '../../pluginFactories/createComponentPlugin';\nvar Icon = lazyLoad(function () { return import('@material-ui/icons/Code'); });\nvar block = createComponentPlugin({\n    type: 'CODE/CODE',\n    object: 'block',\n    icon: React.createElement(Icon, null),\n    label: 'Code Block',\n    addToolbarButton: true,\n    addHoverButton: false,\n    deserialize: {\n        tagName: 'code',\n    },\n    Component: function (_a) {\n        var children = _a.children, attributes = _a.attributes;\n        return (React.createElement(\"code\", __assign({}, attributes, { style: {\n                display: 'block',\n                overflow: 'scroll',\n            } }), children));\n    },\n});\nvar mark = createComponentPlugin({\n    type: 'CODE/CODE',\n    object: 'mark',\n    icon: React.createElement(Icon, null),\n    label: 'Code',\n    addHoverButton: true,\n    addToolbarButton: false,\n    deserialize: {\n        tagName: 'code',\n    },\n    Component: function (_a) {\n        var children = _a.children, attributes = _a.attributes;\n        return (React.createElement(\"code\", __assign({ style: { whiteSpace: 'pre-wrap' } }, attributes), children));\n    },\n});\nexport default {\n    mark: mark,\n    block: block,\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { lazyLoad } from '@react-page/core';\nimport createMarkPlugin from '../../pluginFactories/createMarkPlugin';\nvar ItalicIcon = lazyLoad(function () { return import('@material-ui/icons/FormatItalic'); });\nexport default createMarkPlugin({\n    type: 'EMPHASIZE/EM',\n    tagName: 'em',\n    icon: React.createElement(ItalicIcon, null),\n    label: 'Italic',\n    hotKey: 'mod+i',\n});\n//# sourceMappingURL=em.js.map","import React from 'react';\nimport { lazyLoad } from '@react-page/core';\nimport createMarkPlugin from '../../pluginFactories/createMarkPlugin';\nvar BoldIcon = lazyLoad(function () { return import('@material-ui/icons/FormatBold'); });\nexport default createMarkPlugin({\n    type: 'EMPHASIZE/STRONG',\n    tagName: 'strong',\n    icon: React.createElement(BoldIcon, null),\n    label: 'Bold',\n    hotKey: 'mod+b',\n});\n//# sourceMappingURL=strong.js.map","import React from 'react';\nimport { lazyLoad } from '@react-page/core';\nimport createMarkPlugin from '../../pluginFactories/createMarkPlugin';\nvar UnderlinedIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatUnderlined');\n});\nexport default createMarkPlugin({\n    type: 'EMPHASIZE/U',\n    tagName: 'u',\n    icon: React.createElement(UnderlinedIcon, null),\n    label: 'Underline',\n    hotKey: 'mod+u',\n});\n//# sourceMappingURL=underline.js.map","import em from './em';\nimport strong from './strong';\nimport underline from './underline';\nexport default { em: em, strong: strong, underline: underline };\n//# sourceMappingURL=index.js.map","import createHeadingsPlugin from '../../pluginFactories/createHeadingsPlugin';\nimport { lazyLoad } from '@react-page/core';\nimport React from 'react';\nvar H1Icon = lazyLoad(function () { return import('@material-ui/icons/LooksOne'); });\nvar H2Icon = lazyLoad(function () { return import('@material-ui/icons/LooksTwo'); });\nvar H3Icon = lazyLoad(function () { return import('@material-ui/icons/Looks3'); });\nvar H4Icon = lazyLoad(function () { return import('@material-ui/icons/Looks4'); });\nvar H5Icon = lazyLoad(function () { return import('@material-ui/icons/Looks5'); });\nvar H6Icon = lazyLoad(function () { return import('@material-ui/icons/Looks6'); });\nexport default {\n    h1: createHeadingsPlugin({\n        type: 'HEADINGS/HEADING-ONE',\n        level: 1,\n        icon: React.createElement(H1Icon, null),\n    }),\n    h2: createHeadingsPlugin({\n        type: 'HEADINGS/HEADING-TWO',\n        level: 2,\n        icon: React.createElement(H2Icon, null),\n    }),\n    h3: createHeadingsPlugin({\n        type: 'HEADINGS/HEADING-THREE',\n        level: 3,\n        icon: React.createElement(H3Icon, null),\n    }),\n    h4: createHeadingsPlugin({\n        type: 'HEADINGS/HEADING-FOUR',\n        level: 4,\n        icon: React.createElement(H4Icon, null),\n    }),\n    h5: createHeadingsPlugin({\n        type: 'HEADINGS/HEADING-FIVE',\n        level: 5,\n        icon: React.createElement(H5Icon, null),\n    }),\n    h6: createHeadingsPlugin({\n        type: 'HEADINGS/HEADING-SIX',\n        level: 6,\n        icon: React.createElement(H6Icon, null),\n    }),\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { lazyLoad } from '@react-page/core';\nimport React from 'react';\nimport createComponentPlugin from '../../pluginFactories/createComponentPlugin';\nvar LinkIcon = lazyLoad(function () { return import('@material-ui/icons/Link'); });\nvar link = createComponentPlugin({\n    type: 'LINK/LINK',\n    object: 'inline',\n    icon: React.createElement(LinkIcon, null),\n    label: 'Link',\n    addHoverButton: true,\n    addToolbarButton: true,\n    schema: {\n        type: 'object',\n        required: ['href'],\n        properties: {\n            href: {\n                type: 'string',\n            },\n            openInNewWindow: {\n                type: 'boolean',\n            },\n        },\n    },\n    deserialize: {\n        tagName: 'a',\n        getData: function (el) { return ({\n            href: el.getAttribute('href') || '',\n            openInNewWindow: el.getAttribute('target') === '_blank',\n        }); },\n    },\n    Component: function (_a) {\n        var children = _a.children, openInNewWindow = _a.openInNewWindow, href = _a.href, attributes = _a.attributes;\n        return (React.createElement(\"a\", __assign({}, attributes, { target: openInNewWindow ? '_blank' : undefined, href: href }), children));\n    },\n});\nexport default link;\n//# sourceMappingURL=link.js.map","import link from './link';\nimport anchor from './anchor';\nexport default {\n    anchor: anchor,\n    link: link,\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport createDataPlugin from '../../pluginFactories/createDataPlugin';\nvar anchor = createDataPlugin({\n    addHoverButton: false,\n    addToolbarButton: true,\n    object: 'block',\n    label: 'Id for Link Anchor',\n    icon: React.createElement(\"span\", null, \"#\"),\n    properties: ['id'],\n    dataMatches: function (data) {\n        return Boolean(data === null || data === void 0 ? void 0 : data.id);\n    },\n    schema: {\n        type: 'object',\n        required: ['id'],\n        properties: {\n            id: {\n                type: 'string',\n            },\n        },\n    },\n});\nexport default anchor;\n//# sourceMappingURL=anchor.js.map","import { lazyLoad } from '@react-page/core';\nimport React from 'react';\nimport { createListItemPlugin } from '../../pluginFactories';\nimport createIndentionPlugin from '../../pluginFactories/createListIndentionPlugin';\nimport createListsPlugin from '../../pluginFactories/createListPlugin';\nvar ListIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatListBulleted');\n});\nvar OrderedListIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatListNumbered');\n});\nexport var UL = 'LISTS/UNORDERED-LIST';\nexport var OL = 'LISTS/ORDERED-LIST';\nexport var LI = 'LISTS/LIST-ITEM';\nvar IncreaseIndentIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatIndentIncrease');\n});\nvar DecreaseIndentIcon = lazyLoad(function () {\n    return import('@material-ui/icons/FormatIndentDecrease');\n});\nvar ol = createListsPlugin({\n    type: OL,\n    allListTypes: [UL, OL],\n    icon: React.createElement(OrderedListIcon, null),\n    label: 'Ordered List',\n    tagName: 'ol',\n    listItem: {\n        tagName: 'li',\n        type: LI,\n    },\n});\nvar ul = createListsPlugin({\n    type: UL,\n    allListTypes: [UL, OL],\n    icon: React.createElement(ListIcon, null),\n    label: 'Unordered List',\n    tagName: 'ul',\n    listItem: {\n        tagName: 'li',\n        type: LI,\n    },\n});\n// only used for easier access on createInitialSlateState\nvar li = createListItemPlugin({\n    tagName: 'li',\n    type: LI,\n});\nvar indention = createIndentionPlugin({\n    iconIncrease: React.createElement(IncreaseIndentIcon, null),\n    iconDecrease: React.createElement(DecreaseIndentIcon, null),\n    listItemType: LI,\n    allListTypes: [UL, OL],\n    labelIncrease: 'Increase Indentation',\n    labelDecrease: 'Decrease Indentation',\n});\nexport default {\n    ol: ol,\n    ul: ul,\n    li: li,\n    indention: indention,\n};\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { lazyLoad } from '@react-page/core';\nimport createSimpleHtmlBlockPlugin from '../pluginFactories/createSimpleHtmlBlockPlugin';\nvar BlockquoteIcon = lazyLoad(function () { return import('@material-ui/icons/FormatQuote'); });\nexport default {\n    blockQuote: createSimpleHtmlBlockPlugin({\n        type: 'BLOCKQUOTE/BLOCKQUOTE',\n        icon: React.createElement(BlockquoteIcon, null),\n        label: 'Quote',\n        tagName: 'blockquote',\n    }),\n};\n//# sourceMappingURL=quotes.js.map","// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default function flattenDeep(arr1) {\n    if (!Array.isArray(arr1)) {\n        return [arr1];\n    }\n    return arr1.reduce(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function (acc, val) {\n        return Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val);\n    }, []);\n}\n//# sourceMappingURL=flattenDeep.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport flattenDeep from './flattenDeep';\n/**\n * FIXME: transformInitialSlateState does some polymorphic type magic, so that it is directly\n * compatible with the shipped default plugins or plugins created with pluginFactories\n *\n * This is a bit ugly and might be hard to understand,\n * but on the other hand its easy to use for developers that use this library\n *\n * Basicaly what we do is to unpack the factory or its result until we find\n * - object: \"block\" | \"inline\" | \"mark\"\n * - type: \"SOMESTRING\"\n *\n * We might revisit this in the future.\n *\n */\nvar transformChildren = function (defNodes) {\n    return defNodes.map(function (defNode) {\n        var _a;\n        if (defNode.plugin) {\n            var defPluginNode = defNode;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var slatePluginOrList = defPluginNode.plugin.toPlugin\n                ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    defPluginNode.plugin.toPlugin()\n                : defPluginNode.plugin;\n            // the result of plugin.toPlugin might be an array, e.g. the list plugin is an array, because it defines ul, li AND indention-options on the same plugin\n            var firstComponentPlugin = flattenDeep(slatePluginOrList).find(function (plugin) { return plugin.pluginType === 'component' || plugin; });\n            if (firstComponentPlugin &&\n                firstComponentPlugin.pluginType === 'component') {\n                return __assign(__assign({ type: firstComponentPlugin.type }, ((_a = defPluginNode.data) !== null && _a !== void 0 ? _a : {})), { children: defPluginNode.children\n                        ? transformChildren(defPluginNode.children)\n                        : [] });\n            }\n            else {\n                return null;\n            }\n        }\n        else if (typeof defNode === 'string') {\n            return {\n                text: defNode,\n            };\n        }\n    });\n};\nexport default (function (def) { return ({\n    slate: transformChildren(def.children),\n}); });\n//# sourceMappingURL=transformInitialSlateState.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport Controls from '../Controls';\nexport default (function (props) { return React.createElement(Controls, __assign({}, props, { readOnly: true })); });\n//# sourceMappingURL=index.js.map","export var defaultTranslations = {\n    pluginName: 'Text',\n    pluginDescription: 'An advanced rich text area.',\n    placeholder: 'Write here...',\n    linkPlugin: {\n        cancel: 'Cancel',\n        ok: 'Ok',\n        createLink: 'Create a link',\n        linkTitlePlaceholder: 'Link title',\n        linkHrefPlaceholder: 'http://example.com/my/link.html',\n        linkOpenInNewWindowLabel: 'Open in new window',\n    },\n};\n//# sourceMappingURL=settings.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport flattenDeep from './flattenDeep';\nexport default (function (plugins) {\n    return Object.keys(plugins).reduce(function (acc, groupKey) {\n        var group = plugins[groupKey];\n        var groupPlugins = Object.keys(group).reduce(function (innerAcc, key) {\n            var pluginOrFactory = plugins[groupKey][key];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var result = pluginOrFactory.toPlugin\n                ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    pluginOrFactory.toPlugin()\n                : pluginOrFactory;\n            return __spread(innerAcc, flattenDeep(result));\n        }, []);\n        return __spread(acc, groupPlugins);\n    }, []);\n});\n//# sourceMappingURL=makeSlatePluginsFromDef.js.map","import { pluginFactories } from '@react-page/plugins-slate';\nimport React from 'react';\n\nexport default pluginFactories.createComponentPlugin<{\n  color: string;\n}>({\n  addHoverButton: true,\n  addToolbarButton: true,\n  type: 'SetColor',\n  object: 'mark',\n  icon: <span>Color</span>,\n  label: 'Set Color',\n  Component: 'span',\n  getStyle: ({ color }) => ({ color }),\n\n  schema: {\n    type: 'object',\n    required: ['color'],\n    properties: {\n      color: {\n        default: 'blue',\n        type: 'string',\n        enum: ['red', 'blue', 'green', 'orange'],\n      },\n    },\n  },\n});\n","import React from 'react';\nimport { pluginFactories } from '@react-page/plugins-slate';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { InlineMath } from 'react-katex';\nimport 'katex/dist/katex.min.css';\n\nexport default pluginFactories.createComponentPlugin({\n  Component: (props) => {\n    const focused = props.useFocused();\n    const selected = props.useSelected();\n\n    const showSource = focused && selected;\n    const math = props.getTextContents().join('\\n').trim();\n    return (\n      <span style={!showSource ? { position: 'relative' } : {}}>\n        {math ? (\n          <span\n            contentEditable={false}\n            style={\n              showSource\n                ? {\n                    position: 'absolute',\n                    transform: 'translateY(-100%)',\n                    transition: '0.2s',\n                    backgroundColor: 'white',\n                    border: '1px solid',\n                    padding: 12,\n                    display: 'inline-block',\n                    zIndex: 10,\n                  }\n                : {}\n            }\n          >\n            <InlineMath math={math} />\n          </span>\n        ) : null}\n        <span\n          style={\n            showSource\n              ? {\n                  border: '1px solid',\n                  backgroundColor: 'white',\n                  padding: 12,\n                }\n              : {\n                  opacity: '0',\n                  position: 'absolute',\n                  left: 0,\n                  top: 0,\n                }\n          }\n        >\n          {props.children}\n        </span>\n      </span>\n    );\n  },\n  addHoverButton: true,\n  addToolbarButton: true,\n  type: 'Katex',\n  object: 'inline',\n  addExtraSpace: true,\n  icon: <span></span>, // or add a fancy icon\n  label: 'Katex',\n});\n","import slate from '@react-page/plugins-slate';\nimport '@react-page/plugins-slate/lib/index.css';\nimport React from 'react';\nimport customSlatePlugin from './customSlatePlugin';\nimport katexSlatePlugin from './katexSlatePlugin';\nimport styled from 'styled-components';\nexport const defaultSlate = slate((def) => ({\n  ...def,\n  plugins: {\n    // this will pull in all predefined plugins\n    ...def.plugins,\n    // you can also add custom plugins. The namespace `custom` is just for organizing plugins\n    custom: {\n      custom1: customSlatePlugin,\n      katex: katexSlatePlugin,\n    },\n  },\n}));\n\n// you can further customize slate to your needs\nexport const customizedSlate = slate((def) => ({\n  ...def,\n  name: def.name + '/reduced', // you have to give it some other name\n  hideInMenu: true, // don't show in insert menu, we only use it as intial children\n  plugins: {\n    // here we do not use all plugins, but select them\n    headings: {\n      h2: def.plugins.headings.h2,\n\n      // you can also customize default slate plugins easily!\n      // e.g. change just the style:\n      h3: def.plugins.headings.h3((d) => {\n        return {\n          ...d, // this is the default configuration of this plugin\n          // we can override properties, like `getStyle`:\n          getStyle: (props) => ({ ...d.getStyle?.(props), color: 'magenta' }),\n        };\n      }),\n      //  we can also replace the component that renders the plugin\n      h4: def.plugins.headings.h4((d) => {\n        return {\n          ...d,\n          Component: (props) => {\n            return (\n              // be sure to mixin attributes, this is required for slate\n              <h4 style={props.style} {...props.attributes}>\n                {/* if you add custom html into slate, set  contentEditable={false}*/}\n                <span contentEditable={false} role=\"img\" aria-label=\"Ladybug\">\n                  \n                </span>\n                {props.children}\n                <span contentEditable={false} role=\"img\" aria-label=\"Heart\">\n                  {' '}\n                  \n                </span>\n              </h4>\n            );\n          },\n        };\n      }),\n      h5: def.plugins.headings.h5((d) => {\n        return {\n          ...d,\n          // if you use styled-components, you can use it as well\n          Component: styled.h5`\n            text-decoration: underline;\n            font-style: italic;\n          `,\n        };\n      }),\n    },\n    paragraphs: def.plugins.paragraphs,\n    emphasize: def.plugins.emphasize,\n    alignment: def.plugins.alignment,\n  },\n}));\n","import { createLayoutPlugin } from '@react-page/create-plugin-materialui';\nimport React from 'react';\nimport { defaultSlate, customizedSlate } from './slate';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default () =>\n  createLayoutPlugin<{\n    backgroundColor: string;\n  }>({\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Renderer: ({ children, state }: any) => (\n      <div\n        style={{\n          border: '1px solid black',\n          backgroundColor: state.backgroundColor,\n        }}\n      >\n        {children}\n      </div>\n    ),\n    createInitialChildren: () => {\n      return [\n        [\n          {\n            content: {\n              plugin: customizedSlate,\n              state: customizedSlate.createInitialSlateState(({ plugins }) => ({\n                children: [\n                  {\n                    plugin: plugins.headings.h3,\n                    children: ['Hello world'],\n                  },\n                  {\n                    plugin: plugins.paragraphs.paragraph,\n                    children: ['Title and paragraph'],\n                  },\n                ],\n              })),\n            },\n          },\n          {\n            content: {\n              plugin: defaultSlate,\n              state: defaultSlate.createInitialSlateState(({ plugins }) => ({\n                children: [\n                  {\n                    plugin: plugins.headings.h1,\n                    children: ['A default list'],\n                  },\n                  {\n                    plugin: plugins.lists.ul,\n                    children: [\n                      {\n                        plugin: plugins.lists.li,\n                        children: [\n                          {\n                            plugin: plugins.paragraphs.paragraph,\n                            children: ['one'],\n                          },\n                        ],\n                      },\n                      {\n                        plugin: plugins.lists.li,\n                        children: [\n                          {\n                            plugin: plugins.paragraphs.paragraph,\n                            children: ['two'],\n                          },\n                        ],\n                      },\n                      {\n                        plugin: plugins.lists.li,\n                        children: [\n                          {\n                            plugin: plugins.paragraphs.paragraph,\n                            children: ['three'],\n                          },\n                        ],\n                      },\n                    ],\n                  },\n                ],\n              })),\n            },\n          },\n        ],\n        [\n          {\n            content: {\n              plugin: customizedSlate,\n              state: customizedSlate.createInitialSlateState(({ plugins }) => ({\n                children: [\n                  {\n                    plugin: plugins.headings.h2,\n                    children: ['Hello world'],\n                    data: {\n                      align: 'center',\n                    },\n                  },\n\n                  {\n                    plugin: plugins.paragraphs.paragraph,\n                    children: ['Another entry'],\n                    data: {\n                      align: 'center',\n                    },\n                  },\n                  {\n                    plugin: plugins.headings.h4,\n                    children: [\n                      'This is a custom slate component with additional html elements',\n                    ],\n                  },\n                  {\n                    plugin: plugins.paragraphs.paragraph,\n                    children: [\n                      'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. ',\n                    ],\n                    data: {\n                      align: 'center',\n                    },\n                  },\n                ],\n              })),\n            },\n          },\n        ],\n      ];\n    },\n\n    name: 'custom-layout-plugin-initial-state',\n    text: 'Custom layout plugin with initial text',\n    description: 'Some custom layout plugin with initial text',\n    version: '0.0.1',\n    schema: {\n      required: ['backgroundColor'],\n      properties: {\n        backgroundColor: { type: 'string' },\n      },\n    },\n  })();\n","import * as React from 'react';\nimport { lazyLoad } from '@react-page/core';\nvar PlayArrow = lazyLoad(function () { return import('@material-ui/icons/PlayArrow'); });\nexport var defaultTranslations = {\n    pluginName: 'Video',\n    pluginDescription: 'Include videos from Vimeo or YouTube',\n    label: 'Video location (YouTube / Vimeo)',\n    placeholder: 'https://www.youtube.com/watch?v=ER97mPHhgtM',\n};\nexport var defaultSettings = {\n    Controls: function () { return React.createElement(React.Fragment, null, \" Controls for this plugin were not provided\"); },\n    Renderer: function () { return React.createElement(React.Fragment, null, \"Renderer; for this plugin was not provided \"); },\n    translations: defaultTranslations,\n    IconComponent: React.createElement(PlayArrow, null),\n};\n//# sourceMappingURL=settings.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport Spacer from './Component/index';\nimport { defaultSettings } from './default/settings';\nvar createPlugin = function (settings) {\n    var mergedSettings = __assign(__assign({}, defaultSettings), settings);\n    var WrappedComponent = function (props) { return (React.createElement(Spacer, __assign({}, props, mergedSettings))); };\n    return {\n        Component: WrappedComponent,\n        name: 'ory/editor/core/content/video',\n        version: '0.0.1',\n        IconComponent: mergedSettings.IconComponent,\n        text: mergedSettings.translations.pluginName,\n        description: mergedSettings.translations.pluginDescription,\n        isInlineable: true,\n        handleRemoveHotKey: function (_, __) {\n            return Promise.reject();\n        },\n        handleFocusPreviousHotKey: function (_, __) { return Promise.reject(); },\n        handleFocusNextHotKey: function (_, __) {\n            return Promise.reject();\n        },\n        // We need this because otherwise we lose hotkey focus on elements like spoilers.\n        // This could probably be solved in an easier way by listening to window.document?\n        //\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        handleFocus: function (props, source, ref) {\n            if (!ref) {\n                return;\n            }\n            setTimeout(function () { return ref.focus(); });\n        },\n    };\n};\nexport default createPlugin;\n//# sourceMappingURL=createPlugin.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { colorToString } from '@react-page/ui';\nimport * as React from 'react';\nimport { ModeEnum } from '../types/ModeEnum';\nvar getStyles = function (props) {\n    var _a = props.state, _b = _a.background, background = _b === void 0 ? '' : _b, _c = _a.modeFlag, modeFlag = _c === void 0 ? props.defaultModeFlag : _c, _d = _a.isParallax, isParallax = _d === void 0 ? true : _d, _e = _a.backgroundColor, backgroundColor = _e === void 0 ? props.defaultBackgroundColor : _e, _f = _a.gradients, gradients = _f === void 0 ? [] : _f;\n    var styles = {};\n    if (modeFlag & ModeEnum.GRADIENT_MODE_FLAG) {\n        var usedGradients = gradients.filter(function (g) { return g.colors && g.colors.length; });\n        var usedGradientsString = usedGradients\n            .map(function (g, i) {\n            var firstColor = g.colors[0].color;\n            var firstColorStr = colorToString(firstColor);\n            var deg = i === props.gradientDegPreviewIndex &&\n                props.gradientDegPreview !== undefined\n                ? props.gradientDegPreview\n                : g.deg;\n            var opacity = i === props.gradientOpacityPreviewIndex &&\n                props.gradientOpacityPreview !== undefined\n                ? props.gradientOpacityPreview\n                : g.opacity;\n            return ('linear-gradient(' +\n                deg +\n                'deg, ' +\n                (g.colors.length !== 1\n                    ? g.colors\n                        .map(function (c, cpIndex) {\n                        var color = i === props.gradientColorPreviewIndex &&\n                            cpIndex === props.gradientColorPreviewColorIndex &&\n                            props.gradientColorPreview !== undefined\n                            ? props.gradientColorPreview\n                            : c.color;\n                        var colorWithOpacity = __assign(__assign({}, color), { a: color.a !== undefined ? color.a * opacity : opacity });\n                        return colorToString(colorWithOpacity);\n                    })\n                        .join(', ')\n                    : firstColorStr + ', ' + firstColorStr) +\n                ')');\n        })\n            .join(', ');\n        if (usedGradientsString !== '') {\n            styles = __assign(__assign({}, styles), { background: usedGradientsString });\n        }\n    }\n    if (modeFlag & ModeEnum.COLOR_MODE_FLAG) {\n        var colorStr = colorToString(props.backgroundColorPreview\n            ? props.backgroundColorPreview\n            : backgroundColor);\n        var modeStr = \"linear-gradient(\" + colorStr + \", \" + colorStr + \")\";\n        styles = __assign(__assign({}, styles), { background: styles.background\n                ? styles.background + ', ' + modeStr\n                : modeStr });\n    }\n    if (modeFlag & ModeEnum.IMAGE_MODE_FLAG) {\n        var backgroundFinal = props.imagePreview\n            ? props.imagePreview.dataUrl\n            : background;\n        var modeStr = \"url('\" + backgroundFinal + \"') center / cover no-repeat\" +\n            (isParallax ? ' fixed' : '');\n        styles = __assign(__assign({}, styles), { background: styles.background\n                ? styles.background + ', ' + modeStr\n                : modeStr });\n    }\n    return styles;\n};\nvar BackgroundHtmlRenderer = function (props) {\n    var children = props.children, _a = props.state, _b = _a.darken, darken = _b === void 0 ? props.defaultDarken : _b, _c = _a.lighten, lighten = _c === void 0 ? props.defaultLighten : _c, _d = _a.hasPadding, hasPadding = _d === void 0 ? props.defaultHasPadding : _d;\n    var darkenFinal = props.darkenPreview !== undefined ? props.darkenPreview : darken;\n    var lightenFinal = props.lightenPreview !== undefined ? props.lightenPreview : lighten;\n    var containerStyles = getStyles(props);\n    return (React.createElement(\"div\", { className: \"ory-plugins-layout-background\", style: __assign(__assign({}, containerStyles), (hasPadding ? {} : { padding: 0 })) },\n        React.createElement(\"div\", { className: \"ory-plugins-layout-background__backstretch\", style: {\n                // tslint:disable-next-line:max-line-length\n                backgroundImage: \"linear-gradient(rgba(0, 0, 0, \" + darkenFinal + \"), rgba(0, 0, 0, \" + darkenFinal + \")),linear-gradient(rgba(255, 255, 255, \" + lightenFinal + \"), rgba(255, 255, 255, \" + lightenFinal + \"))\",\n            } }),\n        children));\n};\nexport default BackgroundHtmlRenderer;\n//# sourceMappingURL=BackgroundHtmlRenderer.js.map","import { DragSource, DropTarget } from 'react-dnd';\nimport { Actions } from './actions';\nimport Editable from './components/Editable';\nimport Editor, { createEmptyState } from './Editor';\nimport lazyLoad from './helper/lazyLoad';\nimport sanitizeInitialChildren from './helper/sanitizeInitialChildren';\nimport Provider from './Provider';\nimport { reducer } from './reducer';\nimport { editable as editableReducer } from './reducer/editable';\nimport { connect, ReduxContext, ReduxProvider } from './reduxConnect';\nimport { Selectors } from './selector';\nimport i18n from './service/i18n';\nimport PluginService from './service/plugin';\nimport { ContentPlugin, LayoutPlugin, Migration, Plugin, } from './service/plugin/classes';\nexport * from './components/hooks';\nimport { setAllSizesAndOptimize } from './reducer/editable/helper/setAllSizesAndOptimize';\nexport { DropTarget, DragSource };\nexport { setAllSizesAndOptimize, Migration, createEmptyState, Plugin, Actions, Selectors, i18n, sanitizeInitialChildren, PluginService, ContentPlugin, LayoutPlugin, Editor, reducer, editableReducer, // deprecated\nReduxProvider, connect, ReduxContext, };\n// newer api\nexport { Provider, Editable, lazyLoad };\nexport default Editor;\n//# sourceMappingURL=index.js.map","import * as React from 'react';\nvar DividerHtmlRenderer = function () {\n    return React.createElement(\"hr\", { className: \"ory-plugins-content-divider\" });\n};\nexport default DividerHtmlRenderer;\n//# sourceMappingURL=DividerHtmlRenderer.js.map","import * as React from 'react';\nimport { defaultHtml5VideoState } from '../default/state';\nvar Html5VideoHtmlRenderer = function (_a) {\n    var _b = _a.state, _c = (_b === void 0 ? defaultHtml5VideoState : _b).url, url = _c === void 0 ? '' : _c;\n    return (React.createElement(\"div\", { className: \"ory-content-plugin-html5-video\" },\n        React.createElement(\"video\", { autoPlay: true, controls: true, loop: true, muted: true, width: \"100%\", key: url },\n            React.createElement(\"source\", { src: url, type: \"video/\" + url.split('.').pop() }))));\n};\nexport default Html5VideoHtmlRenderer;\n//# sourceMappingURL=Html5VideoHtmlRenderer.js.map","export var iconStyle = {\n    width: '100%',\n    height: 'auto',\n    padding: '0',\n    color: '#aaa',\n    textAlign: 'center',\n    minWidth: 64,\n    minHeight: 64,\n    maxHeight: 256,\n};\n//# sourceMappingURL=styles.js.map","import * as React from 'react';\nimport { iconStyle } from './../common/styles';\nimport { lazyLoad } from '@react-page/core';\nvar ImageIcon = lazyLoad(function () { return import('@material-ui/icons/Landscape'); });\nvar ImageHtmlRenderer = function (props) {\n    var isEditMode = props.isEditMode, state = props.state, imagePreview = props.imagePreview;\n    var src = imagePreview ? imagePreview.dataUrl : state.src;\n    var Image = React.createElement(\"img\", { className: \"ory-plugins-content-image\", alt: \"\", src: src });\n    return src ? (React.createElement(\"div\", null, state.href && !isEditMode ? (React.createElement(\"a\", { href: state.href, target: state.target, rel: state.rel }, Image)) : (Image))) : (React.createElement(\"div\", null,\n        React.createElement(\"div\", { className: \"ory-plugins-content-image-placeholder\" },\n            React.createElement(ImageIcon, { style: iconStyle }))));\n};\nexport default ImageHtmlRenderer;\n//# sourceMappingURL=ImageHtmlRenderer.js.map","import * as React from 'react';\nimport { defaultSpacerState } from './../default/state';\nvar SpacerHtmlRenderer = function (_a) {\n    var _b = _a.state, height = (_b === void 0 ? defaultSpacerState : _b).height;\n    return React.createElement(\"div\", { style: { height: (height || 0).toString() + \"px\" } });\n};\nexport default SpacerHtmlRenderer;\n//# sourceMappingURL=SpacerHtmlRenderer.js.map","import * as React from 'react';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport { iconStyle } from '../common/styles';\nimport { lazyLoad } from '@react-page/core';\n// react player is big, better lazy load it.\nvar ReactPlayer = lazyLoad(function () { return import('react-player'); });\nvar Display = function (_a) {\n    var src = _a.state.src, readOnly = _a.readOnly;\n    return src ? (React.createElement(\"div\", { style: { position: 'relative', height: 0, paddingBottom: '65.25%' } },\n        readOnly ? null : (React.createElement(\"div\", { style: {\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 10,\n            } })),\n        React.createElement(ReactPlayer, { url: src, height: \"100%\", width: \"100%\", style: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n            } }))) : (React.createElement(\"div\", { className: \"ory-plugins-content-video-placeholder\" },\n        React.createElement(PlayArrow, { style: iconStyle })));\n};\nexport default Display;\n//# sourceMappingURL=VideoHtmlRenderer.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { lazyLoad, } from '@react-page/core';\nimport * as React from 'react';\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createPluginWithDef(_a) {\n    var schema = _a.schema, Renderer = _a.Renderer, controlsLayout = _a.controlsLayout, pluginSettings = __rest(_a, [\"schema\", \"Renderer\", \"controlsLayout\"]);\n    var Controls = lazyLoad(function () { return import('./Controls'); });\n    return __assign({ Component: function (props) {\n            return (React.createElement(React.Fragment, null, !props.readOnly ? (React.createElement(Controls, __assign({ controlsLayout: controlsLayout, schema: schema, Renderer: Renderer }, props))) : (React.createElement(Renderer, __assign({}, props)))));\n        } }, pluginSettings);\n}\nfunction createContentPlugin(definition) {\n    return function (customize) {\n        if (customize) {\n            return createPluginWithDef(customize(definition));\n        }\n        return createPluginWithDef(definition);\n    };\n}\nexport default createContentPlugin;\n//# sourceMappingURL=createContentPlugin.js.map","import { createContentPlugin } from '@react-page/create-plugin-materialui';\nimport React from 'react';\n\nexport default createContentPlugin<{\n  title: string;\n  firstName: string;\n  lastName: string;\n  age: number;\n}>({\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  Renderer: ({ state }) => (\n    <div>\n      <h3>{state.title}</h3>\n      <p>Firstname: {state.firstName}</p>\n      <p>Lastname: {state.lastName}</p>\n      <p>Age: {state.age}</p>\n    </div>\n  ),\n  name: 'custom-content-plugin',\n  text: 'Custom content plugin',\n  description: 'Some custom content plugin',\n  version: '0.0.1',\n  schema: {\n    properties: {\n      title: {\n        type: 'string',\n        default: 'I am a custom plugin, this is my configuration',\n      },\n      firstName: { type: 'string' },\n      lastName: { type: 'string' },\n      age: {\n        title: 'Age in years',\n        type: 'integer',\n        minimum: 0,\n      },\n    },\n    required: ['firstName', 'lastName'],\n  },\n});\n","import { createContentPlugin } from '@react-page/create-plugin-materialui';\nimport React from 'react';\n\ntype Address = {\n  street: string;\n  city: string;\n  zipCode: string;\n};\ntype Shop = {\n  name: string;\n  address: Address;\n};\n\ntype State = {\n  title: string;\n  shops: Shop[];\n};\nexport default createContentPlugin<State>({\n  Renderer: ({ state }) => (\n    <div>\n      <h1>{state.title}</h1>\n      <p>Shops:</p>\n      <ul>\n        {state.shops &&\n          state.shops.map((shop, index) => (\n            <li key={index}>\n              <h2>{shop.name}</h2>\n              <p>Adresss:</p>\n              <p>\n                {shop.address.street}\n                <br />\n                {shop.address.zipCode} {shop.address.city}\n              </p>\n            </li>\n          ))}\n      </ul>\n    </div>\n  ),\n  name: 'custom-content-plugin-with-list',\n  text: 'Custom content Plugin shop list',\n\n  description: 'Some custom content plugin with a list field',\n  version: '0.0.1',\n  controlsLayout: {\n    columnCount: 1,\n  },\n  schema: {\n    properties: {\n      title: {\n        type: 'string',\n      },\n      shops: {\n        type: 'array',\n        items: {\n          type: 'object',\n          required: [],\n          properties: {\n            name: {\n              type: 'string',\n            },\n            address: {\n              type: 'object',\n              required: [],\n              properties: {\n                street: {\n                  type: 'string',\n                },\n                zipCode: {\n                  type: 'string',\n                },\n                city: {\n                  type: 'string',\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n    required: [],\n  },\n});\n","import { createContentPlugin } from '@react-page/create-plugin-materialui';\nimport React from 'react';\nimport { Timeline } from 'react-twitter-widgets';\nexport default createContentPlugin<{\n  screenName: string;\n}>({\n  Renderer: ({ state }) => (\n    <Timeline\n      dataSource={{\n        sourceType: 'profile',\n        screenName: state.screenName,\n      }}\n      options={{\n        height: '400',\n      }}\n    />\n  ),\n  name: 'twitter-timeline',\n  text: 'Twitter timeline',\n  description: 'A twitter timeline',\n  version: '0.0.1',\n  schema: {\n    properties: {\n      screenName: {\n        type: 'string',\n        default: 'AlYankovic',\n      },\n    },\n    required: ['screenName'],\n  },\n});\n","import { Plugins } from '@react-page/core';\n// The background plugin\nimport background, { ModeEnum } from '@react-page/plugins-background';\nimport '@react-page/plugins-background/lib/index.css';\n// The native handler plugin\nimport native from '@react-page/plugins-default-native';\n// The divider plugin\nimport divider from '@react-page/plugins-divider';\n// The html5-video plugin\nimport html5video from '@react-page/plugins-html5-video';\nimport '@react-page/plugins-html5-video/lib/index.css';\n// The image plugin\nimport { imagePlugin, ImageUploadType } from '@react-page/plugins-image';\nimport '@react-page/plugins-image/lib/index.css';\n// The spacer plugin\nimport spacer from '@react-page/plugins-spacer';\nimport '@react-page/plugins-spacer/lib/index.css';\n// The video plugin\nimport video from '@react-page/plugins-video';\nimport '@react-page/plugins-video/lib/index.css';\n\nimport customContentPlugin from './customContentPlugin';\nimport customContentPluginWithListField from './customContentPluginWithListField';\nimport customLayoutPlugin from './customLayoutPlugin';\nimport customLayoutPluginWithInitialState from './customLayoutPluginWithInitialState';\nimport { defaultSlate, customizedSlate } from './slate';\nimport customContentPluginTwitter from './customContentPluginTwitter';\nconst fakeImageUploadService: (url: string) => ImageUploadType = (\n  defaultUrl\n) => (file, reportProgress) => {\n  return new Promise((resolve, reject) => {\n    let counter = 0;\n    const interval = setInterval(() => {\n      counter++;\n      reportProgress(counter * 10);\n      if (counter > 9) {\n        clearInterval(interval);\n        alert(\n          'This is a fake image upload service, please provide actual implementation via plugin properties'\n        );\n        resolve({ url: defaultUrl });\n      }\n    }, 500);\n  });\n};\n\n// Define which plugins we want to use.\n\nexport const plugins: Plugins = {\n  content: [\n    defaultSlate,\n    customizedSlate,\n    spacer,\n    imagePlugin({ imageUpload: fakeImageUploadService('/images/react.png') }),\n    video,\n    divider,\n    html5video,\n    customContentPlugin(),\n    customContentPluginWithListField(),\n    customContentPluginTwitter(),\n  ],\n  layout: [\n    background({\n      defaultPlugin: defaultSlate,\n      imageUpload: fakeImageUploadService('/images/sea-bg.jpg'),\n      enabledModes:\n        ModeEnum.COLOR_MODE_FLAG |\n        ModeEnum.IMAGE_MODE_FLAG |\n        ModeEnum.GRADIENT_MODE_FLAG,\n    }),\n    customLayoutPlugin(),\n    customLayoutPluginWithInitialState(),\n  ],\n\n  // If you pass the native key the editor will be able to handle native drag and drop events (such as links, text, etc).\n  // The native plugin will then be responsible to properly display the data which was dropped onto the editor.\n  native,\n};\n","import { createLayoutPlugin } from '@react-page/create-plugin-materialui';\nimport React from 'react';\nimport { defaultSlate, customizedSlate } from './slate';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default () =>\n  createLayoutPlugin<{\n    backgroundColor: string;\n  }>({\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Renderer: ({ children, state }: any) => (\n      <div\n        style={{\n          border: '1px solid black',\n          backgroundColor: state.backgroundColor,\n        }}\n      >\n        {children}\n      </div>\n    ),\n    createInitialChildren: () => {\n      return [\n        [\n          {\n            content: { plugin: defaultSlate },\n          },\n          {\n            content: { plugin: defaultSlate },\n          },\n        ],\n        [\n          {\n            content: { plugin: customizedSlate },\n          },\n          {\n            content: { plugin: customizedSlate },\n          },\n        ],\n      ];\n    },\n\n    name: 'custom-layout-plugin',\n    text: 'Custom layout plugin',\n    description: 'Some custom layout plugin',\n    version: '0.0.1',\n    schema: {\n      required: ['backgroundColor'],\n      properties: {\n        backgroundColor: { type: 'string' },\n      },\n    },\n  })();\n","import '@react-page/core/lib/index.css'; // we also want to load the stylesheets\nimport Editor from '@react-page/editor';\nimport '@react-page/ui/lib/index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n// The content state\nimport contents from './contents';\nimport customLayoutPluginWithInitialState from './customLayoutPluginWithInitialState';\nimport { plugins } from './plugins';\nimport './styles.css';\nimport {\n  Button,\n  FormGroup,\n  FormControlLabel,\n  Switch,\n  Select,\n} from '@material-ui/core';\nimport { defaultSlate } from './slate';\nimport { EditorProps } from '@react-page/editor';\n\nif (\n  process.env.NODE_ENV !== 'production' &&\n  process.env.REACT_APP_TRACE_UPDATES\n) {\n  const { whyDidYouUpdate } = require('why-did-you-update');\n  whyDidYouUpdate(React);\n}\n\nconst LANGUAGES = [\n  {\n    lang: 'en',\n    label: 'English',\n  },\n  {\n    lang: 'de',\n    label: 'Deutsch',\n  },\n];\nconst KeepStateEditor: React.FC<EditorProps> = ({ value, ...props }) => {\n  const [state, setState] = React.useState(value);\n\n  // here you would normally persist the state somewhere (e.g a database)\n  // <Editor /> is stateful, so you don't nesseary have to keep the value updated\n  // if you do, you have to guarantee that the value is referencially equal to what has been passed by `onChange`\n  // or the editor will blur its fields (and other problems)\n\n  const [allowMove, setAllowMove] = React.useState(true);\n  const onAllowMoveChanged = React.useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>, checked: boolean) =>\n      setAllowMove(checked),\n    []\n  );\n  const [allowResize, setAllowResize] = React.useState(true);\n  const onAllowResizeChanged = React.useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>, checked: boolean) =>\n      setAllowResize(checked),\n    []\n  );\n\n  const [hide, sethide] = React.useState(false);\n\n  const onSethideChanged = React.useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>, checked: boolean) =>\n      sethide(checked),\n    []\n  );\n\n  const [lang, setLang] = React.useState('en');\n\n  const onSetLang = React.useCallback(\n    (e: React.ChangeEvent<{ name?: string; value: unknown }>) =>\n      setLang(e.target.value as string),\n    []\n  );\n  return (\n    <>\n      <FormGroup row={true}>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={allowMove}\n              onChange={onAllowMoveChanged}\n              color=\"primary\"\n            />\n          }\n          label=\"Allow move in edit mode\"\n        />\n        <FormControlLabel\n          control={\n            <Switch\n              checked={allowResize}\n              onChange={onAllowResizeChanged}\n              color=\"primary\"\n            />\n          }\n          label=\"Allow resize in edit mode\"\n        />\n        <FormControlLabel\n          control={\n            <Switch\n              checked={hide}\n              onChange={onSethideChanged}\n              color=\"primary\"\n            />\n          }\n          label=\"hide\"\n        />\n        <FormControlLabel\n          style={{ marginLeft: 20 }}\n          control={\n            <Select value={lang} onChange={onSetLang}>\n              {LANGUAGES.map((l) => (\n                <option value={l.lang} key={l.lang}>\n                  {l.label}\n                </option>\n              ))}\n            </Select>\n          }\n          label=\"Language\"\n        />\n      </FormGroup>\n      <div\n        style={{\n          display: hide ? 'none' : 'block',\n        }}\n      >\n        <Editor\n          {...props}\n          allowMoveInEditMode={allowMove}\n          allowResizeInEditMode={allowResize}\n          value={state}\n          onChange={setState}\n          onChangeLang={setLang}\n          lang={lang}\n          languages={LANGUAGES}\n        />\n        <Button variant=\"outlined\" onClick={() => setState(value)}>\n          Reset this editor\n        </Button>\n      </div>\n    </>\n  );\n};\n// Render the editables - the areas that are editable\nconst elements = document.querySelectorAll<HTMLDivElement>('.editable');\nelements.forEach((element, index) => {\n  ReactDOM.render(\n    <KeepStateEditor\n      plugins={plugins}\n      defaultPlugin={\n        element.dataset.id === '10'\n          ? customLayoutPluginWithInitialState()\n          : defaultSlate\n      }\n      value={contents[index]}\n    />,\n\n    element\n  );\n});\n\n// Render as beautified mark up (html)\nReactDOM.render(\n  <Editor plugins={plugins} value={contents[0]} readOnly={true} />,\n  document.getElementById('editable-static')\n);\n","/**\n * A list of positions in the layout space.\n */\nexport var PositionEnum;\n(function (PositionEnum) {\n    PositionEnum[\"LEFT_OF\"] = \"left-of\";\n    PositionEnum[\"RIGHT_OF\"] = \"right-of\";\n    PositionEnum[\"ABOVE\"] = \"above\";\n    PositionEnum[\"BELOW\"] = \"below\";\n    PositionEnum[\"INLINE_LEFT\"] = \"inline-left\";\n    PositionEnum[\"INLINE_RIGHT\"] = \"inline-right\";\n})(PositionEnum || (PositionEnum = {}));\n/**\n * Is true if built in production mode.\n */\nexport var isProduction = process.env.NODE_ENV === 'production';\n//# sourceMappingURL=const.js.map","import { v4 } from 'uuid';\nexport var generateIds = function () {\n    return {\n        cell: v4(),\n        item: v4(),\n        others: [v4(), v4(), v4()],\n    };\n};\n//# sourceMappingURL=helpers.js.map","import uuid from 'uuid';\nimport { generateIds } from '../helpers';\nexport var CELL_UPDATE_CONTENT = 'CELL_UPDATE_CONTENT';\nexport var CELL_UPDATE_IS_DRAFT = 'CELL_UPDATE_IS_DRAFT';\nexport var CELL_UPDATE_LAYOUT = 'CELL_UPDATE_LAYOUT';\nexport var CELL_REMOVE = 'CELL_REMOVE';\nexport var CELL_RESIZE = 'CELL_RESIZE';\nexport var CELL_FOCUS = 'CELL_FOCUS';\nexport var CELL_BLUR = 'CELL_BLUR';\nexport var CELL_BLUR_ALL = 'CELL_BLUR_ALL';\nexport var CELL_FOCUS_PREV = 'CELL_FOCUS_PREV';\nexport var CELL_FOCUS_NEXT = 'CELL_FOCUS_NEXT';\nexport var CELL_CREATE_FALLBACK = 'CELL_CREATE_FALLBACK';\n/**\n * An action creator for updating a cell's content data.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(updateCellContent(cell.id, { foo: 'bar' }))\n *\n * @param {string} id The id of the cell that should be updated\n * @return {Action}\n */\nexport var updateCellContent = function (id) { return function (state, lang) {\n    if (state === void 0) { state = {}; }\n    return ({\n        type: CELL_UPDATE_CONTENT,\n        ts: new Date(),\n        id: id,\n        state: state,\n        lang: lang,\n    });\n}; };\n/**\n * An action creator for setting the cell's isDraft property\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(updateCellContent(cell.id, { foo: 'bar' }))\n *\n * @param {string} id The id of the cell that should be updated\n * @return {Action}\n */\nexport var updateCellIsDraft = function (id, isDraft, lang) {\n    if (isDraft === void 0) { isDraft = false; }\n    if (lang === void 0) { lang = null; }\n    return ({\n        type: CELL_UPDATE_IS_DRAFT,\n        ts: new Date(),\n        id: id,\n        isDraft: isDraft,\n        lang: lang,\n    });\n};\n/**\n * An action creator for updating a cell's layout data.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(updateCellLayout(cell.id, { foo: 'bar' }))\n *\n * @param {string} id The id of the cell that should be updated\n * @return {Action}\n */\nexport var updateCellLayout = function (id) { return function (state, lang) {\n    if (state === void 0) { state = {}; }\n    return ({\n        type: CELL_UPDATE_LAYOUT,\n        ts: new Date(),\n        id: id,\n        state: state,\n        lang: lang,\n    });\n}; };\n/**\n * An action creator for removing a cell.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(removeCell(cell.id, ['1', '2', '3', '4', ...]))\n *\n * @param {string} id The id of the cell that should be removed.\n * @param {string} ids An object of IDs for new cells that might be created.\n * @return {Action}\n */\nexport var removeCell = function (id, ids) {\n    if (ids === void 0) { ids = null; }\n    return ({\n        type: CELL_REMOVE,\n        ts: new Date(),\n        id: id,\n        ids: ids ? ids : generateIds(),\n    });\n};\n/**\n * An action creator for resizing a cell.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(resizeCell(cell.id)(size))\n *\n * @param {string} id The id of the cell that should be removed.\n * @param {number} size The cell's new size.\n * @return {Function}\n */\nexport var resizeCell = function (id) { return function (size) {\n    if (size === void 0) { size = 1; }\n    return ({\n        type: CELL_RESIZE,\n        ts: new Date(),\n        id: id,\n        size: size,\n    });\n}; };\n/**\n * Dispatch to focus a cell.\n */\nexport var focusCell = function (id, scrollToCell) {\n    if (scrollToCell === void 0) { scrollToCell = false; }\n    return function (_a) {\n        var source = (_a === void 0 ? {} : _a).source;\n        return ({\n            type: CELL_FOCUS,\n            ts: new Date(),\n            id: id,\n            scrollToCell: scrollToCell,\n            source: source,\n        });\n    };\n};\n/**\n * Dispatch to focus a cell.\n */\nexport var focusNextCell = function (id) { return function () { return ({\n    type: CELL_FOCUS_NEXT,\n    ts: new Date(),\n    id: id,\n}); }; };\n/**\n * Dispatch to focus a cell.\n */\nexport var focusPreviousCell = function (id) { return function () { return ({\n    type: CELL_FOCUS_PREV,\n    ts: new Date(),\n    id: id,\n}); }; };\n/**\n * Dispatch to blur a cell.\n */\nexport var blurCell = function (id) { return function () { return ({\n    type: CELL_BLUR,\n    ts: new Date(),\n    id: id,\n}); }; };\n/**\n * Dispatch to blur all cells. For example when clicking on document body.\n */\nexport var blurAllCells = function () { return ({\n    type: CELL_BLUR_ALL,\n    ts: new Date(),\n}); };\n/**\n * Creates a fallback cell, usually done when an editable is empty.\n */\nexport var createFallbackCell = function (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfallback, editable) { return ({\n    type: CELL_CREATE_FALLBACK,\n    ts: new Date(),\n    editable: editable,\n    ids: {\n        cell: uuid.v4(),\n    },\n    fallback: fallback,\n}); };\nexport var coreActions = {\n    createFallbackCell: createFallbackCell,\n    blurAllCells: blurAllCells,\n    blurCell: blurCell,\n    focusPreviousCell: focusPreviousCell,\n    focusNextCell: focusNextCell,\n    focusCell: focusCell,\n    resizeCell: resizeCell,\n    removeCell: removeCell,\n    updateCellLayout: updateCellLayout,\n    updateCellContent: updateCellContent,\n    updateCellIsDraft: updateCellIsDraft,\n};\n//# sourceMappingURL=core.js.map","/**\n * @module src/editor/actions/cell/drag\n */\nimport { PositionEnum } from '../../const';\nexport var CELL_DRAG_HOVER = 'CELL_DRAG_HOVER';\nexport var CELL_DRAG = 'CELL_DRAG';\nexport var CELL_DRAG_CANCEL = 'CELL_DRAG_CANCEL';\nexport var CLEAR_CLEAR_HOVER = 'CLEAR_CLEAR_HOVER';\n/**\n * Creates a redux action for when a cell hovers another item.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHover(drag, hover, level, position))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @param {string} position Can be left, right, above, below.\n * @return {Action}\n */\nexport var cellHover = function (_a, _b, level, position) {\n    var drag = _a.id;\n    var hover = _b.id;\n    if (level === void 0) { level = 0; }\n    return ({\n        type: CELL_DRAG_HOVER,\n        ts: new Date(),\n        drag: drag,\n        hover: hover,\n        level: level,\n        position: position,\n    });\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the left.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverLeftOf(drag, hover, level))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverLeftOf = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.LEFT_OF); };\n/**\n * Creates a redux action for when a cell is hovering another cell on the right.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverRightOf(drag, hover, level))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverRightOf = function (drag, hover, level) { return cellHover(drag, hover, level, PositionEnum.RIGHT_OF); };\n/**\n * Creates a redux action for when a cell is hovering another cell above.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverAbove(drag, hover, level))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverAbove = function (drag, hover, level) {\n    return cellHover(drag, hover, level, PositionEnum.ABOVE);\n};\n/**\n * Creates a redux action for when a cell is hovering another cell below.\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverBelow(drag, hover, level))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @param {number} level Set the level if the dragged cells should hover over an ancestor of hover.\n * @return {Action}\n */\nexport var cellHoverBelow = function (drag, hover, level) {\n    return cellHover(drag, hover, level, PositionEnum.BELOW);\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the left, but inline (css floating).\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverInlineLeft(drag, hover))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @return {Action}\n */\nexport var cellHoverInlineLeft = function (drag, hover) {\n    return cellHover(drag, hover, 0, PositionEnum.INLINE_LEFT);\n};\n/**\n * Creates a redux action for when a cell is hovering another cell on the right, but inline (css floating).\n *\n * @example\n * // const store = redux.createStore()\n * store.dispatch(cellHoverInlineRight(drag, hover))\n *\n * @param {Cell} drag The cell that is currently being dragged.\n * @param {Cell} hover The cell that is being hovered by the dragged cell.\n * @return {Action}\n */\nexport var cellHoverInlineRight = function (drag, hover) {\n    return cellHover(drag, hover, 0, PositionEnum.INLINE_RIGHT);\n};\n/**\n * Creates a redux action for when a cell is being dragged.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(dragCell(cell.id))\n *\n * @param {string} id The id of the cell that is being dragged.\n * @return {Action}\n */\nexport var dragCell = function (id) { return ({\n    type: CELL_DRAG,\n    ts: new Date(),\n    id: id,\n}); };\n/**\n * Creates a redux action to clear hover state of all cells.\n *\n * @return {Action}\n */\nexport var clearHover = function () { return ({\n    type: CLEAR_CLEAR_HOVER,\n    ts: new Date(),\n}); };\n/**\n * Creates a redux action for when cell dragging ends.\n *\n * @example\n * // const store = redux.createStore()\n * // const cell = { id: '1', ... }\n * store.dispatch(cancelCellDrag(cell.id))\n *\n * @param {string} id\n * @return {Action}\n */\nexport var cancelCellDrag = function () { return ({\n    type: CELL_DRAG_CANCEL,\n    ts: new Date(),\n}); };\nexport var dragActions = {\n    cancelCellDrag: cancelCellDrag,\n    clearHover: clearHover,\n    dragCell: dragCell,\n    cellHoverInlineRight: cellHoverInlineRight,\n    cellHoverInlineLeft: cellHoverInlineLeft,\n    cellHoverBelow: cellHoverBelow,\n    cellHoverAbove: cellHoverAbove,\n    cellHoverRightOf: cellHoverRightOf,\n    cellHoverLeftOf: cellHoverLeftOf,\n    cellHover: cellHover,\n};\n//# sourceMappingURL=drag.js.map","export var SET_DISPLAY_MODE = 'SET_DISPLAY_MODE';\nexport var SET_PREVIOUS_DISPLAY_MODE = 'SET_PREVIOUS_DISPLAY_MODE';\nexport var DISPLAY_MODE_PREVIEW = 'preview';\nexport var DISPLAY_MODE_LAYOUT = 'layout';\nexport var DISPLAY_MODE_EDIT = 'edit';\nexport var DISPLAY_MODE_INSERT = 'insert';\nexport var DISPLAY_MODE_RESIZING = 'resizing';\nexport var DEFAULT_DISPLAY_MODE = DISPLAY_MODE_EDIT;\nvar setDisplayMode = function (mode, remember) {\n    if (remember === void 0) { remember = false; }\n    return function () { return ({\n        type: SET_DISPLAY_MODE,\n        ts: new Date(),\n        mode: mode,\n        remember: remember,\n    }); };\n};\n/**\n * Dispatch to switch to arbitrary mode.\n */\nexport var setMode = function (mode, remember) {\n    if (remember === void 0) { remember = false; }\n    return ({\n        type: SET_DISPLAY_MODE,\n        ts: new Date(),\n        mode: mode,\n        remember: remember,\n    });\n};\n/**\n * Dispatch to switch to insert display mode.\n */\nexport var insertMode = setDisplayMode(DISPLAY_MODE_INSERT);\n/**\n * Dispatch to switch to edit display mode.\n */\nexport var editMode = setDisplayMode(DISPLAY_MODE_EDIT);\n/**\n * Dispatch to switch to preview display mode.\n */\nexport var previewMode = setDisplayMode(DISPLAY_MODE_PREVIEW);\n/**\n * Dispatch to switch to layout display mode.\n */\nexport var layoutMode = setDisplayMode(DISPLAY_MODE_LAYOUT);\n/**\n * Dispatch to switch to resize display mode.\n */\nexport var resizeMode = setDisplayMode(DISPLAY_MODE_RESIZING);\n/**\n * Dispatch to switch to the last display mode, or the fallback if reverting is not possible.\n */\nexport var previousMode = function (fallback) { return ({\n    type: SET_PREVIOUS_DISPLAY_MODE,\n    fallback: fallback,\n}); };\n//# sourceMappingURL=display.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { v4 } from 'uuid';\nimport { editMode } from '../display';\nimport { generateIds } from '../helpers';\nimport { focusCell } from './core';\nexport var CELL_INSERT_ABOVE = 'CELL_INSERT_ABOVE';\nexport var CELL_INSERT_BELOW = 'CELL_INSERT_BELOW';\nexport var CELL_INSERT_LEFT_OF = 'CELL_INSERT_LEFT_OF';\nexport var CELL_INSERT_RIGHT_OF = 'CELL_INSERT_RIGHT_OF';\nexport var CELL_INSERT_INLINE_LEFT = 'CELL_INSERT_INLINE_LEFT';\nexport var CELL_INSERT_INLINE_RIGHT = 'CELL_INSERT_INLINE_RIGHT';\nexport var CELL_INSERT_AT_END = 'CELL_INSERT_AT_END';\nvar insert = function (type) { return function (item, _a, level, ids) {\n    var hover = _a.id, inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour;\n    if (level === void 0) { level = 0; }\n    if (ids === void 0) { ids = null; }\n    var l = level;\n    switch (type) {\n        case CELL_INSERT_ABOVE:\n        case CELL_INSERT_BELOW: {\n            if ((inline || hasInlineNeighbour) && level < 1) {\n                l = 1;\n            }\n            break;\n        }\n        case CELL_INSERT_LEFT_OF:\n        case CELL_INSERT_RIGHT_OF: {\n            if ((inline || hasInlineNeighbour) && level < 1) {\n                l = 1;\n            }\n            break;\n        }\n        default:\n    }\n    var insertAction = {\n        type: type,\n        ts: new Date(),\n        item: item,\n        hover: hover,\n        level: l,\n        // FIXME: item handling is a bit confusing,\n        // we now give some of them a name like \"cell\" or \"item\",\n        // but the purpose of the others is unclear\n        ids: ids ? ids : generateIds(),\n    };\n    return function (dispatch) {\n        dispatch(insertAction);\n        // FIXME: checking if an item is new or just moved around is a bit awkward\n        var isNew = !item.id || (item.rows && !item.levels);\n        if (isNew) {\n            dispatch(editMode());\n        }\n        setTimeout(function () {\n            dispatch(focusCell(insertAction.ids.item, true)());\n        }, 300);\n    };\n}; };\n/**\n * Insert a cell below of the hovering cell.\n */\nexport var insertCellBelow = insert(CELL_INSERT_BELOW);\n/**\n * Insert a cell above of the hovering cell.\n */\nexport var insertCellAbove = insert(CELL_INSERT_ABOVE);\n/**\n * Insert a cell right of the hovering cell.\n */\nexport var insertCellRightOf = insert(CELL_INSERT_RIGHT_OF);\n/**\n * Insert a cell left of the hovering cell.\n */\nexport var insertCellLeftOf = insert(CELL_INSERT_LEFT_OF);\n/**\n * Insert a cell inside the hovering cell, on the left.\n */\nexport var insertCellLeftInline = insert(CELL_INSERT_INLINE_LEFT);\n/**\n * Insert a cell inside the hovering cell, on the right.\n */\nexport var insertCellRightInline = insert(CELL_INSERT_INLINE_RIGHT);\nexport var insertCellAtTheEnd = insert(CELL_INSERT_AT_END);\n// set new ids recursivly\nvar newIds = function (_a) {\n    var id = _a.id, item = __rest(_a, [\"id\"]);\n    return __assign(__assign({}, item), { content: item.content && {\n            plugin: item.content.plugin,\n            state: JSON.parse(JSON.stringify(item.content.state)),\n        }, layout: item.layout && {\n            plugin: item.layout.plugin,\n            state: JSON.parse(JSON.stringify(item.layout.state)),\n        }, id: v4(), rows: item.rows\n            ? item.rows.map(function (row) { return (__assign(__assign({}, row), { id: v4(), cells: row.cells ? row.cells.map(newIds) : undefined })); })\n            : undefined });\n};\nexport var duplicateCell = function (item) { return insertCellBelow(newIds(item), item); };\nexport var insertActions = {\n    insertCellRightInline: insertCellRightInline,\n    insertCellLeftInline: insertCellLeftInline,\n    insertCellLeftOf: insertCellLeftOf,\n    insertCellRightOf: insertCellRightOf,\n    insertCellAbove: insertCellAbove,\n    insertCellBelow: insertCellBelow,\n    duplicateCell: duplicateCell,\n    insertCellAtTheEnd: insertCellAtTheEnd,\n    insert: insert,\n};\n//# sourceMappingURL=insert.js.map","import { ActionTypes } from 'redux-undo';\nexport var undo = function () { return ({\n    type: ActionTypes.UNDO,\n}); };\nexport var redo = function () { return ({\n    type: ActionTypes.REDO,\n}); };\n//# sourceMappingURL=undo.js.map","import { generateIds } from './helpers';\nexport var UPDATE_EDITABLE = 'UPDATE_EDITABLE';\nexport var updateEditable = function (editable) { return ({\n    type: UPDATE_EDITABLE,\n    ts: new Date(),\n    editable: editable,\n    ids: generateIds(),\n}); };\n//# sourceMappingURL=editables.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { dragActions } from './drag';\nimport { insertActions } from './insert';\nimport { coreActions } from './core';\nexport var cellActions = __assign(__assign(__assign({}, dragActions), insertActions), coreActions);\nexport * from './insert';\nexport * from './core';\nexport * from './drag';\n//# sourceMappingURL=index.js.map","export var SET_LANG = 'SET_LANG';\nexport var setLang = function (lang) { return ({\n    type: SET_LANG,\n    lang: lang,\n}); };\n//# sourceMappingURL=setting.js.map","import { bindActionCreators } from 'redux';\nimport { updateCellContent, updateCellLayout, removeCell, resizeCell, focusCell, focusNextCell, focusPreviousCell, blurAllCells, } from './cell/core';\nimport { cellHoverLeftOf, cellHoverRightOf, cellHoverAbove, cellHoverBelow, cellHoverInlineLeft, cellHoverInlineRight, dragCell, clearHover, cancelCellDrag, } from './cell/drag';\nimport { insertCellBelow, insertCellAbove, insertCellRightOf, insertCellLeftOf, insertCellLeftInline, insertCellRightInline, } from './cell/insert';\nimport { undo, redo } from './undo';\nimport { updateEditable } from './editables';\nimport { insertMode, editMode, previewMode, layoutMode, resizeMode, } from './display';\nimport { cellActions } from './cell';\nimport { setLang } from './setting';\nvar Display = {\n    insertMode: insertMode,\n    editMode: editMode,\n    previewMode: previewMode,\n    layoutMode: layoutMode,\n    resizeMode: resizeMode,\n};\nvar Setting = {\n    setLang: setLang,\n};\nvar Cell = cellActions;\nexport var Actions = {\n    Display: Display,\n    Cell: Cell,\n    Setting: Setting,\n};\nexport var actions = function (dispatch) { return ({\n    cell: {\n        updateContent: function (id, state, lang) {\n            return dispatch(updateCellContent(id)(state, lang));\n        },\n        updateLayout: function (id, state, lang) {\n            return dispatch(updateCellLayout(id)(state, lang));\n        },\n        remove: bindActionCreators({ removeCell: removeCell }, dispatch).removeCell,\n        resize: function (id, size) { return dispatch(resizeCell(id)(size)); },\n        focus: function (id, source) { return dispatch(focusCell(id)(source)); },\n        focusNext: function (id) { return dispatch(focusNextCell(id)()); },\n        focusPrevious: function (id) { return dispatch(focusPreviousCell(id)()); },\n        blurAll: bindActionCreators({ blurAllCells: blurAllCells }, dispatch).blurAllCells,\n        drag: bindActionCreators({ dragCell: dragCell }, dispatch).dragCell,\n        cancelDrag: bindActionCreators({ cancelCellDrag: cancelCellDrag }, dispatch).cancelCellDrag,\n        hoverLeftOf: bindActionCreators({ cellHoverLeftOf: cellHoverLeftOf }, dispatch)\n            .cellHoverLeftOf,\n        hoverRightOf: bindActionCreators({ cellHoverRightOf: cellHoverRightOf }, dispatch)\n            .cellHoverRightOf,\n        hoverAbove: bindActionCreators({ cellHoverAbove: cellHoverAbove }, dispatch).cellHoverAbove,\n        hoverBelow: bindActionCreators({ cellHoverBelow: cellHoverBelow }, dispatch).cellHoverBelow,\n        hoverFloatingLeft: bindActionCreators({ cellHoverInlineLeft: cellHoverInlineLeft }, dispatch)\n            .cellHoverInlineLeft,\n        hoverFloatingRight: bindActionCreators({ cellHoverInlineRight: cellHoverInlineRight }, dispatch)\n            .cellHoverInlineRight,\n        clearHover: bindActionCreators({ clearHover: clearHover }, dispatch).clearHover,\n        insertBelow: bindActionCreators({ insertCellBelow: insertCellBelow }, dispatch)\n            .insertCellBelow,\n        insertAbove: bindActionCreators({ insertCellAbove: insertCellAbove }, dispatch)\n            .insertCellAbove,\n        insertRightOf: bindActionCreators({ insertCellRightOf: insertCellRightOf }, dispatch)\n            .insertCellRightOf,\n        insertLeftOf: bindActionCreators({ insertCellLeftOf: insertCellLeftOf }, dispatch)\n            .insertCellLeftOf,\n        insertFloatingLeft: bindActionCreators({ insertCellLeftInline: insertCellLeftInline }, dispatch)\n            .insertCellLeftInline,\n        insertFloatingRight: bindActionCreators({ insertCellRightInline: insertCellRightInline }, dispatch)\n            .insertCellRightInline,\n    },\n    editable: {\n        add: bindActionCreators({ updateEditable: updateEditable }, dispatch).updateEditable,\n        update: bindActionCreators({ updateEditable: updateEditable }, dispatch).updateEditable,\n    },\n    mode: {\n        insert: bindActionCreators({ insertMode: insertMode }, dispatch).insertMode,\n        edit: bindActionCreators({ editMode: editMode }, dispatch).editMode,\n        preview: bindActionCreators({ previewMode: previewMode }, dispatch).previewMode,\n        layout: bindActionCreators({ layoutMode: layoutMode }, dispatch).layoutMode,\n        resize: bindActionCreators({ resizeMode: resizeMode }, dispatch).resizeMode,\n    },\n    undo: bindActionCreators({ undo: undo }, dispatch).undo,\n    redo: bindActionCreators({ redo: redo }, dispatch).redo,\n}); };\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar findNode = function (current, nodeId) {\n    var id = current.id, _a = current.rows, rows = _a === void 0 ? [] : _a, _b = current.cells, cells = _b === void 0 ? [] : _b;\n    if (id === nodeId) {\n        return current;\n    }\n    var found = undefined;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    __spread(rows, cells).find(function (n) {\n        var f = findNode(n, nodeId);\n        if (f) {\n            found = f;\n        }\n        return Boolean(f);\n    });\n    return found;\n};\nexport var findNodeInState = function (state, editableId, nodeId) {\n    var tree = editable(state, { id: editableId });\n    if (!tree) {\n        throw new Error(\"Could not find editable: \" + editableId);\n    }\n    return findNode(tree, nodeId);\n};\nexport var editable = function (state, _a) {\n    var id = _a.id;\n    return state &&\n        state.reactPage &&\n        state.reactPage.editables &&\n        state.reactPage.editables.present.find(function (_a) {\n            var current = (_a === void 0 ? {} : _a).id;\n            return current === id;\n        });\n};\nexport var editables = function (_a) {\n    var present = _a.reactPage.editables.present;\n    return present;\n};\nexport var purifiedEditable = function (state, props) {\n    var found = editable(state, props);\n    if (!found) {\n        return null;\n    }\n    return __assign(__assign({}, found), { cells: (found.cells || []).map(function (c) {\n            return typeof c === 'string' ? c : c.id;\n        }) });\n};\nexport var editableConfig = function (state, _a) {\n    var id = _a.editable;\n    return editable(state, { id: id }).config;\n};\nexport var node = function (state, props) {\n    return __assign({}, findNodeInState(state, props.editable, props.id));\n};\nexport var searchNodeEverywhere = function (state, id) {\n    for (var i = 0; i < state.reactPage.editables.present.length; i++) {\n        var n = node(state, {\n            id: id,\n            editable: state.reactPage.editables.present[i].id,\n        });\n        if (n.id) {\n            return {\n                node: n,\n                editable: state.reactPage.editables.present[i],\n            };\n        }\n    }\n    return null;\n};\nexport var purifiedNode = function (state, props) {\n    var found = node(state, props);\n    if (!found) {\n        return null;\n    }\n    if (found.cells) {\n        found.cells = found.cells.map(function (c) { return c.id; }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        );\n    }\n    if (found.rows) {\n        found.rows = found.rows.map(function (r) { return r.id; }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        );\n    }\n    return found;\n};\nvar parentInner = function (current, props) {\n    var id = current.id, _a = current.rows, rows = _a === void 0 ? [] : _a, _b = current.cells, cells = _b === void 0 ? [] : _b;\n    if (id === props.id) {\n        return current;\n    }\n    var found = undefined;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    __spread(rows, cells).find(function (n) {\n        var f = parentInner(n, props);\n        if (f) {\n            found = f;\n        }\n        return Boolean(f);\n    });\n    return found\n        ? __assign(__assign({}, found), { ancestors: __spread((found.ancestors || []), [current]) }) : found;\n};\nexport var parentCellSelector = function (state, props\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    var tree = editable(state, { id: props.editable });\n    if (!tree) {\n        throw new Error(\"Could not find editable: \" + props.editable);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var parent = parentInner(tree, props);\n    var ancestor = ((parent === null || parent === void 0 ? void 0 : parent.ancestors) || []).find(function (a) { return a.content || a.layout; });\n    return ancestor;\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable @typescript-eslint/ban-types */\nimport React from 'react';\nimport { connect as reduxConnect, Provider, createStoreHook, createDispatchHook, createSelectorHook, } from 'react-redux';\nexport var ReduxContext = React.createContext(null);\nexport var ReduxProvider = function (_a) {\n    var store = _a.store, props = __rest(_a, [\"store\"]);\n    return (React.createElement(Provider, __assign({ store: store, context: ReduxContext }, props)));\n};\nexport var useStore = createStoreHook(ReduxContext);\nexport var useDispatch = createDispatchHook(ReduxContext);\nexport var useSelector = createSelectorHook(ReduxContext);\nexport var connect = function (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmapStateToProps, mapDispatchToProps, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmergeProps, options) {\n    if (options === void 0) { options = {}; }\n    return reduxConnect(mapStateToProps, mapDispatchToProps, mergeProps, __assign(__assign({}, options), { context: ReduxContext }));\n};\n//# sourceMappingURL=reduxConnect.js.map","import { DISPLAY_MODE_EDIT, DISPLAY_MODE_LAYOUT, DISPLAY_MODE_PREVIEW, DISPLAY_MODE_INSERT, DISPLAY_MODE_RESIZING, } from '../../actions/display';\nexport var isPreviewMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_PREVIEW;\n};\nexport var isLayoutMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_LAYOUT;\n};\nexport var isEditMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_EDIT;\n};\nexport var isInsertMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_INSERT;\n};\nexport var isResizeMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode === DISPLAY_MODE_RESIZING;\n};\n//# sourceMappingURL=index.js.map","export var getLang = function (_a) {\n    var settings = _a.reactPage.settings;\n    return settings.lang;\n};\n//# sourceMappingURL=setting.js.map","import * as DisplaySelectors from './display';\nimport * as EditableSelectors from './editable';\nimport { editable, editables } from './editable';\nimport * as SettingSelectors from './setting';\nexport var Selectors = {\n    Display: DisplaySelectors,\n    Setting: SettingSelectors,\n    Editable: EditableSelectors,\n};\nexport var selectors = function (store) { return ({\n    editable: function (id) { return editable(store.getState(), { id: id }); },\n    editables: function (id) { return editables(store.getState()); },\n}); };\nexport { editable, editables };\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/ban-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport semver from 'semver';\n/**\n * @class the class used to migrate plugin content between toVersion\n */\nvar Migration = /** @class */ (function () {\n    function Migration(config) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.migrate = function (state) { return state; };\n        var toVersion = config.toVersion, migrate = config.migrate, fromVersionRange = config.fromVersionRange;\n        if (!migrate ||\n            !toVersion ||\n            !fromVersionRange ||\n            semver.valid(toVersion) === null ||\n            semver.validRange(fromVersionRange) === null) {\n            throw new Error(\"A migration toVersion, fromVersionRange and migrate function must be defined, got \" + JSON.stringify(config));\n        }\n        this.toVersion = toVersion;\n        this.migrate = migrate;\n        this.fromVersionRange = fromVersionRange;\n    }\n    return Migration;\n}());\nexport { Migration };\n/**\n * @class the abstract class for content and layout plugins. It will be instantiated once and used for every cell that is equipped with it.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar Plugin = /** @class */ (function () {\n    function Plugin(config) {\n        /**\n         * Serialize a the plugin state\n         *\n         * @param raw the raw state.\n         * @returns the serialized state.\n         */\n        this.serialize = function (raw) { return raw; };\n        /**\n         * Unserialize the plugin state.\n         *\n         * @param state the plugin state.\n         * @returns the unserialized state.\n         */\n        this.unserialize = function (state) { return state; };\n        /**\n         * Will be called when the user presses the delete key. When returning a resolving promise,\n         * the cell will be removed. If the promise is rejected, nothing happens.\n         *\n         * @param e\n         * @param props\n         * @returns a promise\n         */\n        this.handleRemoveHotKey = function (e, props) {\n            return Promise.reject();\n        };\n        /**\n         * Will be called when the user presses the right or down key. When returning a resolving promise,\n         * the next cell will be focused. If the promise is rejected, focus stays the same.\n         *\n         * @param e\n         * @param props\n         * @returns a promise\n         */\n        this.handleFocusNextHotKey = function (e, props) { return Promise.resolve(); };\n        /**\n         * Will be called when the user presses the left or up key. When returning a resolving promise,\n         * the next cell will be focused. If the promise is rejected, focus stays the same.\n         *\n         * @param e\n         * @param props\n         * @returns a promise\n         */\n        this.handleFocusPreviousHotKey = function (e, props) { return Promise.resolve(); };\n        /**\n         * This function will be called when one of the plugin's cell is blurred.\n         *\n         * @param props\n         */\n        this.handleFocus = function (props, focusSource, ref) { return null; };\n        /**\n         * This function will be called when one of the plugin's cell is focused.\n         *\n         * @param props\n         */\n        this.handleBlur = function (props) { return null; };\n        /**\n         * Specify a custom reducer for the plugin's cell.\n         *\n         * @param state\n         * @param action\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.reducer = function (state, action) { return state; };\n        var name = config.name, version = config.version, Component = config.Component, IconComponent = config.IconComponent, text = config.text, serialize = config.serialize, unserialize = config.unserialize, description = config.description, handleRemoveHotKey = config.handleRemoveHotKey, handleFocusNextHotKey = config.handleFocusNextHotKey, handleFocusPreviousHotKey = config.handleFocusPreviousHotKey, handleFocus = config.handleFocus, handleBlur = config.handleBlur, reducer = config.reducer, migrations = config.migrations;\n        if (!name || !version || !Component) {\n            throw new Error(\"A plugin's version, name and Component must be defined, got \" + JSON.stringify(config));\n        }\n        this.name = name;\n        this.version = version;\n        this.Component = Component;\n        this.IconComponent = IconComponent;\n        this.text = text;\n        this.description = description;\n        this.config = config;\n        this.migrations = migrations ? migrations : [];\n        this.hideInMenu = config.hideInMenu;\n        this.serialize = serialize ? serialize.bind(this) : this.serialize;\n        this.unserialize = unserialize ? unserialize.bind(this) : this.unserialize;\n        this.handleRemoveHotKey = handleRemoveHotKey\n            ? handleRemoveHotKey.bind(this)\n            : this.handleRemoveHotKey;\n        this.handleFocusNextHotKey = handleFocusNextHotKey\n            ? handleFocusNextHotKey.bind(this)\n            : this.handleFocusNextHotKey;\n        this.handleFocusPreviousHotKey = handleFocusPreviousHotKey\n            ? handleFocusPreviousHotKey.bind(this)\n            : this.handleFocusPreviousHotKey;\n        this.handleFocus = handleFocus ? handleFocus.bind(this) : this.handleFocus;\n        this.handleBlur = handleBlur ? handleBlur.bind(this) : this.handleBlur;\n        this.reducer = reducer ? reducer.bind(this) : this.reducer;\n    }\n    return Plugin;\n}());\nexport { Plugin };\n/**\n * @class this is the base class for content plugins.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar ContentPlugin = /** @class */ (function (_super) {\n    __extends(ContentPlugin, _super);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function ContentPlugin(config) {\n        var _this = _super.call(this, config) || this;\n        /**\n         * Create the plugin's initial state.\n         *\n         * @returns the initial state.\n         */\n        _this.createInitialState = function () { return ({}); };\n        /**\n         * Specify a custom reducer for the plugin's cell.\n         *\n         * @param state\n         * @param action\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.reducer = function (state, action) { return state; };\n        var createInitialState = config.createInitialState, _a = config.allowInlineNeighbours, allowInlineNeighbours = _a === void 0 ? false : _a, _b = config.isInlineable, isInlineable = _b === void 0 ? false : _b;\n        _this.isInlineable = isInlineable;\n        _this.allowInlineNeighbours = allowInlineNeighbours;\n        _this.createInitialState = createInitialState\n            ? createInitialState.bind(_this)\n            : _this.createInitialState;\n        return _this;\n    }\n    return ContentPlugin;\n}(Plugin));\nexport { ContentPlugin };\n/**\n * @class this is the base class for layout plugins.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar LayoutPlugin = /** @class */ (function (_super) {\n    __extends(LayoutPlugin, _super);\n    function LayoutPlugin(config) {\n        var _this = _super.call(this, config) || this;\n        /**\n         * Create the plugin's initial state.\n         *\n         * @returns the initial state.\n         */\n        _this.createInitialState = function () { return ({}); };\n        /**\n         * Create the plugin's initial children (rows/cells).\n         *\n         * @returns the initial state.\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.createInitialChildren = function () { return []; };\n        var createInitialState = config.createInitialState, createInitialChildren = config.createInitialChildren;\n        _this.createInitialState = createInitialState\n            ? createInitialState.bind(_this)\n            : _this.createInitialState;\n        _this.createInitialChildren = createInitialChildren\n            ? createInitialChildren.bind(_this)\n            : _this.createInitialChildren;\n        return _this;\n    }\n    return LayoutPlugin;\n}(Plugin));\nexport { LayoutPlugin };\nvar NativePlugin = /** @class */ (function (_super) {\n    __extends(NativePlugin, _super);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function NativePlugin(config) {\n        var _this = _super.call(this, config) || this;\n        /**\n         * Create the plugin's initial children (rows/cells).\n         *\n         * @returns the initial state.\n         */\n        _this.createInitialChildren = function () { return []; };\n        /**\n         * Create the plugin's initial state.\n         *\n         * @returns the initial state.\n         */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.createInitialState = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return ({});\n        };\n        var createInitialState = config.createInitialState, _a = config.allowInlineNeighbours, allowInlineNeighbours = _a === void 0 ? false : _a, _b = config.isInlineable, isInlineable = _b === void 0 ? false : _b, createInitialChildren = config.createInitialChildren, _c = config.type, type = _c === void 0 ? 'content' : _c;\n        _this.isInlineable = isInlineable;\n        _this.allowInlineNeighbours = allowInlineNeighbours;\n        _this.createInitialState = createInitialState\n            ? createInitialState.bind(_this)\n            : _this.createInitialState;\n        _this.createInitialChildren = createInitialChildren\n            ? createInitialChildren.bind(_this)\n            : _this.createInitialChildren;\n        _this.type = type;\n        return _this;\n    }\n    return NativePlugin;\n}(Plugin));\nexport { NativePlugin };\n//# sourceMappingURL=classes.js.map","import * as React from 'react';\nvar handleChange = function (onChange) { return function (e) {\n    if (e.target instanceof HTMLInputElement) {\n        onChange({ value: e.target.value });\n    }\n}; };\nvar Default = function (_a) {\n    var readOnly = _a.readOnly, value = _a.state.value, onChange = _a.onChange;\n    return readOnly ? (React.createElement(\"div\", null, value)) : (React.createElement(\"textarea\", { style: { width: '100%' }, value: value, onChange: handleChange(onChange) }));\n};\nvar _defaultContentPlugin = {\n    Component: Default,\n    name: 'ory/editor/core/default',\n    version: '0.0.1',\n    createInitialState: function () { return ({\n        value: 'This is the default plugin from the core package. To replace it, set the \"defaultPlugin\" value in the editor config.',\n    }); },\n};\nexport default _defaultContentPlugin;\n//# sourceMappingURL=default.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nvar ContentMissingComponent = function (props) { return (React.createElement(\"div\", { style: {\n        backgroundColor: 'red',\n        padding: '8px',\n        border: '1px solid black',\n        margin: '2px',\n        overflowX: 'scroll',\n    } },\n    \"The requested content plugin could not be found.\",\n    React.createElement(\"button\", { onClick: props.remove }, \"Delete Plugin\"),\n    React.createElement(\"pre\", null, JSON.stringify(props, null, 2)))); };\nexport var contentMissing = function (_a) {\n    var name = _a.name, version = _a.version;\n    return ({\n        Component: ContentMissingComponent,\n        name: name,\n        version: version,\n    });\n};\nvar LayoutMissingComponent = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { style: {\n                backgroundColor: 'red',\n                padding: '8px',\n                border: '1px solid black',\n                margin: '2px',\n                overflowX: 'scroll',\n            } },\n            \"The requested layout plugin could not be found.\",\n            React.createElement(\"button\", { onClick: props.remove }, \"Delete Plugin\"),\n            React.createElement(\"pre\", null, JSON.stringify(props, null, 2))),\n        children));\n};\nexport var layoutMissing = function (_a) {\n    var name = _a.name, version = _a.version;\n    return ({\n        Component: LayoutMissingComponent,\n        name: name,\n        version: version,\n    });\n};\n//# sourceMappingURL=missing.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport semver, { satisfies } from 'semver';\nimport { v4 } from 'uuid';\nimport { ContentPlugin, LayoutPlugin, NativePlugin, } from './classes';\nimport defaultPlugin from './default';\nimport { contentMissing, layoutMissing } from './missing';\nvar find = function (name, version) {\n    if (version === void 0) { version = '*'; }\n    return function (plugin) {\n        return plugin.name === name && satisfies(plugin.version, version);\n    };\n};\n/**\n * Iterate through an editable content tree and generate ids where missing.\n */\nexport var generateMissingIds = function (props) {\n    var rows = props.rows, cells = props.cells, id = props.id;\n    if ((rows || []).length > 0) {\n        props.rows = rows.map(generateMissingIds);\n    }\n    else if ((cells || []).length > 0) {\n        props.cells = cells.map(generateMissingIds);\n    }\n    return __assign(__assign({}, props), { id: id || v4() });\n};\n/**\n * PluginService is a registry of all content and layout plugins known to the editor.\n */\nvar PluginService = /** @class */ (function () {\n    /**\n     * Instantiate a new PluginService instance. You can provide your own set of content and layout plugins here.\n     */\n    function PluginService(_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.content, content = _c === void 0 ? [] : _c, _d = _b.layout, layout = _d === void 0 ? [] : _d, native = _b.native;\n        this.hasNativePlugin = function () { return Boolean(_this.plugins.native); };\n        this.getNativePlugin = function () { return _this.plugins.native; };\n        this.createNativePlugin = function (\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        hover, \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        monitor, \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        component) {\n            var native = _this.plugins.native;\n            if (!native) {\n                var insert_1 = new NativePlugin({});\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var cell = { node: insert_1, rawNode: function () { return insert_1; } };\n                return cell;\n            }\n            else {\n                var plugin = new NativePlugin(native(hover, monitor, component));\n                var initialState = plugin.createInitialState();\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var insert_2 = { content: { plugin: plugin, state: initialState } };\n                /*if (plugin === 'layout') {\n                  insert = { layout: { plugin, state: initialState } };\n                }*/\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var cell = { node: insert_2, rawNode: function () { return insert_2; } };\n                return cell;\n            }\n        };\n        this.setLayoutPlugins = function (plugins) {\n            if (plugins === void 0) { plugins = []; }\n            _this.plugins.layout = [];\n            plugins.forEach(function (plugin) { return _this.addLayoutPlugin(plugin); });\n        };\n        this.addLayoutPlugin = function (config) {\n            _this.plugins.layout.push(new LayoutPlugin(config));\n        };\n        this.removeLayoutPlugin = function (name) {\n            _this.plugins.layout = _this.plugins.layout.filter(function (plugin) { return plugin.name !== name; });\n        };\n        this.setContentPlugins = function (plugins) {\n            if (plugins === void 0) { plugins = []; }\n            _this.plugins.content = [];\n            // semicolon is required to avoid syntax error\n            __spread([defaultPlugin], plugins).forEach(function (plugin) {\n                return _this.addContentPlugin(plugin);\n            });\n        };\n        this.addContentPlugin = function (config) {\n            _this.plugins.content.push(new ContentPlugin(config));\n        };\n        this.removeContentPlugin = function (name) {\n            _this.plugins.content = _this.plugins.content.filter(function (plugin) { return plugin.name !== name; });\n        };\n        /**\n         * Finds a layout plugin based on its name and version.\n         */\n        this.findLayoutPlugin = function (name, version) {\n            var plugin = _this.plugins.layout.find(find(name, version));\n            var pluginWrongVersion = undefined;\n            if (!plugin) {\n                pluginWrongVersion = _this.plugins.layout.find(find(name, '*'));\n            }\n            return {\n                plugin: plugin || new LayoutPlugin(layoutMissing({ name: name, version: version })),\n                pluginWrongVersion: pluginWrongVersion,\n            };\n        };\n        /**\n         * Finds a content plugin based on its name and version.\n         */\n        this.findContentPlugin = function (name, version) {\n            var plugin = _this.plugins.content.find(find(name, version));\n            var pluginWrongVersion = undefined;\n            if (!plugin) {\n                pluginWrongVersion = _this.plugins.content.find(find(name, '*'));\n            }\n            return {\n                plugin: plugin || new ContentPlugin(contentMissing({ name: name, version: version })),\n                pluginWrongVersion: pluginWrongVersion,\n            };\n        };\n        /**\n         * Returns a list of all known plugin names.\n         */\n        this.getRegisteredNames = function () { return __spread(_this.plugins.content.map(function (_a) {\n            var name = _a.name;\n            return name;\n        }), _this.plugins.layout.map(function (_a) {\n            var name = _a.name;\n            return name;\n        })); };\n        this.migratePluginState = function (\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        state, plugin, dataVersion\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ) {\n            if (!plugin || !dataVersion || semver.valid(dataVersion) === null) {\n                return state;\n            }\n            var currentDataVersion = dataVersion;\n            var migrations = plugin.migrations ? plugin.migrations : [];\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n                var migration = migrations.find(function (m) {\n                    return semver.satisfies(currentDataVersion, m.fromVersionRange);\n                });\n                migrations = migrations.filter(function (m) { return !semver.satisfies(currentDataVersion, m.fromVersionRange); });\n                if (!migration) {\n                    // We assume all migrations necessary for the current version of plugin to work are provided\n                    // Therefore if we don't find any, that means we are done and state is up to date\n                    break;\n                }\n                currentDataVersion = migration.toVersion;\n                state = migration.migrate(state);\n            }\n            return state;\n        };\n        this.getNewPluginState = function (found, state, stateI18n, version) {\n            var getResult = function (plugin, shouldMigrate) {\n                // Attempt to migrate\n                if (shouldMigrate === void 0) { shouldMigrate = false; }\n                var transformState = function (s) {\n                    if (shouldMigrate) {\n                        var migratedState = _this.migratePluginState(s, found.pluginWrongVersion, version);\n                        return plugin.unserialize(migratedState);\n                    }\n                    return plugin.unserialize(s);\n                };\n                var result = {\n                    plugin: plugin,\n                    state: transformState(state),\n                    stateI18n: stateI18n\n                        ? Object.keys(stateI18n).reduce(function (acc, lang) {\n                            var _a;\n                            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = transformState(stateI18n[lang]), _a)));\n                        }, {})\n                        : undefined,\n                };\n                return result;\n            };\n            if (!found.pluginWrongVersion ||\n                semver.lt(found.pluginWrongVersion.version, version)) {\n                // Standard case\n                return getResult(found.plugin);\n            }\n            else {\n                if (found.pluginWrongVersion) {\n                    return getResult(found.pluginWrongVersion, true);\n                }\n                else {\n                    return getResult(found.plugin);\n                }\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.unserialize = function (state) {\n            if (!state) {\n                return;\n            }\n            var _a = state.rows, rows = _a === void 0 ? [] : _a, _b = state.cells, cells = _b === void 0 ? [] : _b, _c = state.content, content = _c === void 0 ? {} : _c, _d = state.layout, layout = _d === void 0 ? {} : _d, inline = state.inline, size = state.size, isDraft = state.isDraft, isDraftI18n = state.isDraftI18n, id = state.id;\n            var newState = { id: id, inline: inline, size: size, isDraft: isDraft, isDraftI18n: isDraftI18n };\n            var _e = (content || {}).plugin, _f = _e === void 0 ? {} : _e, _g = _f.name, contentName = _g === void 0 ? null : _g, _h = _f.version, contentVersion = _h === void 0 ? '*' : _h;\n            var _j = (layout || {}).plugin, _k = _j === void 0 ? {} : _j, _l = _k.name, layoutName = _l === void 0 ? null : _l, _m = _k.version, layoutVersion = _m === void 0 ? '*' : _m;\n            if (contentName) {\n                var found = _this.findContentPlugin(contentName, contentVersion);\n                var newContentState = _this.getNewPluginState(found, content.state, content.stateI18n, contentVersion);\n                newState.content = newContentState;\n            }\n            if (layoutName) {\n                var found = _this.findLayoutPlugin(layoutName, layoutVersion);\n                var newLayoutState = _this.getNewPluginState(found, layout.state, layout.stateI18n, layoutVersion);\n                newState.layout = newLayoutState;\n            }\n            if ((rows || []).length) {\n                newState.rows = rows.map(_this.unserialize);\n            }\n            if ((cells || []).length) {\n                newState.cells = cells.map(_this.unserialize);\n            }\n            return generateMissingIds(newState);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.serialize = function (state) {\n            var _a = state.rows, rows = _a === void 0 ? [] : _a, _b = state.cells, cells = _b === void 0 ? [] : _b, content = state.content, layout = state.layout, inline = state.inline, isDraft = state.isDraft, isDraftI18n = state.isDraftI18n, size = state.size, id = state.id;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var newState = { id: id, inline: inline, size: size, isDraft: isDraft, isDraftI18n: isDraftI18n };\n            if (content && content.plugin) {\n                newState.content = {\n                    plugin: { name: content.plugin.name, version: content.plugin.version },\n                    state: content.plugin.serialize(content.state),\n                    stateI18n: content.stateI18n\n                        ? Object.keys(content.stateI18n).reduce(function (acc, lang) {\n                            var _a;\n                            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = content.plugin.serialize(content.stateI18n[lang]), _a)));\n                        }, {})\n                        : undefined,\n                };\n            }\n            if (layout && layout.plugin) {\n                newState.layout = {\n                    plugin: { name: layout.plugin.name, version: layout.plugin.version },\n                    state: layout.plugin.serialize(layout.state),\n                    stateI18n: layout.stateI18n\n                        ? Object.keys(layout.stateI18n).reduce(function (acc, lang) {\n                            var _a;\n                            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = layout.plugin.serialize(layout.stateI18n[lang]), _a)));\n                        }, {})\n                        : undefined,\n                };\n            }\n            if (rows.length) {\n                newState.rows = rows.map(_this.serialize);\n            }\n            if (cells.length) {\n                newState.cells = cells.map(_this.serialize);\n            }\n            return newState;\n        };\n        this.plugins = {\n            content: __spread([defaultPlugin], content).map(\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            function (config) { return new ContentPlugin(config); }),\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            layout: layout.map(function (config) { return new LayoutPlugin(config); }),\n            native: native,\n        };\n    }\n    return PluginService;\n}());\nexport default PluginService;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable @typescript-eslint/ban-types */\nimport { ContentPlugin, LayoutPlugin, } from '../../service/plugin/classes';\nimport { v4 } from 'uuid';\nvar withDefaultState = function (layoutOrContent, PluginClass) {\n    var plugin = new PluginClass(layoutOrContent.plugin);\n    return {\n        plugin: plugin,\n        state: layoutOrContent.state || plugin.createInitialState(),\n    };\n};\nexport default (function (rows) { return ({\n    id: v4(),\n    rows: rows.map(function (row) { return ({\n        id: v4(),\n        cells: row.map(function (_a) {\n            var layout = _a.layout, content = _a.content, rest = __rest(_a, [\"layout\", \"content\"]);\n            return __assign({ id: v4(), layout: layout ? withDefaultState(layout, LayoutPlugin) : undefined, content: content ? withDefaultState(content, ContentPlugin) : undefined }, rest);\n        }),\n    }); }),\n}); });\n//# sourceMappingURL=index.js.map","import createInitialChildren from '../createInitialChildren';\nexport default (function (childrenOrRowDef) {\n    if (Array.isArray(childrenOrRowDef)) {\n        return createInitialChildren(childrenOrRowDef);\n    }\n    return childrenOrRowDef;\n});\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar computeOrder = function (_a) {\n    var rows = _a.rows, cells = _a.cells, _b = _a.content, _c = (_b === void 0 ? {} : _b).plugin, _d = (_c === void 0 ? {} : _c).name, name = _d === void 0 ? '' : _d, id = _a.id;\n    return __spread([\n        [\n            {\n                id: id,\n                isLeaf: Boolean(name),\n            },\n        ]\n    ], (rows || []).map(computeOrder), (cells || []).map(computeOrder)).reduce(function (p, n) { return __spread(p, n); }, []);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var cellOrder = function (os) {\n    return os\n        .map(computeOrder)\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        .reduce(function (p, n) { return __spread(p, n); }, []);\n};\n//# sourceMappingURL=order.js.map","export var isEmpty = function (_a) {\n    var cells = _a.cells, rows = _a.rows, _b = _a.layout, _c = (_b === void 0 ? {} : _b).plugin, _d = (_c === void 0 ? {} : _c).name, layout = _d === void 0 ? undefined : _d, _e = _a.content, _f = (_e === void 0 ? {} : _e).plugin, _g = (_f === void 0 ? {} : _f).name, content = _g === void 0 ? undefined : _g;\n    return !(cells || []).filter(emptyFilter).length &&\n        !(rows || []).filter(emptyFilter).length &&\n        !content &&\n        !(layout && (rows || []).filter(emptyFilter).length);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport var emptyFilter = function (state) { return !isEmpty(state); };\n//# sourceMappingURL=empty.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { emptyFilter } from './empty';\nexport var flatten = function (c, n) {\n    return __spread(c, n);\n};\nexport var optimizeCells = function (cells) {\n    if (cells === void 0) { cells = []; }\n    return cells.filter(emptyFilter);\n};\nexport var optimizeRows = function (rows) {\n    if (rows === void 0) { rows = []; }\n    return rows.filter(emptyFilter);\n};\nexport var optimizeCell = function (cell) {\n    var rows = cell.rows, other = __rest(cell, [\"rows\"]);\n    var optimized = __assign(__assign({}, other), { rows: (rows || [])\n            .map(function (r) {\n            var _a = r.cells, cells = _a === void 0 ? [] : _a;\n            if (cells.length !== 1) {\n                return [r];\n            }\n            var _b = cells[0], _c = _b.rows, cellRows = _c === void 0 ? [] : _c, layout = _b.layout;\n            if (cellRows.length > 0 && !layout) {\n                return cellRows;\n            }\n            return [r];\n        })\n            .reduce(flatten, []) });\n    return optimized;\n};\nexport var optimizeRow = function (_a) {\n    var cells = _a.cells, other = __rest(_a, [\"cells\"]);\n    return (__assign(__assign({}, other), { cells: (cells || [])\n            .map(function (c) {\n            var _a = c.rows, rows = _a === void 0 ? [] : _a, size = c.size;\n            if (rows.length !== 1 || c.layout) {\n                return [c];\n            }\n            var _b = rows[0].cells, rowCells = _b === void 0 ? [] : _b;\n            if (rowCells.length === 1) {\n                return rowCells.map(function (r) { return (__assign(__assign({}, r), { size: size })); });\n            }\n            return [c];\n        })\n            .reduce(flatten, []) }));\n};\n//# sourceMappingURL=optimize.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar computeRowLevels = function (a, b) {\n    var _a = a.cells, cells = _a === void 0 ? [] : _a, props = __rest(a, [\"cells\"]);\n    var _b = b || {}, _c = _b.left, left = _c === void 0 ? 0 : _c, _d = _b.right, right = _d === void 0 ? 0 : _d, _e = _b.above, above = _e === void 0 ? 0 : _e, _f = _b.below, below = _f === void 0 ? 0 : _f;\n    var newCells = [];\n    if (cells.length) {\n        newCells = cells.map(function (c, k) {\n            return computeCellLevels(c, {\n                left: k === 0 ? left + 1 : 0,\n                right: k === cells.length - 1 ? right + 1 : 0,\n                above: above + 1,\n                below: below + 1,\n            });\n        });\n    }\n    delete props.levels;\n    return __assign(__assign({ levels: { left: left, right: right, above: above, below: below } }, props), { cells: newCells });\n};\nvar computeCellLevels = function (a, b) {\n    var _a = a.rows, rows = _a === void 0 ? [] : _a, props = __rest(a, [\"rows\"]);\n    var _b = b || {}, _c = _b.left, left = _c === void 0 ? 0 : _c, _d = _b.right, right = _d === void 0 ? 0 : _d, _e = _b.above, above = _e === void 0 ? 0 : _e, _f = _b.below, below = _f === void 0 ? 0 : _f;\n    var newRows;\n    if (rows.length) {\n        newRows = rows.map(function (r, k) {\n            return computeRowLevels(r, {\n                left: left + 1,\n                right: right + 1,\n                above: k === 0 ? above + 1 : 0,\n                below: k === rows.length - 1 ? below + 1 : 0,\n            });\n        });\n    }\n    delete props.levels; // eslint-disable-line prefer-reflect\n    return __assign(__assign({ levels: { left: left, right: right, above: above, below: below } }, props), { rows: newRows });\n};\nexport var computeDropLevels = function (c) { return computeCellLevels(c); };\n//# sourceMappingURL=level.js.map","import { computeSizes, computeInlines, computeBounds, computeResizeable, } from './sizing';\nimport { optimizeCell, optimizeRow, optimizeRows, optimizeCells, } from './optimize';\nimport { computeDropLevels } from './level';\nexport var setAllSizesAndOptimize = function (cells) {\n    if (cells === void 0) { cells = []; }\n    return computeInlines(computeResizeable(computeBounds(computeSizes(optimizeCells(cells))))).map(function (cell) {\n        if (cell.rows) {\n            cell.rows = optimizeRows(cell.rows).map(function (r) {\n                var optimized = optimizeRow(r);\n                if (optimized.cells) {\n                    optimized.cells = setAllSizesAndOptimize(optimized.cells);\n                }\n                return optimized;\n            });\n        }\n        return computeDropLevels(optimizeCell(cell));\n    });\n};\n//# sourceMappingURL=setAllSizesAndOptimize.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar MAX_CELLS_PER_ROW = 12;\n/**\n * Sum up cell sizes: (cell[size]).\n */\nexport var sumSizes = function (cells) {\n    if (cells === void 0) { cells = []; }\n    return cells.reduce(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function (_a, _b) {\n        var _c = _a.size, p = _c === void 0 ? 99 : _c, a = _a.inline;\n        var _d = _b.size, c = _d === void 0 ? 99 : _d, b = _b.inline;\n        return ({\n            size: (a ? 0 : 1) * p + (b ? 0 : 1) * c,\n        });\n    }, { size: 0 }).size;\n};\n/**\n * Updates each cell's size boundaries.\n */\nexport var computeBounds = function (cells) {\n    if (cells === void 0) { cells = []; }\n    return cells.map(function (c, k) { return (__assign(__assign({}, c), { bounds: {\n            left: k > 0 ? cells[k - 1].size + c.size - 1 : 0,\n            right: k === cells.length - 1 ? 0 : c.size - 1 + cells[k + 1].size,\n        } })); });\n};\n/**\n * Computes if a cell is resizable.\n */\nexport var computeResizeable = function (cells) {\n    if (cells === void 0) { cells = []; }\n    return cells.map(function (c, k) { return (__assign(__assign({}, c), { resizable: cells.length > 1 && k !== cells.length - 1 })); });\n};\n/**\n * Computes sizes an inline element was found.\n */\nexport var computeInlines = function (cells) {\n    if (cells === void 0) { cells = []; }\n    if (cells.length !== 2 || !cells[0].inline) {\n        return cells.map(function (c) { return (__assign(__assign({}, c), { inline: null, hasInlineNeighbour: null })); });\n    }\n    var inline = cells[0].inline;\n    return [\n        __assign(__assign({}, cells[0]), { resizable: true, size: cells[0].size || Math.round(MAX_CELLS_PER_ROW / 2), bounds: {\n                left: inline === 'left' ? 0 : MAX_CELLS_PER_ROW - 1,\n                right: inline === 'right' ? 0 : MAX_CELLS_PER_ROW - 1,\n            } }),\n        __assign(__assign({}, cells[1]), { bounds: { left: 0, right: 0 }, size: 12, hasInlineNeighbour: cells[0].id }),\n    ];\n};\n/**\n * Resize cells.\n */\nexport var resizeCells = function (cells, _a) {\n    if (cells === void 0) { cells = []; }\n    var id = _a.id, size = _a.size;\n    var prev = 0;\n    return cells.map(function (c) {\n        if (prev > 0) {\n            var ret = __assign(__assign({}, c), { size: c.size + prev - size });\n            prev = 0;\n            return ret;\n        }\n        else if (id === c.id) {\n            if (!c.inline) {\n                prev = c.size;\n            }\n            return __assign(__assign({}, c), { size: size });\n        }\n        return c;\n    });\n};\n/**\n * Balance cell sizes.\n *\n * @param {[...cell]} cells\n * @return {[...cell]}\n */\nexport var computeSizes = function (cells) {\n    if (cells === void 0) { cells = []; }\n    var total = sumSizes(cells);\n    if (total === MAX_CELLS_PER_ROW) {\n        return cells;\n    }\n    var count = cells.length;\n    var sizePerCell = Math.floor(MAX_CELLS_PER_ROW / count);\n    var spaceLeft = MAX_CELLS_PER_ROW - sizePerCell * (count - 1);\n    return cells.map(function (c, k) { return (__assign(__assign({}, c), { size: k === count - 1 ? spaceLeft : sizePerCell })); });\n};\n//# sourceMappingURL=sizing.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * Check if this item is currently being hovered.\n */\nexport var isHoveringThis = function (state, action) {\n    if (state === void 0) { state = {}; }\n    var _a = action.level, level = _a === void 0 ? 0 : _a, _b = action.hover, hover = _b === void 0 ? null : _b;\n    var children = state.rows || state.cells || [];\n    if (level > 0) {\n        return Boolean(children.find(function (child) {\n            return isHoveringThis(child, __assign(__assign({}, action), { level: level - 1 }));\n        }));\n    }\n    return hover === state.id;\n};\n//# sourceMappingURL=hover.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { CELL_BLUR, CELL_BLUR_ALL, CELL_DRAG_HOVER, CELL_FOCUS, CELL_INSERT_ABOVE, CELL_INSERT_BELOW, CELL_INSERT_INLINE_LEFT, CELL_INSERT_INLINE_RIGHT, CELL_INSERT_LEFT_OF, CELL_INSERT_RIGHT_OF, CELL_REMOVE, CELL_RESIZE, CELL_UPDATE_CONTENT, CELL_UPDATE_IS_DRAFT, CELL_UPDATE_LAYOUT, CELL_INSERT_AT_END, } from '../../actions/cell';\nimport { createCell, createRow } from '../../types/editable';\nimport { isHoveringThis } from './helper/hover';\nimport { flatten, optimizeCell, optimizeCells, optimizeRow, optimizeRows, } from './helper/optimize';\nimport { resizeCells } from './helper/sizing';\nvar inner = function (cb, action) { return function (state) {\n    return cb(state, action);\n}; };\nvar identity = function (state) { return state; };\nexport var cell = function (s, a) {\n    return optimizeCell((function (state, action) {\n        var _a, _b, _c;\n        var _d, _e, _f, _g, _h, _j;\n        var reduce = function () {\n            var _a, _b, _c, _d, _e, _f;\n            var content = (_c = (_b = (_a = state === null || state === void 0 ? void 0 : state.content) === null || _a === void 0 ? void 0 : _a.plugin) === null || _b === void 0 ? void 0 : _b.reducer) !== null && _c !== void 0 ? _c : identity;\n            var layout = (_f = (_e = (_d = state === null || state === void 0 ? void 0 : state.layout) === null || _d === void 0 ? void 0 : _d.plugin) === null || _e === void 0 ? void 0 : _e.reducer) !== null && _f !== void 0 ? _f : identity;\n            return content(layout(__assign(__assign({}, state), { hover: null, rows: rows(state.rows, action) }), action), action);\n        };\n        switch (action.type) {\n            case CELL_UPDATE_IS_DRAFT:\n                if (action.id === state.id) {\n                    // If this cell is being focused, set the data\n                    var reduced = reduce();\n                    if (action.lang) {\n                        return __assign(__assign({}, reduced), { isDraftI18n: __assign(__assign({}, reduced.isDraftI18n), (_a = {}, _a[action.lang] = action.isDraft, _a)) });\n                    }\n                    else {\n                        return __assign(__assign({}, reduced), { isDraft: action.isDraft });\n                    }\n                }\n                return __assign(__assign({}, reduce()), { focused: false, focusSource: null });\n            case CELL_UPDATE_CONTENT:\n                if (action.id === state.id) {\n                    // If this cell is being updated, set the data\n                    var reduced = reduce();\n                    var emptyValue = action.state == null;\n                    if (action.lang && emptyValue) {\n                        (_d = reduced.content.stateI18n) === null || _d === void 0 ? true : delete _d[action.lang];\n                    }\n                    return __assign(__assign({}, reduced), { content: __assign(__assign({}, ((_e = state.content) !== null && _e !== void 0 ? _e : {})), (action.lang\n                            ? {\n                                stateI18n: __assign(__assign({}, ((_f = reduced.content.stateI18n) !== null && _f !== void 0 ? _f : {})), (!emptyValue ? (_b = {}, _b[action.lang] = action.state, _b) : {})),\n                            }\n                            : {\n                                state: action.state,\n                            })) });\n                }\n                return reduce();\n            case CELL_UPDATE_LAYOUT:\n                if (action.id === state.id) {\n                    // If this cell is being updated, set the data\n                    var reduced = reduce();\n                    var emptyValue = action.state == null;\n                    if (action.lang && emptyValue) {\n                        (_g = reduced.layout.stateI18n) === null || _g === void 0 ? true : delete _g[action.lang];\n                    }\n                    return __assign(__assign({}, reduced), { layout: __assign(__assign({}, ((_h = state.layout) !== null && _h !== void 0 ? _h : {})), (action.lang\n                            ? {\n                                stateI18n: __assign(__assign({}, ((_j = reduced.layout.stateI18n) !== null && _j !== void 0 ? _j : {})), (!emptyValue ? (_c = {}, _c[action.lang] = action.state, _c) : {})),\n                            }\n                            : {\n                                state: action.state,\n                            })) });\n                }\n                return reduce();\n            case CELL_FOCUS:\n                if (action.id === state.id) {\n                    // If this cell is being focused, set the data\n                    return __assign(__assign({}, reduce()), { focused: true, scrollToCell: action.scrollToCell, focusSource: action.source });\n                }\n                return __assign(__assign({}, reduce()), { focused: false, scrollToCell: false, focusSource: null });\n            case CELL_BLUR:\n                if (action.id === state.id) {\n                    // If this cell is being blurred, set the data\n                    return __assign(__assign({}, reduce()), { focused: false, focusSource: null });\n                }\n                return reduce();\n            case CELL_BLUR_ALL:\n                return __assign(__assign({}, reduce()), { focused: false });\n            case CELL_DRAG_HOVER:\n                if (isHoveringThis(state, action)) {\n                    // if this is the cell we're hovering, set the hover attribute\n                    return __assign(__assign({}, reduce()), { hover: action.position });\n                }\n                // or remove it if not\n                return reduce();\n            case CELL_INSERT_ABOVE:\n                if (isHoveringThis(state, action)) {\n                    return __assign(__assign({}, createCell()), { id: action.ids.cell, hover: null, rows: rows([\n                            __assign(__assign({}, createRow()), { id: action.ids.others[0], cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ] }),\n                            __assign(__assign({}, createRow()), { id: action.ids.others[1], cells: [__assign(__assign({}, reduce()), { id: action.ids.others[2] })] }),\n                        ], __assign(__assign({}, action), { hover: null })) });\n                }\n                return reduce();\n            case CELL_INSERT_BELOW:\n                if (isHoveringThis(state, action)) {\n                    return __assign(__assign({}, createCell()), { id: action.ids.cell, hover: null, rows: rows([\n                            __assign(__assign({}, createRow()), { id: action.ids.others[0], cells: [__assign(__assign({}, reduce()), { id: action.ids.others[1] })] }),\n                            __assign(__assign({}, createRow()), { id: action.ids.others[2], cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ] }),\n                        ], __assign(__assign({}, action), { hover: null })) });\n                }\n                return reduce();\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\nexport var cells = function (s, a) {\n    if (s === void 0) { s = []; }\n    return optimizeCells((function (state, action) {\n        switch (action.type) {\n            case CELL_RESIZE:\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                return resizeCells(state.map(inner(cell, action)), action);\n            case CELL_INSERT_BELOW:\n            case CELL_INSERT_ABOVE:\n                return state\n                    .filter(function (c) { return c.id !== action.item.id; })\n                    .map(inner(cell, action));\n            case CELL_INSERT_LEFT_OF:\n                return state\n                    .filter(function (c) { return c.id !== action.item.id; })\n                    .map(function (c) {\n                    return isHoveringThis(c, action)\n                        ? [\n                            __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                            __assign(__assign({}, c), { id: action.ids.others[0] }),\n                        ]\n                        : [c];\n                })\n                    .reduce(flatten, [])\n                    .map(inner(cell, action));\n            case CELL_INSERT_RIGHT_OF:\n                return state\n                    .filter(function (c) { return c.id !== action.item.id; })\n                    .map(function (c) {\n                    return isHoveringThis(c, action)\n                        ? [\n                            __assign(__assign({}, c), { id: action.ids.others[0] }),\n                            __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                        ]\n                        : [c];\n                })\n                    .reduce(flatten, [])\n                    .map(inner(cell, action));\n            case CELL_INSERT_INLINE_RIGHT:\n            case CELL_INSERT_INLINE_LEFT:\n                return state\n                    .filter(function (c) { return c.id !== action.item.id; })\n                    .map(function (c) {\n                    if (isHoveringThis(c, action)) {\n                        return [\n                            __assign(__assign({}, createCell()), { id: action.ids.cell, rows: [\n                                    __assign(__assign({}, createRow()), { id: action.ids.others[0], cells: [\n                                            __assign(__assign({}, action.item), { inline: action.type === CELL_INSERT_INLINE_RIGHT\n                                                    ? 'right'\n                                                    : 'left', id: action.ids.item, size: 0 }),\n                                            __assign(__assign({}, c), { id: action.ids.others[1], inline: null, hasInlineNeighbour: action.ids.item, size: 0 }),\n                                        ] }),\n                                ] }),\n                        ];\n                    }\n                    return [c];\n                })\n                    .reduce(flatten, [])\n                    .map(inner(cell, action));\n            case CELL_REMOVE:\n                return state\n                    .filter(function (_a) {\n                    var id = _a.id;\n                    return id !== action.id;\n                })\n                    .map(inner(cell, action));\n            default:\n                return state.map(inner(cell, action));\n        }\n    })(s, a));\n};\nexport var row = function (s, a) {\n    return optimizeRow((function (state, action) {\n        var reduce = function () { return (__assign(__assign({}, state), { hover: null, cells: cells(state.cells, action) })); };\n        switch (action.type) {\n            case CELL_INSERT_LEFT_OF:\n                if (!isHoveringThis(state, action)) {\n                    return reduce();\n                }\n                return __assign(__assign({}, state), { hover: null, cells: cells(__spread([\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null })\n                    ], state.cells), __assign(__assign({}, action), { hover: null })) });\n            case CELL_INSERT_RIGHT_OF:\n                if (!isHoveringThis(state, action)) {\n                    return reduce();\n                }\n                return __assign(__assign({}, state), { hover: null, cells: cells(__spread(state.cells, [\n                        __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                    ]), __assign(__assign({}, action), { hover: null })) });\n            case CELL_DRAG_HOVER:\n                if (isHoveringThis(state, action)) {\n                    return __assign(__assign({}, reduce()), { hover: action.position });\n                }\n                return reduce();\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\nexport var rows = function (s, a) {\n    if (s === void 0) { s = []; }\n    return optimizeRows(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (function (state, action) {\n        var reduce = function () { return state.map(inner(row, action)); };\n        switch (action.type) {\n            case CELL_INSERT_ABOVE:\n                return state\n                    .map(function (r) {\n                    return isHoveringThis(r, action)\n                        ? [\n                            __assign(__assign({}, createRow()), { cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ], id: action.ids.others[0] }),\n                            __assign(__assign({}, r), { id: action.ids.others[1] }),\n                        ]\n                        : [r];\n                })\n                    .reduce(flatten, [])\n                    .map(inner(row, action));\n            case CELL_INSERT_BELOW:\n                return state\n                    .map(function (r) {\n                    return isHoveringThis(r, action)\n                        ? [\n                            __assign(__assign({}, r), { id: action.ids.others[0] }),\n                            __assign(__assign({}, createRow()), { cells: [\n                                    __assign(__assign({}, action.item), { id: action.ids.item, inline: null }),\n                                ], id: action.ids.others[1] }),\n                        ]\n                        : [r];\n                })\n                    .reduce(flatten, [])\n                    .map(inner(row, action));\n            case CELL_INSERT_AT_END:\n                return __spread(state, [\n                    __assign(__assign({}, createRow()), { cells: [__assign(__assign({}, action.item), { id: action.ids.item, inline: null })], id: action.ids.others[1] }),\n                ]);\n            default:\n                return reduce();\n        }\n    })(s, a));\n};\n//# sourceMappingURL=tree.js.map","export var createCell = function () { return ({\n    id: '',\n    rows: [],\n    size: 12,\n    hover: null,\n    inline: null,\n    focused: false,\n    focusSource: '',\n    resizable: false,\n    bounds: { left: 0, right: 0 },\n    hasInlineNeighbour: null,\n    levels: {\n        above: 0,\n        below: 0,\n        right: 0,\n        left: 0,\n    },\n}); };\nexport var createRow = function () { return ({\n    id: '',\n    hover: null,\n    cells: [],\n}); };\n//# sourceMappingURL=editable.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CELL_CREATE_FALLBACK } from '../../actions/cell';\nimport sanitizeInitialChildren from '../../helper/sanitizeInitialChildren';\nimport { createCell } from '../../types/editable';\nimport { cellOrder } from './helper/order';\nimport { setAllSizesAndOptimize } from './helper/setAllSizesAndOptimize';\nimport { cells } from './tree';\nexport var rawEditableReducer = function (state, action) {\n    if (state === void 0) { state = {\n        id: null,\n        cells: [],\n        config: {\n            whitelist: [],\n        },\n    }; }\n    var newCells = setAllSizesAndOptimize(cells(state.cells, action));\n    // eslint-disable-next-line default-case\n    switch (action.type) {\n        case CELL_CREATE_FALLBACK:\n            if (action.editable === state.id) {\n                if (action.fallback.createInitialChildren) {\n                    var children = sanitizeInitialChildren(action.fallback.createInitialChildren());\n                    var c = __assign(__assign(__assign({}, createCell()), children), { layout: {\n                            plugin: action.fallback,\n                            state: action.fallback.createInitialState(),\n                        }, id: action.ids.cell });\n                    newCells = setAllSizesAndOptimize(cells([c], action));\n                }\n                else {\n                    var c = __assign(__assign({}, createCell()), { content: {\n                            plugin: action.fallback,\n                            state: action.fallback.createInitialState(),\n                        }, id: action.ids.cell });\n                    newCells = setAllSizesAndOptimize(cells([c], action));\n                }\n            }\n            break;\n        default:\n            break;\n    }\n    return __assign(__assign({}, state), { cells: newCells, cellOrder: cellOrder(newCells || []) });\n};\nexport var editable = rawEditableReducer;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport undoable, { includeAction } from 'redux-undo';\nimport { set } from 'redux-undo/lib/debug';\nimport { CELL_REMOVE, CELL_RESIZE, CELL_UPDATE_CONTENT, CELL_UPDATE_LAYOUT, } from '../../actions/cell/core';\nimport { CELL_INSERT_ABOVE, CELL_INSERT_BELOW, CELL_INSERT_INLINE_LEFT, CELL_INSERT_INLINE_RIGHT, CELL_INSERT_LEFT_OF, CELL_INSERT_RIGHT_OF, CELL_INSERT_AT_END, } from '../../actions/cell/insert';\nimport { UPDATE_EDITABLE } from '../../actions/editables';\nimport { isProduction } from '../../const';\nimport { editable } from '../editable';\nif (!isProduction) {\n    set(true);\n}\nvar inner = undoable(function (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nstate, action) {\n    if (state === void 0) { state = []; }\n    switch (action.type) {\n        default:\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return state.map(function (e) { return editable(e, action); });\n    }\n}, {\n    filter: includeAction([\n        CELL_UPDATE_CONTENT,\n        CELL_UPDATE_LAYOUT,\n        CELL_REMOVE,\n        CELL_RESIZE,\n        CELL_INSERT_ABOVE,\n        CELL_INSERT_BELOW,\n        CELL_INSERT_LEFT_OF,\n        CELL_INSERT_RIGHT_OF,\n        CELL_INSERT_INLINE_LEFT,\n        CELL_INSERT_INLINE_RIGHT,\n        CELL_INSERT_AT_END,\n    ]),\n    // initTypes: [UPDATE_EDITABLE],\n    neverSkipReducer: true,\n});\nexport var editables = function (state, action) {\n    if (state === void 0) { state = {\n        past: [],\n        present: [],\n        future: [],\n    }; }\n    var _a = state.past, past = _a === void 0 ? [] : _a, _b = state.present, present = _b === void 0 ? [] : _b, _c = state.future, future = _c === void 0 ? [] : _c;\n    switch (action.type) {\n        case UPDATE_EDITABLE:\n            return inner({\n                past: past.map(function (e) { return __spread(e.filter(function (_a) {\n                    var id = _a.id;\n                    return id !== action.editable.id;\n                }), [\n                    // we need to run the rawreducer once or the history initial state will be inconsistent.\n                    // resolves https://github.com/ory/editor/pull/117#issuecomment-242942796\n                    // ...past,\n                    editable(action.editable, action),\n                ]); }),\n                present: inner(__spread(present.filter(function (_a) {\n                    var id = _a.id;\n                    return id !== action.editable.id;\n                }), [\n                    // we need to run the rawreducer once or the history initial state will be inconsistent.\n                    // resolves https://github.com/ory/editor/pull/117#issuecomment-242942796\n                    editable(action.editable, action),\n                ]), undefined),\n                future: future,\n            }, undefined);\n        default:\n            return inner(state, action);\n    }\n};\n//# sourceMappingURL=index.js.map","import { combineReducers } from 'redux';\nimport { editables } from './editables';\nimport { display } from './display';\nimport { focus } from './focus';\nimport { settings } from './settings';\nvar reducer = combineReducers({\n    editables: editables,\n    display: display,\n    focus: focus,\n    settings: settings,\n});\n/**\n * @example\n * import { reducer } from '@react-page/core'\n * const reducer = combineReducers({\n *   reactPage: reducer,\n *   // ...\n * })\n * const store = createStore(reducer, null, middleware)\n * new Editor({ store })\n */\nexport { reducer };\nexport default combineReducers({ reactPage: reducer });\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { DEFAULT_DISPLAY_MODE, SET_DISPLAY_MODE, SET_PREVIOUS_DISPLAY_MODE, } from '../../actions/display';\nexport var display = function (state, action) {\n    if (state === void 0) { state = {\n        previous: DEFAULT_DISPLAY_MODE,\n        mode: DEFAULT_DISPLAY_MODE,\n    }; }\n    switch (action.type) {\n        case SET_PREVIOUS_DISPLAY_MODE:\n            return __assign(__assign({}, state), { mode: state.previous === state.mode ? action.fallback : state.previous });\n        case SET_DISPLAY_MODE:\n            return {\n                previous: action.mode === state.mode && action.remember\n                    ? state.previous\n                    : action.mode,\n                mode: action.mode,\n            };\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","import { CELL_FOCUS, CELL_BLUR, CELL_BLUR_ALL } from '../../actions/cell';\nexport var focus = function (state, action) {\n    if (state === void 0) { state = ''; }\n    switch (action.type) {\n        case CELL_FOCUS:\n            return action.id;\n        case CELL_BLUR_ALL:\n            return '';\n        case CELL_BLUR:\n            return action.id === state ? '' : state;\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { SET_LANG } from '../../actions/setting';\nexport var settings = function (state, action) {\n    if (state === void 0) { state = {\n        lang: null,\n    }; }\n    switch (action.type) {\n        case SET_LANG:\n            return __assign(__assign({}, state), { lang: action.lang });\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { v4 } from 'uuid';\nimport { actions } from './actions';\nimport { isProduction } from './const';\nimport { selectors } from './selector';\nimport PluginService from './service/plugin';\nimport pluginDefault from './service/plugin/default';\nimport createStore from './store';\nimport { setLang } from './actions/setting';\nimport { findNodeInState } from './selector/editable';\nimport { createContext } from 'react';\nexport var EditorContext = createContext(null);\nvar initialState = function (_a) {\n    var lang = _a.lang;\n    return ({\n        reactPage: {\n            settings: {\n                lang: lang,\n            },\n            editables: {\n                past: [],\n                present: [],\n                future: [],\n            },\n        },\n    });\n};\nvar nativeTypes = function (editor) {\n    return editor.plugins.hasNativePlugin()\n        ? [NativeTypes.URL, NativeTypes.FILE, NativeTypes.TEXT]\n        : [];\n};\nvar update = function (editor) { return function (editable) {\n    var state = editor.plugins.unserialize(editable);\n    actions(editor.store.dispatch).editable.update(__assign(__assign({}, state), { config: {\n            plugins: editor.plugins,\n            whitelist: __spread(editor.plugins.getRegisteredNames(), nativeTypes(editor)),\n        } }));\n}; };\n/**\n * Editor is the core interface for dealing with the editor.\n */\nvar Editor = /** @class */ (function () {\n    function Editor(_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, plugins = _b.plugins, _c = _b.middleware, middleware = _c === void 0 ? [] : _c, _d = _b.editables, editables = _d === void 0 ? [] : _d, _e = _b.defaultPlugin, defaultPlugin = _e === void 0 ? pluginDefault : _e, store = _b.store, _f = _b.languages, languages = _f === void 0 ? [] : _f, lang = _b.lang;\n        this.query = {};\n        this.refreshEditables = function () {\n            var _a;\n            (_a = _this.store.getState().reactPage.editables.present) === null || _a === void 0 ? void 0 : _a.forEach(function (editable) {\n                if (!isProduction) {\n                    // tslint:disable-next-line:no-console\n                    console.log(_this.plugins.serialize(editable));\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                _this.trigger.editable.update(_this.plugins.serialize(editable));\n            });\n        };\n        this.getNode = function (editableId, nodeId) {\n            return findNodeInState(_this.store.getState(), editableId, nodeId);\n        };\n        /**\n         * @deprecated in order to reduce the api surface, we will remove this method in the future\n         */\n        this.setLayoutPlugins = function (plugins) {\n            if (plugins === void 0) { plugins = []; }\n            console.warn('in order to reduce the api surface, we will remove setLayoutPlugins in the future');\n            _this.plugins.setLayoutPlugins(plugins);\n            _this.refreshEditables();\n        };\n        /**\n         * @deprecated in order to reduce the api surface, we will remove this method in the future\n         */\n        this.addLayoutPlugin = function (config) {\n            console.warn('in order to reduce the api surface, we will remove addLayoutPlugin in the future');\n            _this.plugins.addLayoutPlugin(config);\n            _this.refreshEditables();\n        };\n        /**\n         * @deprecated in order to reduce the api surface, we will remove this method in the future\n         */\n        this.removeLayoutPlugin = function (name) {\n            console.warn('in order to reduce the api surface, we will remove removeLayoutPlugin in the future');\n            _this.plugins.removeLayoutPlugin(name);\n            _this.refreshEditables();\n        };\n        /**\n         * @deprecated in order to reduce the api surface, we will remove this method in the future\n         */\n        this.setContentPlugins = function (plugins) {\n            if (plugins === void 0) { plugins = []; }\n            console.warn('in order to reduce the api surface, we will remove setContentPlugins in the future');\n            _this.plugins.setContentPlugins(plugins);\n            _this.refreshEditables();\n        };\n        /**\n         * @deprecated in order to reduce the api surface, we will remove this method in the future\n         */\n        this.addContentPlugin = function (config) {\n            console.warn('in order to reduce the api surface, we will remove addContentPlugin in the future');\n            _this.plugins.addContentPlugin(config);\n            _this.refreshEditables();\n        };\n        /**\n         * @deprecated in order to reduce the api surface, we will remove this method in the future\n         */\n        this.removeContentPlugin = function (name) {\n            console.warn('in order to reduce the api surface, we will remove removeContentPlugin in the future');\n            _this.plugins.removeContentPlugin(name);\n            _this.refreshEditables();\n        };\n        this.store =\n            store ||\n                createStore(initialState({ lang: lang || languages[0] }), middleware);\n        this.plugins = new PluginService(plugins);\n        this.middleware = middleware;\n        this.trigger = actions(this.store.dispatch);\n        this.query = selectors(this.store);\n        this.defaultPlugin = defaultPlugin;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.trigger.editable.add = update(this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.trigger.editable.update = update(this);\n        this.languages = languages;\n        editables.forEach(this.trigger.editable.add);\n    }\n    Editor.prototype.setLang = function (lang) {\n        this.store.dispatch(setLang(lang));\n    };\n    return Editor;\n}());\nexport var createEmptyState = function () {\n    return ({ id: v4(), cells: [] });\n};\nexport default Editor;\n//# sourceMappingURL=Editor.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducer';\nimport { isProduction } from './const';\n/**\n * Returns a new redux store.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport default (function (initialState, middleware) {\n    if (middleware === void 0) { middleware = []; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var v = !isProduction &&\n        typeof window === 'object' &&\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n        : compose;\n    return createStore(rootReducer, initialState, v(applyMiddleware.apply(void 0, __spread(middleware, [thunk]))));\n});\n//# sourceMappingURL=store.js.map","import { useDispatch } from '../../reduxConnect';\nimport { undo, redo } from '../../actions/undo';\nimport { useCallback, useContext, createContext } from 'react';\nimport { duplicateCell, insertCellAtTheEnd } from '../../actions/cell/insert';\nimport { isEditMode, isInsertMode, isLayoutMode } from '../../selector/display';\nimport { useSelector } from '../../reduxConnect';\nimport { node, parentCellSelector } from '../../selector/editable';\nimport { Selectors } from '../../selector';\nimport { EditorContext } from '../../Editor';\nimport { updateCellIsDraft, focusCell, updateCellContent, updateCellLayout, removeCell, } from '../../actions/cell/core';\nimport { setLang } from '../../actions/setting';\nexport var EditableContext = createContext(null);\nexport var useEditableId = function () { return useContext(EditableContext); };\nexport var useEditor = function () { return useContext(EditorContext); };\nexport var useNode = function (id) {\n    var editableId = useEditableId();\n    return useSelector(function (state) {\n        return node(state, { id: id, editable: editableId });\n    });\n};\nvar isCell = function (node) {\n    var _a, _b;\n    return Boolean(((_a = node) === null || _a === void 0 ? void 0 : _a.content) || ((_b = node) === null || _b === void 0 ? void 0 : _b.layout));\n};\nexport var useCell = function (id) {\n    var node = useNode(id);\n    if (isCell(node)) {\n        return node;\n    }\n    return null;\n};\nexport var useParentCell = function (id) {\n    var editableId = useEditableId();\n    return useSelector(function (state) {\n        return parentCellSelector(state, { id: id, editable: editableId });\n    });\n};\nexport var useIsEditMode = function () {\n    return useSelector(isEditMode);\n};\nexport var useIsInsertMode = function () {\n    return useSelector(isInsertMode);\n};\nexport var useIsLayoutMode = function () {\n    return useSelector(isLayoutMode);\n};\nexport var useLang = function () {\n    return useSelector(Selectors.Setting.getLang);\n};\n// actions\nexport var useUndo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(undo()); }, [dispatch]);\n};\nexport var useRedo = function () {\n    var dispatch = useDispatch();\n    return useCallback(function () { return dispatch(redo()); }, [dispatch]);\n};\nexport var useSetDraft = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id, isDraft, lang) {\n        return dispatch(updateCellIsDraft(id, isDraft, lang));\n    }, [dispatch]);\n};\nexport var useSetLang = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (lang) { return dispatch(setLang(lang)); }, [dispatch]);\n};\nexport var useUpdateCellContent = function () {\n    var dispatch = useDispatch();\n    return useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function (id, state, lang) {\n        return dispatch(updateCellContent(id)(state, lang));\n    }, [dispatch]);\n};\nexport var useUpdateCellLayout = function () {\n    var dispatch = useDispatch();\n    return useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function (id, state, lang) {\n        return dispatch(updateCellLayout(id)(state, lang));\n    }, [dispatch]);\n};\nexport var useRemoveCell = function () {\n    var dispatch = useDispatch();\n    return useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function (id) { return dispatch(removeCell(id)); }, [dispatch]);\n};\nexport var useDuplicateCell = function () {\n    var dispatch = useDispatch();\n    var editor = useEditor();\n    var editableId = useEditableId();\n    return useCallback(function (nodeId) {\n        return dispatch(duplicateCell(editor.getNode(editableId, nodeId)));\n    }, [dispatch, editableId]);\n};\nexport var useFocusCell = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (id, scrollToCell) {\n        dispatch(focusCell(id, scrollToCell)());\n    }, [dispatch]);\n};\nexport var useInsertCellAtTheEnd = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (node) {\n        dispatch(insertCellAtTheEnd(node, {}));\n    }, [dispatch]);\n};\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\n/* eslint-disable @typescript-eslint/ban-types */\nimport isHotkey from 'is-hotkey';\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { createStructuredSelector } from 'reselect';\nimport { blurAllCells, focusCell, removeCell } from '../../actions/cell';\nimport { redo, undo } from '../../actions/undo';\nimport { connect } from '../../reduxConnect';\nimport { isEditMode } from '../../selector/display';\nimport { editable, editables, node, searchNodeEverywhere, } from '../../selector/editable';\nimport { focus } from '../../selector/focus';\nvar nextLeaf = function (order, current) {\n    if (order === void 0) { order = []; }\n    var last;\n    return order.find(function (c) {\n        if (last === current) {\n            return c.isLeaf;\n        }\n        last = c.id;\n        return false;\n    });\n};\nvar previousLeaf = function (order, current) {\n    return nextLeaf(__spread(order).reverse(), current);\n};\nvar delegateToPlugin = function (event, n, handlerName) { return __awaiter(void 0, void 0, void 0, function () {\n    var plugin;\n    var _a, _b, _c;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                plugin = (_b = (_a = n === null || n === void 0 ? void 0 : n.layout) === null || _a === void 0 ? void 0 : _a.plugin) !== null && _b !== void 0 ? _b : (_c = n === null || n === void 0 ? void 0 : n.content) === null || _c === void 0 ? void 0 : _c.plugin;\n                if (!(plugin === null || plugin === void 0 ? void 0 : plugin[handlerName])) return [3 /*break*/, 2];\n                return [4 /*yield*/, plugin[handlerName](event, n)];\n            case 1:\n                _d.sent();\n                _d.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar Decorator = function (props) {\n    var delegateToFoundPlugin = useCallback(function (event, nodeId, handlerName, defaultHandler) { return __awaiter(void 0, void 0, void 0, function () {\n        var cellNode, e_1;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    cellNode = (_b = (_a = props.searchNodeEverywhere(nodeId)) === null || _a === void 0 ? void 0 : _a.node) === null || _b === void 0 ? void 0 : _b.node;\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 5, , 6]);\n                    if (!cellNode) return [3 /*break*/, 3];\n                    return [4 /*yield*/, delegateToPlugin(event, cellNode, handlerName)];\n                case 2:\n                    _c.sent();\n                    _c.label = 3;\n                case 3: \n                // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                return [4 /*yield*/, defaultHandler(event, cellNode)];\n                case 4:\n                    // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                    _c.sent();\n                    return [3 /*break*/, 6];\n                case 5:\n                    e_1 = _c.sent();\n                    if (e_1) {\n                        // tslint:disable-next-line:no-console\n                        console.error(e_1);\n                    }\n                    return [3 /*break*/, 6];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    var handlers = useMemo(function () { return [\n        {\n            hotkeys: ['ctrl+z', 'command+z'],\n            handler: function () {\n                props.undo(props.id);\n            },\n        },\n        {\n            hotkeys: ['ctrl+shift+z', 'ctrl+y', 'command+shift+z', 'command+y'],\n            handler: function () {\n                props.redo(props.id);\n            },\n        },\n        {\n            hotkeys: ['alt+del', 'alt+backspace'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, props.focus, 'handleRemoveHotKey', function () {\n                    return props.removeCell(props.focus);\n                });\n            },\n        },\n        {\n            hotkeys: ['alt+down', 'alt+right'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, props.focus, 'handleFocusNextHotKey', function () {\n                    var found = nextLeaf(props.editable.cellOrder, props.focus);\n                    if (found) {\n                        props.blurAllCells();\n                        props.focusCell(found.id);\n                    }\n                });\n            },\n        },\n        {\n            hotkeys: ['alt+up', 'alt+left'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, props.focus, 'handleFocusPreviousHotKey', function () {\n                    var found = previousLeaf(props.editable.cellOrder, props.focus);\n                    if (found) {\n                        props.blurAllCells();\n                        props.focusCell(found.id);\n                    }\n                });\n            },\n        },\n    ]; }, [props.id, props.focus, props.editable]);\n    useEffect(function () {\n        // in editmode we only allow hotkeys if a cell is focused.\n        // this is because if we have multiple editors on the same page, we don't want to interfer with others\n        // and also to make it more explicit\n        // The BlurGate currently guarantees that only one editor ever has a focused cell, so we already know on which one we can apply hotkeys\n        // If the editor is in another mode, all hot keys are allowed (which is useful for undo/redo, e.g. when resizing)\n        // because the BlurGate also guarantees that only one editor will be in another mode then editMode\n        // This is not totally clean, but it works very well.\n        if (props.isEditMode && !props.focus) {\n            return;\n        }\n        var keyHandler = function (event) {\n            var matchingHandler = handlers.find(function (handler) {\n                return handler.hotkeys.some(function (hotkey) { return isHotkey(hotkey, event); });\n            });\n            matchingHandler === null || matchingHandler === void 0 ? void 0 : matchingHandler.handler(event);\n        };\n        document.addEventListener('keydown', keyHandler);\n        return function () {\n            document.removeEventListener('keydown', keyHandler);\n        };\n    }, [handlers, props.focus, props.isEditMode]);\n    return React.createElement(React.Fragment, null, props.children);\n};\n/** FIXME: we should start using hooks for redux. this would drastically simplify this whole thing */\nvar mapStateToProps = createStructuredSelector({\n    isEditMode: isEditMode,\n    focus: focus,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    node: function (state) { return function (id, _editable) {\n        return node(state, { id: id, editable: _editable });\n    }; },\n    searchNodeEverywhere: function (state) { return function (id) {\n        return searchNodeEverywhere(state, id);\n    }; },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    editable: function (state, props) { return editable(state, { id: props.id }); },\n    editables: editables,\n});\nvar mapDispatchToProps = {\n    undo: undo,\n    redo: redo,\n    removeCell: removeCell,\n    focusCell: function (id) { return focusCell(id)(); },\n    blurAllCells: blurAllCells,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Decorator);\n//# sourceMappingURL=Decorator.js.map","export var focus = function (state) {\n    return state && state.reactPage && state.reactPage.focus;\n};\n//# sourceMappingURL=focus.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useEditor, useInsertCellAtTheEnd } from '../hooks';\nvar FallbackDropArea = function (_a) {\n    var children = _a.children;\n    var insertAtTheEnd = useInsertCellAtTheEnd();\n    var editor = useEditor();\n    var _b = __read(useDrop({\n        accept: editor.plugins.getRegisteredNames(),\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertAtTheEnd(item.node);\n            }\n        },\n    }), 2), dropRef = _b[1];\n    return React.createElement(\"div\", { ref: dropRef }, children);\n};\nexport default FallbackDropArea;\n//# sourceMappingURL=FallbackDropArea.js.map","export default (function (element, offset, behavior) {\n    if (offset === void 0) { offset = 0; }\n    if (behavior === void 0) { behavior = 'smooth'; }\n    if (!element) {\n        return;\n    }\n    var bodyRect = document.body.getBoundingClientRect().top;\n    var elementRect = element.getBoundingClientRect().top;\n    var elementPosition = elementRect - bodyRect;\n    var offsetPosition = elementPosition - offset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: behavior,\n    });\n});\n//# sourceMappingURL=scrollIntoViewWithOffset.js.map","import { NativeTypes } from 'react-dnd-html5-backend';\nexport var isNativeHTMLElementDrag = function (monitor) {\n    switch (monitor.getItemType()) {\n        case NativeTypes.URL:\n        case NativeTypes.FILE:\n        case NativeTypes.TEXT:\n            return true;\n        default:\n            return false;\n    }\n};\nexport var createNativeCellReplacement = function () {\n    var id = 'ory-native-drag';\n    return {\n        id: id,\n        rawNode: function () { return ({ id: id }); },\n        node: { content: { plugin: { isInlineable: false } } },\n    };\n};\n//# sourceMappingURL=index.js.map","// tslint:disable:no-console\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar trace = function () {\n    var e = new Error('dummy');\n    return e.stack\n        .replace(/^[^(]+?[\\n$]/gm, '')\n        .replace(/^\\s+at\\s+/gm, '')\n        .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@')\n        .split('\\n');\n};\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    /**\n     * Logs a warning. Warnings are things that are exceptional, but easily to recover from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.warn.apply(console, __spread(['Warning:'], args));\n    };\n    /**\n     * Logs a debug message. Debug messages are things that help developers debugging things.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Debug:'], args));\n    };\n    /**\n     * Logs an info. Infos are things that might be interesting for someone who needs to take a closer look.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Info:'], args));\n    };\n    /**\n     * Logs an error. Error are things that are exceptional, but can be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spread(['Error:'], args));\n        console.error('Trace:', trace());\n    };\n    /**\n     * Logs a fatal error. Fatal errors are things that are exceptional and can not be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.fatal = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spread(['Fatal:'], args));\n        console.error('Trace:', trace());\n        throw new Error(args.join(' '));\n    };\n    /**\n     * Logs a message.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Fatal:'], args));\n        console.log('Trace:', trace());\n    };\n    return Logger;\n}());\nexport { Logger };\nvar instance = new Logger();\nexport default instance;\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/ban-types */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\nimport deepEqual from 'fast-deep-equal';\nimport logger from '../logger';\n/**\n * NO (None): No drop zone.\n *\n * Corners are counted clockwise, beginning top left\n * C1 (Corner top left): Position decided by top left corner function\n * C2 (Corner top right): Position decided by top right corner function\n * C3 (Corner bottom right): Position decided by bottom right corner function\n * C4 (Corner bottom left): Position decided by bottom left corner function\n *\n * Above:\n * AH (Above here): above, same level\n * AA (Above of self or some ancestor): Above, compute active level using classification functions, e.g. log, sin, mx + t\n *\n * Below:\n * BH (Below here)\n * BA (Below of self or some ancestor)\n *\n * Left of:\n * LH (Left of here)\n * LA (Left of self or some ancestor)\n *\n * Right of:\n * RH (Right of here)\n * RA (Right of self or some ancestor)\n *\n * Inside / inline\n * IL (Inline left)\n * IR (Inline right)\n */\nexport var classes = {\n    NO: 0,\n    C1: 10,\n    C2: 11,\n    C3: 12,\n    C4: 13,\n    AH: 200,\n    AA: 201,\n    BH: 210,\n    BA: 211,\n    LH: 220,\n    LA: 221,\n    RH: 230,\n    RA: 231,\n    IL: 300,\n    IR: 301,\n};\nvar c = classes;\n/**\n * A list of matrices that are used to define the callback function.\n *\n * @type {{6x6: *[], 10x10: *[], 10x10-no-inline: *[]}}\n */\nexport var defaultMatrices = {\n    '6x6': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.AH, c.AH, c.IR, c.RA],\n        [c.LA, c.LH, c.NO, c.NO, c.RH, c.RA],\n        [c.LA, c.LH, c.NO, c.NO, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.IR, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10-no-inline': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.C1, c.AH, c.AH, c.AH, c.AH, c.AH, c.AH, c.C2, c.RA],\n        [c.LA, c.LH, c.C1, c.AH, c.AH, c.AH, c.AH, c.C2, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C1, c.AH, c.AH, c.C2, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n};\n/**\n * Computes the average width and height for cells in a room.\n *\n * @param room\n * @param matrix\n * @returns {{x: number, y: number}}\n */\nexport var getRoomScale = function (_a) {\n    var room = _a.room, matrix = _a.matrix;\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    var scalingX = room.width / cells;\n    var scalingY = room.height / rows;\n    return {\n        x: scalingX,\n        y: scalingY,\n    };\n};\n/**\n * Returns the index of the hover cell.\n *\n * @param mouse\n * @param scale\n */\nexport var getMouseHoverCell = function (_a) {\n    var mouse = _a.mouse, scale = _a.scale;\n    return ({\n        cell: Math.floor(mouse.x / scale.x),\n        row: Math.floor(mouse.y / scale.y),\n    });\n};\n/**\n * Used for caching.\n */\nvar last = { '10x10': null, '10x10-no-inline': null };\nexport var computeHover = function (drag, hover, actions, _a, m\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    var room = _a.room, mouse = _a.mouse, matrix = _a.matrix, callbacks = _a.callbacks;\n    var scale = getRoomScale({ room: room, matrix: matrix });\n    var hoverCell = getMouseHoverCell({ mouse: mouse, scale: scale });\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    if (hoverCell.row >= rows) {\n        hoverCell.row = rows - 1;\n    }\n    else if (hoverCell.row < 0) {\n        hoverCell.row = 0;\n    }\n    if (hoverCell.cell >= cells) {\n        hoverCell.cell = cells - 1;\n    }\n    else if (hoverCell.cell < 0) {\n        hoverCell.cell = 0;\n    }\n    var cell = matrix[hoverCell.row][hoverCell.cell];\n    if (!callbacks[cell]) {\n        logger.error('Matrix callback not found.', {\n            room: room,\n            mouse: mouse,\n            matrix: matrix,\n            scale: scale,\n            hoverCell: hoverCell,\n            rows: rows,\n            cells: cells,\n        });\n        return;\n    }\n    var all = {\n        item: drag.id,\n        hover: hover.id,\n        actions: actions,\n        ctx: {\n            room: room,\n            mouse: mouse,\n            position: hoverCell,\n            size: { rows: rows, cells: cells },\n            scale: scale,\n        },\n    };\n    if (deepEqual(all, last[m])) {\n        return;\n    }\n    last[m] = all;\n    return callbacks[cell](drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        position: hoverCell,\n        size: { rows: rows, cells: cells },\n        scale: scale,\n    });\n};\n/**\n * Return the mouse position relative to the cell.\n */\nexport var relativeMousePosition = function (_a) {\n    var mouse = _a.mouse, position = _a.position, scale = _a.scale;\n    return ({\n        x: Math.round(mouse.x - position.cell * scale.x),\n        y: Math.round(mouse.y - position.row * scale.y),\n    });\n};\n/**\n * Computes the drop level based on the mouse position and the cell width.\n */\nexport var computeLevel = function (_a) {\n    var size = _a.size, levels = _a.levels, position = _a.position;\n    if (size <= (levels + 1) * 2) {\n        return Math.round(position / (size / levels));\n    }\n    var spare = size - (levels + 1) * 2;\n    var steps = [0];\n    var current = spare;\n    for (var i = 0; i <= levels; i++) {\n        steps.push(steps[i] + current / 2);\n        current /= 2;\n        if (position >= steps[i] + i * 2 && position < steps[i + 1] + (i + 1) * 2) {\n            return i;\n        }\n    }\n    return levels;\n};\n/**\n * Computes the horizontal drop level based on the mouse position.\n *\n * @param mouse\n * @param position\n * @param hover\n * @param scale\n * @param level\n * @param inv returns the inverse drop level. Usually true for left and above drop level computation.\n * @returns number\n */\nexport var computeHorizontal = function (_a, inv) {\n    var mouse = _a.mouse, position = _a.position, hover = _a.hover, scale = _a.scale, level = _a.level;\n    if (inv === void 0) { inv = false; }\n    var _b = hover.node.cells, cells = _b === void 0 ? [] : _b;\n    var x = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).x;\n    var at = computeLevel({ size: scale.x, position: x, levels: level });\n    if (cells.length) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.node.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\n/**\n * Computes the vertical drop level based on the mouse position.\n *\n * @returns number\n */\nexport var computeVertical = function (_a, inv) {\n    var level = _a.level, mouse = _a.mouse, hover = _a.hover, position = _a.position, scale = _a.scale;\n    if (inv === void 0) { inv = false; }\n    var _b = hover.node.cells, cells = _b === void 0 ? [] : _b;\n    var y = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).y;\n    var at = computeLevel({ size: scale.y, position: y, levels: level });\n    if (cells.length) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.node.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\nvar getDropLevel = function (hover) { return (hover.node.inline ? 1 : 0); };\n/**\n * A list of callbacks.\n */\nexport var defaultCallbacks = (_a = {},\n    _a[c.NO] = function (item, hover, _a) {\n        var clear = _a.clear;\n        return clear(item.id);\n    },\n    /* corners */\n    _a[c.C1] = function (item, hover, _a, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx) {\n        var leftOf = _a.leftOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item.rawNode(), hover.rawNode(), level);\n        }\n        above(item.rawNode(), hover.rawNode(), level);\n    },\n    _a[c.C2] = function (item, hover, _a, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx) {\n        var rightOf = _a.rightOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item.rawNode(), hover.rawNode(), level);\n        }\n        above(item.rawNode(), hover.rawNode(), level);\n    },\n    _a[c.C3] = function (item, hover, _a, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx) {\n        var rightOf = _a.rightOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item.rawNode(), hover.rawNode(), level);\n        }\n        below(item.rawNode(), hover.rawNode(), level);\n    },\n    _a[c.C4] = function (item, hover, _a, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx) {\n        var leftOf = _a.leftOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item.rawNode(), hover.rawNode(), level);\n        }\n        below(item.rawNode(), hover.rawNode(), level);\n    },\n    /* heres */\n    _a[c.AH] = function (item, hover, _a) {\n        var above = _a.above;\n        var level = getDropLevel(hover);\n        above(item.rawNode(), __assign({}, hover.rawNode()), level);\n    },\n    _a[c.BH] = function (item, hover, _a) {\n        var below = _a.below;\n        var level = getDropLevel(hover);\n        below(item.rawNode(), __assign({}, hover.rawNode()), level);\n    },\n    _a[c.LH] = function (item, hover, _a) {\n        var leftOf = _a.leftOf;\n        var level = getDropLevel(hover);\n        leftOf(item.rawNode(), __assign({}, hover.rawNode()), level);\n    },\n    _a[c.RH] = function (item, hover, _a) {\n        var rightOf = _a.rightOf;\n        var level = getDropLevel(hover);\n        rightOf(item.rawNode(), __assign({}, hover.rawNode()), level);\n    },\n    /* ancestors */\n    _a[c.AA] = function (item, hover, _a, ctx) {\n        var above = _a.above;\n        return above(item.rawNode(), hover.rawNode(), computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.node.levels.above }), true));\n    },\n    _a[c.BA] = function (item, hover, _a, ctx) {\n        var below = _a.below;\n        return below(item.rawNode(), hover.rawNode(), computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.node.levels.below })));\n    },\n    _a[c.LA] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf;\n        return leftOf(item.rawNode(), hover.rawNode(), computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.node.levels.left }), true));\n    },\n    _a[c.RA] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf;\n        return rightOf(item.rawNode(), hover.rawNode(), computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.node.levels.right })));\n    },\n    /* inline */\n    _a[c.IL] = function (item, hover, _a) {\n        var inlineLeft = _a.inlineLeft, leftOf = _a.leftOf;\n        var _b = hover.node, inline = _b.inline, hasInlineNeighbour = _b.hasInlineNeighbour;\n        var _c = item.node.content, _d = (_c === void 0 ? {} : _c).plugin, _e = (_d === void 0 ? {} : _d).isInlineable, isInlineable = _e === void 0 ? false : _e;\n        if (inline || !isInlineable) {\n            return leftOf(item.rawNode(), hover.rawNode(), 2);\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return leftOf(item.rawNode(), hover.rawNode(), 2);\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.node.inline === 'left') {\n            return leftOf(item.rawNode(), hover.rawNode(), 2);\n        }\n        inlineLeft(item.rawNode(), hover.rawNode());\n    },\n    _a[c.IR] = function (item, hover, _a) {\n        var inlineRight = _a.inlineRight, rightOf = _a.rightOf;\n        var _b = hover.node, inline = _b.inline, hasInlineNeighbour = _b.hasInlineNeighbour;\n        var _c = item.node.content, _d = (_c === void 0 ? {} : _c).plugin, _e = (_d === void 0 ? {} : _d).isInlineable, isInlineable = _e === void 0 ? false : _e;\n        if (inline || !isInlineable) {\n            return rightOf(item.rawNode(), hover.rawNode(), 2);\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return rightOf(item.rawNode(), hover.rawNode(), 2);\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.node.inline === 'right') {\n            return rightOf(item.rawNode(), hover.rawNode(), 2);\n        }\n        inlineRight(item.rawNode(), hover.rawNode());\n    },\n    _a);\n/**\n * The HoverService uses callbacks and matrices to compute hover logic.\n *\n * @class HoverService\n */\nvar HoverService = /** @class */ (function () {\n    function HoverService(_a) {\n        var _b = _a === void 0 ? {} : _a, matrices = _b.matrices, callbacks = _b.callbacks;\n        this.callbacks = defaultCallbacks;\n        this.matrices = defaultMatrices;\n        this.matrices = matrices || this.matrices;\n        this.callbacks = callbacks || this.callbacks;\n    }\n    HoverService.prototype.hover = function (drag, hover, actions, _a) {\n        var room = _a.room, mouse = _a.mouse, _b = _a.matrix, use = _b === void 0 ? '10x10' : _b;\n        return computeHover(drag, hover, actions, {\n            room: room,\n            mouse: mouse,\n            matrix: this.matrices[use],\n            callbacks: this.callbacks,\n        }, use);\n    };\n    return HoverService;\n}());\nexport default HoverService;\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { findDOMNode } from 'react-dom';\nimport HoverService from '../hover';\nvar hoverService = new HoverService();\nexport var computeCurrentDropPosition = function (actions, hover, drag, monitor, component, matrixName) {\n    var mousePosition = monitor.getClientOffset();\n    /* eslint-disable react/no-find-dom-node */\n    var componentPosition = findDOMNode(component).getBoundingClientRect();\n    var room = {\n        height: componentPosition.bottom - componentPosition.top,\n        width: componentPosition.right - componentPosition.left,\n    };\n    var mouse = {\n        y: mousePosition.y - componentPosition.top,\n        x: mousePosition.x - componentPosition.left,\n    };\n    hoverService.hover(drag, hover, actions, { room: room, mouse: mouse, matrix: matrixName });\n};\nexport var computeAndDispatchInsert = function (_a, drag, monitor, component, matrixName) {\n    if (matrixName === void 0) { matrixName = '10x10'; }\n    var above = _a.insertCellAbove, below = _a.insertCellBelow, leftOf = _a.insertCellLeftOf, rightOf = _a.insertCellRightOf, inlineLeft = _a.insertCellLeftInline, inlineRight = _a.insertCellRightInline, clear = _a.clearHover, hover = __rest(_a, [\"insertCellAbove\", \"insertCellBelow\", \"insertCellLeftOf\", \"insertCellRightOf\", \"insertCellLeftInline\", \"insertCellRightInline\", \"clearHover\"]);\n    return computeCurrentDropPosition({\n        clear: clear,\n        above: above,\n        below: below,\n        leftOf: leftOf,\n        rightOf: rightOf,\n        inlineLeft: inlineLeft,\n        inlineRight: inlineRight,\n    }, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    hover, drag, monitor, component, matrixName);\n};\nexport var computeAndDispatchHover = function (_a, drag, monitor, component, matrixName) {\n    if (matrixName === void 0) { matrixName = '10x10'; }\n    var above = _a.cellHoverAbove, below = _a.cellHoverBelow, leftOf = _a.cellHoverLeftOf, rightOf = _a.cellHoverRightOf, inlineLeft = _a.cellHoverInlineLeft, inlineRight = _a.cellHoverInlineRight, clear = _a.clearHover, hover = __rest(_a, [\"cellHoverAbove\", \"cellHoverBelow\", \"cellHoverLeftOf\", \"cellHoverRightOf\", \"cellHoverInlineLeft\", \"cellHoverInlineRight\", \"clearHover\"]);\n    return computeCurrentDropPosition({\n        clear: clear,\n        above: above,\n        below: below,\n        leftOf: leftOf,\n        rightOf: rightOf,\n        inlineLeft: inlineLeft,\n        inlineRight: inlineRight,\n    }, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    hover, drag, monitor, component, matrixName);\n};\n//# sourceMappingURL=input.js.map","import throttle from 'lodash.throttle';\nimport { createNativeCellReplacement, isNativeHTMLElementDrag, } from '../../../../helper/nativeDragHelpers';\nimport { delay } from '../../../../helper/throttle';\nimport { computeAndDispatchHover, computeAndDispatchInsert, } from '../../../../service/hover/input';\nimport logger from '../../../../service/logger';\nvar last = { hover: '', drag: '' };\nvar clear = function (hover, drag) {\n    if (hover.id === last.hover && drag === last.drag) {\n        return;\n    }\n    last = { hover: hover.id, drag: drag };\n    hover.clearHover();\n};\nexport var target = {\n    hover: throttle(function (hover, monitor, component) {\n        var _a, _b, _c, _d;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var drag = monitor.getItem();\n        if (!drag) {\n            // item undefined, happens when throttle triggers after drop\n            return;\n        }\n        if (isNativeHTMLElementDrag(monitor)) {\n            drag = createNativeCellReplacement();\n        }\n        if (drag.id === hover.id) {\n            // If hovering over itself, do nothing\n            clear(hover, drag.id);\n            return;\n        }\n        else if (!monitor.isOver({ shallow: true })) {\n            // If hovering over ancestor cell, do nothing (we are going to propagate later in the tree anyways)\n            return;\n        }\n        else if (hover.ancestors.indexOf(drag.id) > -1) {\n            // If hovering over a child of itself\n            clear(hover, drag.id);\n            return;\n        }\n        else if (!hover.id) {\n            // If hovering over something that isn't a cell or hasn't an id, do nothing. Should be an edge case\n            logger.warn('Canceled cell drop, no id given.', hover, drag);\n            return;\n        }\n        last = { hover: hover.id, drag: drag.id };\n        var allowInlineNeighbours = (_d = (_c = (_b = (_a = hover === null || hover === void 0 ? void 0 : hover.node) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b.plugin) === null || _c === void 0 ? void 0 : _c.allowInlineNeighbours) !== null && _d !== void 0 ? _d : false;\n        computeAndDispatchHover(hover, drag, monitor, component, \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline'));\n    }, delay, { leading: false }),\n    canDrop: function (_a, monitor) {\n        var id = _a.id, ancestors = _a.ancestors;\n        var item = monitor.getItem();\n        return item.id !== id && ancestors.indexOf(item.id) === -1;\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    drop: function (hover, monitor, component) {\n        var _a, _b, _c, _d;\n        var drag = monitor.getItem();\n        if (isNativeHTMLElementDrag(monitor)) {\n            var plugins = component.props.config.plugins;\n            drag = plugins.createNativePlugin(hover, monitor, component);\n        }\n        if (monitor.didDrop() || !monitor.isOver({ shallow: true })) {\n            // If the item drop occurred deeper down the tree, don't do anything\n            return;\n        }\n        else if (drag.id === hover.id) {\n            // If the item being dropped on itself do nothing\n            hover.cancelCellDrag();\n            return;\n        }\n        else if (hover.ancestors.indexOf(drag.id) > -1) {\n            // If hovering over a child of itself, don't propagate further\n            hover.cancelCellDrag();\n            return;\n        }\n        last = { hover: hover.id, drag: drag.id };\n        var allowInlineNeighbours = (_d = (_c = (_b = (_a = hover === null || hover === void 0 ? void 0 : hover.node) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b.plugin) === null || _c === void 0 ? void 0 : _c.allowInlineNeighbours) !== null && _d !== void 0 ? _d : false;\n        computeAndDispatchInsert(hover, drag, monitor, component, \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline'));\n    },\n};\nexport var connect = function (connectInner, monitor) { return ({\n    connectDropTarget: connectInner.dropTarget(),\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n}); };\n//# sourceMappingURL=dnd.js.map","import { isProduction } from '../../const';\nexport var delay = isProduction ? 40 : 60;\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { DropTarget as dropTarget } from 'react-dnd';\nimport { dragActions } from '../../../actions/cell/drag';\nimport { insertActions } from '../../../actions/cell/insert';\nimport { connect } from '../../../reduxConnect';\nimport { connect as monitorConnect, target } from './helper/dnd';\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Droppable.prototype.render = function () {\n        var _a;\n        var _b = this.props, connectDropTarget = _b.connectDropTarget, isLayoutMode = _b.isLayoutMode, isInsertMode = _b.isInsertMode, className = _b.className, isLeaf = _b.isLeaf, hover = _b.node.hover, children = _b.children, allowMoveInEditMode = _b.allowMoveInEditMode;\n        if (!(isLayoutMode || isInsertMode) && !allowMoveInEditMode) {\n            return (React.createElement(\"div\", { className: classNames(className, 'ory-cell-droppable-container') }, children));\n        }\n        return connectDropTarget(React.createElement(\"div\", { className: classNames(className, 'ory-cell-droppable', (_a = {\n                    'ory-cell-droppable-is-over-current': hover\n                },\n                _a[\"ory-cell-droppable-is-over-\" + hover] = hover,\n                _a['ory-cell-droppable-leaf'] = isLeaf,\n                _a)) }, children));\n    };\n    return Droppable;\n}(React.PureComponent));\nvar mapDispatchToProps = __assign(__assign({}, dragActions), insertActions);\nexport default connect(null, mapDispatchToProps)(dropTarget(function (_a) {\n    var dropTypes = _a.dropTypes;\n    return dropTypes;\n}, target, monitorConnect)(Droppable));\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var source = {\n    beginDrag: function (props) {\n        // Begin dragging the cell\n        props.dragCell(props.id);\n        return __assign(__assign({}, props), { \n            // we do not want to pass down the react children or we will risk circular dependencies.\n            children: null, node: __assign(__assign({}, props.node), { rows: props.rawNode().rows }) });\n    },\n    endDrag: function (_a, monitor) {\n        var cancelCellDrag = _a.cancelCellDrag, id = _a.id;\n        if (monitor.didDrop()) {\n            // If the item drop occurred deeper down the tree, don't do anything\n            return;\n        }\n        // If drag ended but drop did not occur, cancel dragging\n        cancelCellDrag();\n    },\n};\nexport var collect = function (connect, monitor) { return ({\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n    connectDragPreview: connect.dragPreview(),\n}); };\n//# sourceMappingURL=dnd.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { DragSource as dragSource } from 'react-dnd';\nimport { dragActions } from '../../../actions/cell/drag';\nimport { insertActions } from '../../../actions/cell/insert';\nimport { connect } from '../../../reduxConnect';\nimport { collect, source } from './helper/dnd';\nvar icon = \n// tslint:disable-next-line:max-line-length\n'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=';\nvar defaultSmallHandle = (React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-handle\" },\n    React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-handle-icon\" })));\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.preventBlurWhenClickingOnHandle = _this.preventBlurWhenClickingOnHandle.bind(_this);\n        return _this;\n    }\n    Draggable.prototype.componentDidMount = function () {\n        var _this = this;\n        var img = new Image();\n        img.onload = function () { return _this.props.connectDragPreview(img); };\n        img.src = icon;\n    };\n    Draggable.prototype.render = function () {\n        var _a;\n        var _b = this.props, isLeaf = _b.isLeaf, connectDragSource = _b.connectDragSource, isDragging = _b.isDragging, isLayoutMode = _b.isLayoutMode, _c = _b.node, inline = _c.inline, focused = _c.focused, children = _b.children, name = _b.name, allowMoveInEditMode = _b.allowMoveInEditMode;\n        if (!isLayoutMode && !this.props.allowMoveInEditMode) {\n            return (React.createElement(\"div\", { className: \"ory-cell-draggable-container\" },\n                React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-placeholder\" }),\n                children));\n        }\n        if (this.props.allowMoveInEditMode && !this.props.isLayoutMode) {\n            var handle = focused\n                ? connectDragSource(this.props.editModeResizeHandle || defaultSmallHandle)\n                : null;\n            return (React.createElement(\"div\", { className: classNames({\n                    'ory-cell-draggable-in-edit': allowMoveInEditMode,\n                    'ory-cell-draggable': isLayoutMode && !allowMoveInEditMode,\n                    'ory-cell-draggable-is-dragging': isDragging,\n                }), onMouseDown: this.preventBlurWhenClickingOnHandle },\n                handle,\n                React.createElement(\"div\", null, children)));\n        }\n        return connectDragSource(React.createElement(\"div\", { className: classNames({\n                'ory-cell-draggable': isLayoutMode,\n                'ory-cell-draggable-is-dragging': isDragging,\n            }) },\n            React.createElement(\"div\", { className: classNames((_a = {\n                        'ory-cell-draggable-overlay': isLayoutMode\n                    },\n                    _a[\"ory-cell-draggable-inline-\" + inline] = inline,\n                    _a['ory-cell-draggable-leaf'] = isLeaf,\n                    _a)) },\n                React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-description\" },\n                    React.createElement(\"span\", null, name))),\n            React.createElement(\"div\", null, children)));\n    };\n    Draggable.prototype.preventBlurWhenClickingOnHandle = function (e) {\n        e.stopPropagation();\n    };\n    return Draggable;\n}(React.PureComponent));\nvar mapDispatchToProps = __assign(__assign({}, dragActions), insertActions);\nexport default connect(null, mapDispatchToProps)(dragSource(function (_a) {\n    var dragType = _a.dragType;\n    return dragType;\n}, source, collect)(Draggable));\n//# sourceMappingURL=index.js.map","import throttle from 'lodash.throttle';\nimport { createNativeCellReplacement, isNativeHTMLElementDrag, } from '../../../helper/nativeDragHelpers';\nimport { delay } from '../../../helper/throttle';\nimport { computeAndDispatchHover, computeAndDispatchInsert, } from '../../../service/hover/input';\nimport logger from '../../../service/logger';\nvar last = {\n    hover: '',\n    drag: '',\n};\nvar clear = function (hover, drag) {\n    if (hover.id === last.hover && drag === last.drag) {\n        return;\n    }\n    last = { hover: hover.id, drag: drag };\n    hover.clearHover(drag);\n};\nexport var target = {\n    hover: throttle(function (hover, monitor, component) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var drag = monitor.getItem();\n        if (!drag) {\n            // item undefined, happens when throttle triggers after drop\n            return;\n        }\n        if (isNativeHTMLElementDrag(monitor)) {\n            drag = createNativeCellReplacement();\n        }\n        if (!drag) {\n            return;\n        }\n        else if (drag.id === hover.id) {\n            clear(hover, drag.id);\n            return;\n        }\n        else if (!monitor.isOver({ shallow: true })) {\n            return;\n        }\n        else if (hover.ancestors.indexOf(drag.id) > -1) {\n            // If hovering over a child of itself\n            clear(hover, drag.id);\n            return;\n        }\n        else if (!hover.id) {\n            // If hovering over something that isn't a cell or hasn't an id, do nothing. Should be an edge case\n            logger.warn('Canceled cell.drop.target.hover: no id given.', hover, drag);\n            return;\n        }\n        computeAndDispatchHover(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        hover, drag, monitor, component, '10x10-no-inline');\n    }, delay, { leading: false }),\n    canDrop: function (_a, monitor) {\n        var id = _a.id, ancestors = _a.ancestors;\n        var item = monitor.getItem();\n        return item.id !== id || ancestors.indexOf(item.id) === -1;\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    drop: function (hover, monitor, component) {\n        var drag = monitor.getItem();\n        if (isNativeHTMLElementDrag(monitor)) {\n            var plugins = component.props.config.plugins;\n            drag = plugins.createNativePlugin(hover, monitor, component);\n        }\n        if (monitor.didDrop() || !monitor.isOver({ shallow: true })) {\n            // If the item drop occurred deeper down the tree, don't do anything\n            return;\n        }\n        else if (hover.ancestors.indexOf(drag.id) > -1) {\n            // If hovering over a child of itself\n            hover.cancelCellDrag(drag.id);\n            return;\n        }\n        else if (drag.id === hover.id) {\n            hover.cancelCellDrag(drag.id);\n            return;\n        }\n        computeAndDispatchInsert(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        hover, drag, monitor, component, '10x10-no-inline');\n    },\n};\nexport var connect = function (_connect, monitor) { return ({\n    connectDropTarget: _connect.dropTarget(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n}); };\n//# sourceMappingURL=dnd.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { DropTarget as dropTarget } from 'react-dnd';\nimport { dragActions } from '../../../actions/cell/drag';\nimport { insertActions } from '../../../actions/cell/insert';\nimport { connect } from '../../../reduxConnect';\nimport { connect as monitorConnect, target } from './dnd';\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Droppable.prototype.render = function () {\n        if (!(this.props.isLayoutMode || this.props.isInsertMode)) {\n            return (React.createElement(\"div\", { className: \"ory-row-droppable-container\" }, this.props.children));\n        }\n        return this.props.connectDropTarget(React.createElement(\"div\", { className: \"ory-row-droppable\" }, this.props.children));\n    };\n    return Droppable;\n}(React.Component));\nexport { Droppable };\nvar mapDispatchToProps = __assign(__assign({}, dragActions), insertActions);\nexport default (function (dropTypes) {\n    if (dropTypes === void 0) { dropTypes = ['CELL']; }\n    return connect(null, mapDispatchToProps)(dropTarget(dropTypes, target, monitorConnect)(Droppable));\n});\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Cell from '../Cell';\nvar rowHasInlineChildren = function (_a) {\n    var cells = _a.cells;\n    return Boolean(cells.length === 2 && Boolean(cells[0].inline));\n};\nvar Inner = function (_a) {\n    var _b;\n    var editable = _a.editable, ancestors = _a.ancestors, _c = _a.node, id = _c.id, hover = _c.hover, _d = _c.cells, cells = _d === void 0 ? [] : _d, containerHeight = _a.containerHeight, blurAllCells = _a.blurAllCells, containerWidth = _a.containerWidth, allowMoveInEditMode = _a.allowMoveInEditMode, allowResizeInEditMode = _a.allowResizeInEditMode, editModeResizeHandle = _a.editModeResizeHandle, rawNode = _a.rawNode;\n    return (React.createElement(\"div\", { className: classNames('ory-row', (_b = {\n                'ory-row-is-hovering-this': Boolean(hover)\n            },\n            _b[\"ory-row-is-hovering-\" + (hover || '')] = Boolean(hover),\n            _b['ory-row-has-floating-children'] = rowHasInlineChildren(rawNode()),\n            _b)), onClick: blurAllCells }, cells.map(function (c) { return (React.createElement(Cell, { rowWidth: containerWidth, rowHeight: containerHeight, ancestors: __spread(ancestors, [id]), editable: editable, key: c, id: c, allowMoveInEditMode: allowMoveInEditMode, allowResizeInEditMode: allowResizeInEditMode, editModeResizeHandle: editModeResizeHandle })); })));\n};\nexport default Inner;\n//# sourceMappingURL=inner.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { connect } from '../../reduxConnect';\nimport { createStructuredSelector } from 'reselect';\nimport droppable from './Droppable';\nimport Inner from './inner';\nimport dimensions from '../Dimensions';\nimport { isLayoutMode, isEditMode, isResizeMode, isInsertMode, } from '../../selector/display';\nimport { editableConfig, purifiedNode, node } from '../../selector/editable';\nimport { blurAllCells } from '../../actions/cell';\nvar Row = /** @class */ (function (_super) {\n    __extends(Row, _super);\n    function Row(props) {\n        var _this = _super.call(this, props) || this;\n        var whitelist = props.config.whitelist;\n        _this.Droppable = droppable(whitelist);\n        return _this;\n    }\n    Row.prototype.render = function () {\n        var Droppable = this.Droppable;\n        var props = this.props;\n        return (React.createElement(Droppable, __assign({}, props),\n            React.createElement(Inner, __assign({}, props))));\n    };\n    return Row;\n}(React.PureComponent));\nvar mapStateToProps = createStructuredSelector({\n    isLayoutMode: isLayoutMode,\n    config: editableConfig,\n    isResizeMode: isResizeMode,\n    isInsertMode: isInsertMode,\n    isEditMode: isEditMode,\n    node: purifiedNode,\n    rawNode: function (state, props) { return function () {\n        return node(state, props);\n    }; },\n});\nvar mapDispatchToProps = {\n    blurAllCells: blurAllCells,\n};\nexport default dimensions()(connect(mapStateToProps, mapDispatchToProps)(Row));\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport * as React from 'react';\nimport Row from '../../../components/Row';\nvar Rows = /** @class */ (function (_super) {\n    __extends(Rows, _super);\n    function Rows() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rows.prototype.render = function () {\n        var _a = this.props, _b = _a.node.rows, rows = _b === void 0 ? [] : _b, editable = _a.editable, id = _a.id, _c = _a.ancestors, ancestors = _c === void 0 ? [] : _c, rest = __rest(_a, [\"node\", \"editable\", \"id\", \"ancestors\"]);\n        return (React.createElement(\"div\", { className: \"ory-cell-inner ory-cell-rows\" }, rows.map(function (r) { return (React.createElement(Row, __assign({ editable: editable, ancestors: __spread(ancestors, [id]), id: r, key: r }, rest))); })));\n    };\n    return Rows;\n}(React.PureComponent));\nexport default Rows;\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { createStructuredSelector } from 'reselect';\nimport { updateCellContent, } from '../../../actions/cell';\nimport { connect } from '../../../reduxConnect';\nimport { isEditMode, isInsertMode, isLayoutMode, isPreviewMode, isResizeMode, } from '../../../selector/display';\nimport scrollIntoViewWithOffset from '../utils/scrollIntoViewWithOffset';\nexport var getI18nState = function (_a) {\n    var stateI18n = _a.stateI18n, state = _a.state, lang = _a.lang;\n    var _b, _c;\n    if (!stateI18n || !lang) {\n        return state;\n    }\n    return ((_c = (_b = stateI18n === null || stateI18n === void 0 ? void 0 : stateI18n[lang]) !== null && _b !== void 0 ? _b : \n    // find first non-empty\n    stateI18n === null || \n    // find first non-empty\n    stateI18n === void 0 ? void 0 : \n    // find first non-empty\n    stateI18n[Object.keys(stateI18n).find(function (l) { return stateI18n[l]; })]) !== null && _c !== void 0 ? _c : state);\n};\n// TODO clean me up #157\nvar Content = /** @class */ (function (_super) {\n    __extends(Content, _super);\n    function Content() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onRef = function (ref) {\n            _this.ref = ref;\n        };\n        _this.onChange = function (state) {\n            _this.props.updateCellContent(state, _this.props.lang);\n        };\n        _this.remove = function () {\n            _this.props.removeCell();\n        };\n        _this.focus = function (args) {\n            _this.props.focusCell(args);\n        };\n        return _this;\n    }\n    Content.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n        var _a = this.props.node, was = _a.focused, scrollToCellWas = _a.scrollToCell;\n        var lang = nextProps.lang, _b = nextProps.node, is = _b.focused, scrollToCellIs = _b.scrollToCell, focusSource = _b.focusSource;\n        var editable = nextProps.editable, id = nextProps.id, _c = nextProps.node, _d = _c.content, _e = _d === void 0 ? {} : _d, _f = _e.plugin, _g = _f === void 0 ? {} : _f, _h = _g.handleFocus, handleFocus = _h === void 0 ? function () { return null; } : _h, _j = _g.handleBlur, handleBlur = _j === void 0 ? function () { return null; } : _j, _k = _g.name, name = _k === void 0 ? 'N/A' : _k, _l = _g.version, version = _l === void 0 ? 'N/A' : _l, _m = _e.state, state = _m === void 0 ? {} : _m, _o = _e.stateI18n, stateI18n = _o === void 0 ? {} : _o, focused = _c.focused;\n        // FIXME this is really shitty because it will break when the state changes before the blur comes through, see #157\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var pass = {\n            editable: editable,\n            id: id,\n            state: getI18nState({ lang: lang, state: state, stateI18n: stateI18n }),\n            focused: this.props.isEditMode && focused,\n            readOnly: !isEditMode,\n            onChange: this.onChange,\n            name: name,\n            lang: lang,\n            version: version,\n            isEditMode: nextProps.isEditMode,\n            isResizeMode: nextProps.isResizeMode,\n            isPreviewMode: nextProps.isPreviewMode,\n            isInsertMode: nextProps.isInsertMode,\n            isLayoutMode: nextProps.isLayoutMode,\n            remove: nextProps.removeCell,\n        };\n        // Basically we check if the focus state changed and if yes, we execute the callback handler from the plugin, that\n        // can set some side effects.\n        if (!scrollToCellWas && scrollToCellIs) {\n            if (this.ref) {\n                scrollIntoViewWithOffset(this.ref, 100);\n            }\n        }\n        if (!was && is) {\n            // We need this because otherwise we lose hotkey focus on elements like spoilers.\n            // This could probably be solved in an easier way by listening to window.document?\n            handleFocus(pass, focusSource, this.ref);\n        }\n        else if (was && !is) {\n            handleBlur(pass);\n        }\n    };\n    Content.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, lang = _a.lang, editable = _a.editable, id = _a.id, _b = _a.node, _c = _b.content, _d = _c === void 0 ? {} : _c, _e = _d.plugin, _f = _e === void 0 ? {} : _e, _g = _f.Component, Component = _g === void 0 ? function () { return null; } : _g, _h = _f.name, name = _h === void 0 ? 'N/A' : _h, _j = _f.version, version = _j === void 0 ? 'N/A' : _j, _k = _f.text, text = _k === void 0 ? 'unnamed plugin' : _k, _l = _d.state, state = _l === void 0 ? {} : _l, _m = _d.stateI18n, stateI18n = _m === void 0 ? null : _m, focused = _b.focused;\n        var blurCell = this.props.blurCell;\n        var focusProps;\n        if (!this.props.isPreviewMode) {\n            focusProps = {\n                onMouseDown: function () {\n                    if (!focused) {\n                        _this.focus({ source: 'onMouseDown' });\n                    }\n                    return true;\n                },\n            };\n        }\n        // has in translation? if not, fall back to first nonEmpty or fallback to non i18n\n        return (React.createElement(\"div\", __assign({}, focusProps, { tabIndex: \"-1\", style: { outline: 'none' }, ref: this.onRef, className: \"ory-cell-inner ory-cell-leaf\" }),\n            React.createElement(Component, { editable: editable, id: id, lang: lang, state: getI18nState({ lang: lang, state: state, stateI18n: stateI18n }), focused: Boolean(this.props.isEditMode && focused), name: name, text: text, version: version, readOnly: !this.props.isEditMode, onChange: this.onChange, focus: this.focus, blur: blurCell, isInsertMode: this.props.isInsertMode, isResizeMode: this.props.isResizeMode, isPreviewMode: this.props.isPreviewMode, isEditMode: this.props.isEditMode, isLayoutMode: this.props.isLayoutMode, remove: this.remove })));\n    };\n    return Content;\n}(React.PureComponent));\nvar mapStateToProps = createStructuredSelector({\n    isEditMode: isEditMode,\n    isLayoutMode: isLayoutMode,\n    isPreviewMode: isPreviewMode,\n    isInsertMode: isInsertMode,\n    isResizeMode: isResizeMode,\n});\nvar mapDispatchToProps = function (dispatch, _a) {\n    var id = _a.id;\n    return bindActionCreators({\n        updateCellContent: updateCellContent(id),\n    }, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    dispatch);\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Content);\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { bindActionCreators } from 'redux';\nimport { createStructuredSelector } from 'reselect';\nimport { updateCellLayout, } from '../../../actions/cell';\nimport { connect } from '../../../reduxConnect';\nimport { isEditMode, isPreviewMode } from '../../../selector/display';\nimport Row from '../../Row';\nimport scrollIntoViewWithOffset from '../utils/scrollIntoViewWithOffset';\nimport { Selectors } from '../../../selector';\nimport { getI18nState } from '../Content';\n// TODO clean me up #157\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onRef = function (ref) {\n            _this.ref = ref;\n        };\n        _this.onChange = function (state) {\n            _this.props.updateCellLayout(state, _this.props.lang);\n        };\n        return _this;\n    }\n    Layout.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n        var _a = this.props.node, was = _a.focused, scrollToCellWas = _a.scrollToCell;\n        var _b = nextProps.node, is = _b.focused, scrollToCellIs = _b.scrollToCell, focusSource = _b.focusSource;\n        var lang = nextProps.lang, editable = nextProps.editable, id = nextProps.id, _c = nextProps.node, _d = _c.layout, _e = _d === void 0 ? {} : _d, _f = _e.plugin, _g = _f === void 0 ? {} : _f, _h = _g.handleFocus, handleFocus = _h === void 0 ? function () { return null; } : _h, _j = _g.handleBlur, handleBlur = _j === void 0 ? function () { return null; } : _j, _k = _g.name, name = _k === void 0 ? 'N/A' : _k, _l = _g.version, version = _l === void 0 ? 'N/A' : _l, _m = _e.state, state = _m === void 0 ? {} : _m, _o = _e.stateI18n, stateI18n = _o === void 0 ? null : _o, focused = _c.focused;\n        // FIXME this is really shitty because it will break when the state changes before the blur comes through, see #157\n        var pass = {\n            editable: editable,\n            id: id,\n            lang: lang,\n            state: getI18nState({ lang: lang, state: state, stateI18n: stateI18n }),\n            focused: Boolean(this.props.isEditMode && focused),\n            readOnly: !this.props.isEditMode,\n            onChange: this.onChange,\n            name: name,\n            version: version,\n            remove: this.props.removeCell,\n        };\n        // Basically we check if the focus state changed and if yes, we execute the callback handler from the plugin, that\n        // can set some side effects.\n        if (!scrollToCellWas && scrollToCellIs) {\n            if (this.ref) {\n                scrollIntoViewWithOffset(this.ref, 100);\n            }\n        }\n        if (!was && is) {\n            // We need this because otherwise we lose hotkey focus on elements like spoilers.\n            // This could probably be solved in an easier way by listening to window.document?\n            handleFocus(pass, focusSource, this.ref);\n        }\n        else if (was && !is) {\n            handleBlur(pass);\n        }\n    };\n    Layout.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, id = _a.id, lang = _a.lang, _b = _a.node, _c = _b.rows, rows = _c === void 0 ? [] : _c, layout = _b.layout, focused = _b.focused, editable = _a.editable, _d = _a.ancestors, ancestors = _d === void 0 ? [] : _d, allowMoveInEditMode = _a.allowMoveInEditMode, allowResizeInEditMode = _a.allowResizeInEditMode, editModeResizeHandle = _a.editModeResizeHandle;\n        var plugin = layout.plugin, state = layout.state, stateI18n = layout.stateI18n;\n        var Component = plugin.Component, version = plugin.version, name = plugin.name, text = plugin.text;\n        var _e = this.props, focusCell = _e.focusCell, blurCell = _e.blurCell, removeCell = _e.removeCell;\n        var focusProps;\n        if (!this.props.isPreviewMode) {\n            focusProps = {\n                // FIXME this should be MouseEvent\n                onMouseDown: function (e) {\n                    if (!focused &&\n                        e.target.closest('.ory-cell-inner') ===\n                            // eslint-disable-next-line react/no-find-dom-node\n                            findDOMNode(_this.ref)) {\n                        focusCell({ source: 'onMouseDown' });\n                    }\n                    return true;\n                },\n            };\n        }\n        return (React.createElement(\"div\", __assign({}, focusProps, { tabIndex: \"-1\", className: \"ory-cell-inner\", ref: this.onRef }),\n            React.createElement(Component, { id: id, lang: lang, state: getI18nState({ lang: lang, state: state, stateI18n: stateI18n }), focus: focusCell, blur: blurCell, editable: editable, focused: this.props.isEditMode && focused, name: name, text: text, version: version, readOnly: !this.props.isEditMode, onChange: this.onChange, remove: removeCell }, rows.map(function (r) { return (React.createElement(Row, { editable: editable, ancestors: __spread(ancestors, [id]), key: r, id: r, allowMoveInEditMode: allowMoveInEditMode, allowResizeInEditMode: allowResizeInEditMode, editModeResizeHandle: editModeResizeHandle })); }))));\n    };\n    return Layout;\n}(React.PureComponent));\nvar mapStateToProps = createStructuredSelector({\n    isEditMode: isEditMode,\n    isPreviewMode: isPreviewMode,\n    lang: Selectors.Setting.getLang,\n});\nvar mapDispatchToProps = function (dispatch, _a) {\n    var id = _a.id;\n    return bindActionCreators({\n        updateCellLayout: updateCellLayout(id),\n    }, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    dispatch);\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nvar ErrorCell = function (_a) {\n    var _b = _a.id, id = _b === void 0 ? 'no id given' : _b, error = _a.error, props = __rest(_a, [\"id\", \"error\"]);\n    return (React.createElement(\"div\", { className: \"ory-cell-error\" },\n        React.createElement(\"strong\", null, \"An error occurred!\"),\n        React.createElement(\"small\", null,\n            React.createElement(\"dl\", null,\n                React.createElement(\"dt\", null, \"Cause:\"),\n                React.createElement(\"dd\", null, error.message),\n                React.createElement(\"dt\", null, \"Cell:\"),\n                React.createElement(\"dd\", null, id))),\n        props.isEditMode ? (React.createElement(\"button\", { onClick: function () { return props.removeCell(); } }, \"Remove\")) : null));\n};\nexport default ErrorCell;\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport Droppable from '../Droppable';\nimport Draggable from '../Draggable';\nimport Rows from '../Rows';\nimport Layout from '../Layout';\nimport Content from '../Content';\nimport ErrorCell from '../ErrorCell';\nvar Inner = /** @class */ (function (_super) {\n    __extends(Inner, _super);\n    function Inner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            error: null,\n        };\n        return _this;\n    }\n    Inner.prototype.componentDidCatch = function (error) {\n        this.setState({ error: error });\n    };\n    Inner.prototype.render = function () {\n        if (this.state.error) {\n            return React.createElement(ErrorCell, __assign({}, this.props, { error: this.state.error }));\n        }\n        var _a = this.props, _b = _a.node, _c = _b.rows, rows = _c === void 0 ? [] : _c, _d = _b.layout, _e = (_d === void 0 ? {} : _d).plugin, _f = _e === void 0 ? {} : _e, _g = _f.Component, LayoutComponent = _g === void 0 ? undefined : _g, _h = _f.name, layoutType = _h === void 0 ? undefined : _h, _j = _f.text, layoutTitle = _j === void 0 ? undefined : _j, _k = _b.content, _l = (_k === void 0 ? {} : _k).plugin, _m = _l === void 0 ? {} : _l, _o = _m.Component, ContentComponent = _o === void 0 ? undefined : _o, _p = _m.name, contentType = _p === void 0 ? undefined : _p, _q = _m.text, contentTitle = _q === void 0 ? undefined : _q, _r = _a.config.whitelist, whitelist = _r === void 0 ? [] : _r;\n        if (rows.length && LayoutComponent) {\n            return (React.createElement(Droppable, __assign({}, this.props, { dropTypes: whitelist }),\n                React.createElement(Draggable, __assign({}, this.props, { dragType: layoutType, name: layoutTitle || layoutType }),\n                    React.createElement(Layout, __assign({}, this.props)))));\n        }\n        else if (rows.length) {\n            return (React.createElement(Droppable, __assign({}, this.props, { dropTypes: whitelist }),\n                React.createElement(Rows, __assign({}, this.props))));\n        }\n        else if (ContentComponent) {\n            return (React.createElement(Droppable, __assign({}, this.props, { isLeaf: true, dropTypes: whitelist }),\n                React.createElement(Draggable, __assign({}, this.props, { isLeaf: true, dragType: contentType, name: contentTitle || contentType }),\n                    React.createElement(Content, __assign({}, this.props)))));\n        }\n        return (React.createElement(ErrorCell, __assign({}, this.props, { error: new Error('The content plugin could not be found.') })));\n    };\n    return Inner;\n}(React.PureComponent));\nexport default Inner;\n//# sourceMappingURL=index.js.map","export var computeStepWidth = function (_a) {\n    var rowWidth = _a.rowWidth, steps = _a.steps;\n    return Math.round(rowWidth / (steps || 12));\n};\nexport var widthToSize = function (_a, _b, result) {\n    var stepWidth = _a.stepWidth, steps = _a.steps;\n    var inline = _b.node.inline;\n    var size = Math.round(result.width / stepWidth);\n    if (inline === 'right') {\n        size = steps - size;\n    }\n    if (size > steps) {\n        size = steps;\n    }\n    else if (size < 1) {\n        size = 1;\n    }\n    return size;\n};\n//# sourceMappingURL=helper.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport classNames from 'classnames';\nimport throttle from 'lodash/throttle';\nimport * as React from 'react';\nimport { Resizable as ReactResizeable } from 'react-resizable';\nimport { createStructuredSelector } from 'reselect';\nimport { editMode, resizeMode } from '../../../actions/display';\nimport { connect } from '../../../reduxConnect';\nimport { computeStepWidth, widthToSize } from './helper';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.onChangeSize = function (size) {\n            if (isNaN(size.width)) {\n                return;\n            }\n            var newSize = widthToSize(_this.state, _this.props, size);\n            _this.props.onChange(newSize);\n        };\n        _this.onResize = function (event, _a) {\n            var size = _a.size;\n            if (isNaN(size.width)) {\n                return;\n            }\n            _this.setState({ width: size.width });\n            _this.onChangeSizeThrottled(size);\n        };\n        _this.onResizeStop = function (event, _a) {\n            var size = _a.size;\n            if (isNaN(size.width)) {\n                return;\n            }\n            _this.onChangeSize(size);\n            var newSize = widthToSize(_this.state, _this.props, size);\n            _this.setState({ width: newSize * _this.state.stepWidth });\n        };\n        var sw = computeStepWidth(props);\n        _this.onChangeSizeThrottled = throttle(_this.onChangeSize, 100);\n        _this.state = {\n            stepWidth: sw,\n            width: props.node.size * sw,\n            steps: props.steps - 1 || 11,\n        };\n        return _this;\n    }\n    Resizable.prototype.render = function () {\n        var _a;\n        var _b = this.props, _c = _b.node, bounds = _c.bounds, inline = _c.inline, children = _b.children;\n        return (React.createElement(ReactResizeable, { className: classNames('ory-cell-inner', 'ory-cell-resizable', (_a = {},\n                _a[\"ory-cell-resizable-inline-\" + (inline || '')] = inline,\n                _a)), onResize: this.onResize, onResizeStop: this.onResizeStop, minConstraints: inline ? null : [this.state.stepWidth, Infinity], maxConstraints: inline ? null : [bounds.right * this.state.stepWidth, Infinity], draggableOpts: { axis: 'none', offsetParent: document.body }, width: this.state.width, height: 0 },\n            React.createElement(\"div\", null, children)));\n    };\n    return Resizable;\n}(React.PureComponent));\nvar mapStateToProps = createStructuredSelector({});\nvar mapDispatchToProps = { resizeMode: resizeMode, editMode: editMode };\nexport default connect(mapStateToProps, mapDispatchToProps)(Resizable);\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { createStructuredSelector } from 'reselect';\nimport { blurAllCells, focusCell, resizeCell, } from '../../actions/cell';\nimport { connect } from '../../reduxConnect';\nimport { Selectors } from '../../selector';\nimport { isEditMode, isInsertMode, isLayoutMode, isPreviewMode, isResizeMode, } from '../../selector/display';\nimport { editableConfig, node, purifiedNode, } from '../../selector/editable';\nimport { removeCell, } from './../../actions/cell/core';\nimport Inner from './Inner';\nimport Resizable from './Resizable';\nvar gridClass = function (_a) {\n    var size = _a.node.size, rest = __rest(_a, [\"node\"]);\n    if (rest.isPreviewMode || rest.isEditMode) {\n        return \"ory-cell-\" + (rest.isPreviewMode || rest.isEditMode ? 'sm' : 'xs') + \"-\" + (size || 12) + \" ory-cell-xs-12\";\n    }\n    return \"ory-cell-xs-\" + (size || 12);\n};\nvar stopClick = function (_isEditMode) { return function (e) { return (_isEditMode ? e.stopPropagation() : null); }; };\nvar Cell = /** @class */ (function (_super) {\n    __extends(Cell, _super);\n    function Cell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Cell.prototype.render = function () {\n        var _a;\n        var _b;\n        var _c = this.props, id = _c.id, rowWidth = _c.rowWidth, rowHeight = _c.rowHeight, updateDimensions = _c.updateDimensions, lang = _c.lang, _d = _c.node, inline = _d.inline, resizable = _d.resizable, hasInlineNeighbour = _d.hasInlineNeighbour, focused = _d.focused, isDraft = _d.isDraft, isDraftI18n = _d.isDraftI18n;\n        var isDraftInLang = (_b = isDraftI18n === null || isDraftI18n === void 0 ? void 0 : isDraftI18n[lang]) !== null && _b !== void 0 ? _b : isDraft;\n        if (isDraftInLang && this.props.isPreviewMode) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: classNames('ory-cell', gridClass(this.props), (_a = {\n                    'ory-cell-has-inline-neighbour': hasInlineNeighbour\n                },\n                _a[\"ory-cell-inline-\" + (inline || '')] = inline,\n                _a['ory-cell-focused'] = focused,\n                _a['ory-cell-is-draft'] = isDraftInLang,\n                _a['ory-cell-resizing-overlay'] = this.props.isResizeMode,\n                _a['ory-cell-bring-to-front'] = !this.props.isResizeMode && !this.props.isLayoutMode && inline,\n                _a)), onClick: stopClick(this.props.isEditMode) }, resizable &&\n            (this.props.isResizeMode || this.props.allowResizeInEditMode) &&\n            rowWidth ? (React.createElement(Resizable, __assign({}, this.props, { id: id, rowWidth: rowWidth, rowHeight: rowHeight, updateDimensions: updateDimensions, node: this.props.node, steps: 12, onChange: this.props.resizeCell }),\n            React.createElement(Inner, __assign({}, this.props, { styles: null })))) : (React.createElement(Inner, __assign({}, this.props, { styles: null })))));\n    };\n    return Cell;\n}(React.PureComponent));\nvar mapStateToProps = createStructuredSelector({\n    isPreviewMode: isPreviewMode,\n    isEditMode: isEditMode,\n    isResizeMode: isResizeMode,\n    // required by sub-components\n    isInsertMode: isInsertMode,\n    isLayoutMode: isLayoutMode,\n    config: editableConfig,\n    node: purifiedNode,\n    lang: Selectors.Setting.getLang,\n    rawNode: function (state, props) { return function () { return node(state, props); }; },\n});\nvar mapDispatchToProps = function (dispatch, _a) {\n    var id = _a.id;\n    return bindActionCreators({\n        resizeCell: resizeCell(id),\n        focusCell: focusCell(id),\n        blurAllCells: blurAllCells,\n        removeCell: function () { return removeCell(id); },\n    }, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    dispatch);\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Cell);\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport throttle from 'lodash.throttle';\nimport * as React from 'react';\nimport { createStructuredSelector } from 'reselect';\nimport { createFallbackCell } from '../../../actions/cell';\nimport scrollIntoViewWithOffset from '../../../components/Cell/utils/scrollIntoViewWithOffset';\nimport { connect } from '../../../reduxConnect';\nimport { purifiedEditable } from '../../../selector/editable';\nimport { ContentPlugin, LayoutPlugin, } from '../../../service/plugin/classes';\nimport Cell from '../../Cell';\nimport dimensions from '../../Dimensions';\nfunction isElementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <=\n            (window.innerHeight ||\n                document.documentElement.clientHeight) /*or $(window).height() */ &&\n        rect.right <=\n            (window.innerWidth ||\n                document.documentElement.clientWidth) /*or $(window).width() */);\n}\nvar Inner = /** @class */ (function (_super) {\n    __extends(Inner, _super);\n    function Inner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.ref = React.createRef();\n        _this.firstElementInViewport = null;\n        _this.onScroll = throttle(function () {\n            if (_this.ref.current) {\n                var firstInViewport = Array.prototype.find.call(_this.ref.current.getElementsByClassName('ory-cell'), function (cell) { return isElementInViewport(cell); });\n                if (firstInViewport) {\n                    _this.firstElementInViewport = {\n                        el: firstInViewport,\n                        topOffset: firstInViewport.getBoundingClientRect().top,\n                    };\n                }\n                else {\n                    _this.firstElementInViewport = null;\n                }\n            }\n        }, 600);\n        _this.createFallbackCell = function () {\n            var _a = _this.props, node = _a.node, defaultPlugin = _a.defaultPlugin, id = _a.id;\n            if (!node) {\n                return;\n            }\n            var _b = node.cells, cells = _b === void 0 ? [] : _b;\n            if (cells.length === 0) {\n                // FIXME: one more reason to unify layout and content plugins...\n                if (defaultPlugin.createInitialChildren) {\n                    _this.props.createFallbackCell(new LayoutPlugin(defaultPlugin), id);\n                }\n                else {\n                    _this.props.createFallbackCell(new ContentPlugin(defaultPlugin), id);\n                }\n            }\n        };\n        return _this;\n    }\n    Inner.prototype.componentDidMount = function () {\n        this.createFallbackCell();\n        window.addEventListener('scroll', this.onScroll);\n    };\n    Inner.prototype.componentDidUpdate = function (oldProps) {\n        this.createFallbackCell();\n        if (oldProps.displayMode !== this.props.displayMode) {\n            if (this.firstElementInViewport) {\n                var _a = this.firstElementInViewport, el_1 = _a.el, topOffset_1 = _a.topOffset;\n                setTimeout(function () {\n                    scrollIntoViewWithOffset(el_1, topOffset_1, 'auto');\n                }, 0);\n            }\n        }\n    };\n    Inner.prototype.componentWillUnmount = function () {\n        window.removeEventListener('scroll', this.onScroll);\n    };\n    Inner.prototype.render = function () {\n        var _a = this.props, id = _a.id, containerWidth = _a.containerWidth, containerHeight = _a.containerHeight, node = _a.node, rest = __rest(_a, [\"id\", \"containerWidth\", \"containerHeight\", \"node\"]);\n        if (!node) {\n            return null;\n        }\n        var _b = node.cells, cells = _b === void 0 ? [] : _b;\n        return (React.createElement(\"div\", { ref: this.ref, className: \"ory-editable\" }, cells.map(function (c) { return (React.createElement(Cell, __assign({ rowWidth: containerWidth, rowHeight: containerHeight, editable: id, ancestors: [], key: c, id: c }, rest))); })));\n    };\n    return Inner;\n}(React.PureComponent));\nexport var displayMode = function (_a) {\n    var mode = _a.reactPage.display.mode;\n    return mode;\n};\nvar mapStateToProps = createStructuredSelector({\n    node: purifiedEditable,\n    displayMode: displayMode,\n});\nvar mapDispatchToProps = { createFallbackCell: createFallbackCell };\nexport default dimensions()(connect(mapStateToProps, mapDispatchToProps)(Inner));\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport equals from 'fast-deep-equal';\nimport React, { useEffect, useRef } from 'react';\nimport { editable } from '../../selector/editable';\nimport { EditableContext, useEditor } from '../hooks';\nimport HotKeyDecorator from '../HotKey/Decorator';\nimport FallbackDropArea from './FallbackDropArea';\nimport Inner from './Inner';\nvar Editable = function (_a) {\n    var id = _a.id, onChange = _a.onChange, onChangeLang = _a.onChangeLang, lang = _a.lang, rest = __rest(_a, [\"id\", \"onChange\", \"onChangeLang\", \"lang\"]);\n    var editor = useEditor();\n    // update lang when changed from outside\n    useEffect(function () {\n        editor.setLang(lang);\n    }, [lang]);\n    var previousSerializedRef = useRef();\n    useEffect(function () {\n        var oldLang = lang;\n        var handleChanges = function () {\n            // notify outsiders to new language, when chagned in ui\n            var newLang = editor.store.getState().reactPage.settings.lang;\n            if (newLang !== oldLang || newLang !== lang) {\n                oldLang = newLang;\n                onChangeLang === null || onChangeLang === void 0 ? void 0 : onChangeLang(newLang);\n            }\n            // check also if lang has changed internally, to call callback when controled from outside\n            var state = editable(editor.store.getState(), {\n                id: id,\n            });\n            if (!state) {\n                return;\n            }\n            // prevent uneeded updates\n            var serialized = editor.plugins.serialize(state);\n            var serializedEqual = equals(previousSerializedRef.current, serialized);\n            if (serializedEqual) {\n                return;\n            }\n            previousSerializedRef.current = serialized;\n            onChange(serialized);\n        };\n        var unsubscribe = editor.store.subscribe(handleChanges);\n        return function () {\n            unsubscribe();\n        };\n    }, [editor, id, onChange]);\n    return (React.createElement(EditableContext.Provider, { value: id },\n        React.createElement(HotKeyDecorator, { id: id },\n            React.createElement(FallbackDropArea, null,\n                React.createElement(Inner, __assign({ id: id, defaultPlugin: editor.defaultPlugin }, rest))))));\n};\nexport default React.memo(Editable);\n//# sourceMappingURL=index.js.map","import loadable from '@loadable/component';\nexport default loadable;\n//# sourceMappingURL=index.js.map","import React, { useEffect } from 'react';\nimport { blurAllCells } from '../actions/cell';\nimport { setMode as setModeInternal, DISPLAY_MODE_EDIT, } from '../actions/display';\nimport { connect } from '../reduxConnect';\nimport { createStructuredSelector } from 'reselect';\nimport { isInsertMode } from '../selector/display';\n// this might break in future, but its better than nothing\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction findReactElement(node) {\n    for (var key in node) {\n        if (key.startsWith('__reactInternalInstance$')) {\n            return node[key];\n        }\n    }\n    return null;\n}\n// we go up the reac-tree. This works even through portals, which would not be possible with traversing the dom tree!\nvar isInSameTree = function (parent, child) {\n    if (!parent) {\n        return false;\n    }\n    var element = findReactElement(child);\n    while (element) {\n        if (element.stateNode === parent) {\n            return true;\n        }\n        element = element.return;\n    }\n    return false;\n};\nvar useBlurAll = function (blurAllCellsDispatch, setMode, isInInsertMode, defaultMode, disabled) {\n    if (defaultMode === void 0) { defaultMode = DISPLAY_MODE_EDIT; }\n    var ref = React.useRef();\n    useEffect(function () {\n        if (disabled) {\n            return;\n        }\n        if (!ref.current) {\n            return;\n        }\n        if (!document && !document.body) {\n            return;\n        }\n        var onMouseDown = function (e) {\n            if (!isInSameTree(ref.current, e.target)) {\n                blurAllCellsDispatch();\n                // set us in default mode if current mode is \"insert\"\n                if (isInInsertMode) {\n                    setMode(defaultMode);\n                }\n            }\n        };\n        document.body.addEventListener('mousedown', onMouseDown);\n        return function () {\n            document.body.removeEventListener('mousedown', onMouseDown);\n        };\n    }, [ref.current, disabled, isInInsertMode]);\n    return ref;\n};\nvar mapStateToProps = createStructuredSelector({ isInsertMode: isInsertMode });\nvar mapDispatchToProps = { blurAllCells: blurAllCells, setMode: setModeInternal };\nvar BlurGate = connect(mapStateToProps, mapDispatchToProps)(function (props) {\n    var ref = useBlurAll(props.blurAllCells, props.setMode, props.defaultMode, props.isInsertMode, props.disabled);\n    return React.createElement(\"div\", { ref: ref }, props.children);\n});\nexport default BlurGate;\n//# sourceMappingURL=BlurGate.js.map","import * as React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport BlurGate from '../components/BlurGate';\nimport { EditorContext } from '../Editor';\nimport { ReduxProvider } from '../reduxConnect';\nvar Provider = function (_a) {\n    var editor = _a.editor, _b = _a.children, children = _b === void 0 ? [] : _b, _c = _a.dndBackend, dndBackend = _c === void 0 ? HTML5Backend : _c, _d = _a.blurGateDisabled, blurGateDisabled = _d === void 0 ? false : _d, blurGateDefaultMode = _a.blurGateDefaultMode;\n    return (React.createElement(DndProvider, { backend: dndBackend },\n        React.createElement(ReduxProvider, { store: editor.store },\n            React.createElement(EditorContext.Provider, { value: editor },\n                React.createElement(BlurGate, { disabled: blurGateDisabled, defaultMode: blurGateDefaultMode }, children)))));\n};\nexport default Provider;\n//# sourceMappingURL=index.js.map","var I18n = /** @class */ (function () {\n    function I18n() {\n        this.t = function (message) { return message; };\n    }\n    return I18n;\n}());\nexport { I18n };\nexport default new I18n();\n//# sourceMappingURL=index.js.map","export var ModeEnum;\n(function (ModeEnum) {\n    ModeEnum[ModeEnum[\"IMAGE_MODE_FLAG\"] = 1] = \"IMAGE_MODE_FLAG\";\n    ModeEnum[ModeEnum[\"COLOR_MODE_FLAG\"] = 2] = \"COLOR_MODE_FLAG\";\n    ModeEnum[ModeEnum[\"GRADIENT_MODE_FLAG\"] = 4] = \"GRADIENT_MODE_FLAG\";\n})(ModeEnum || (ModeEnum = {}));\n//# sourceMappingURL=ModeEnum.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport flatten from 'lodash.flatten';\nimport { jsx } from 'slate-hyperscript';\nimport parseHtml from './parseHtml';\nvar HtmlToSlate = function (_a) {\n    var plugins = _a.plugins;\n    var deserializeElement = function (el) {\n        var _a;\n        var _b, _c, _d, _e, _f;\n        var nodename = el.nodeName.toUpperCase();\n        if (el.nodeType === 3) {\n            return el.textContent;\n        }\n        else if (el.nodeType !== 1) {\n            return null;\n        }\n        else if (nodename === 'BR') {\n            return '\\n';\n        }\n        var nodeName = el.nodeName;\n        var parent = el;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var children = flatten(Array.from(parent.childNodes).map(deserializeElement));\n        if (nodename === 'BODY') {\n            return jsx('fragment', {}, children);\n        }\n        var matchingPlugin = plugins.find(function (p) {\n            var _a;\n            return (p.pluginType === 'component' &&\n                ((_a = p.deserialize) === null || _a === void 0 ? void 0 : _a.tagName) === nodeName.toLowerCase());\n        });\n        if (matchingPlugin && matchingPlugin.pluginType === 'component') {\n            var elHtml = el;\n            if (!elHtml.style) {\n                // xmldom has no style attribute\n                // we monkey patch it in for easier style parsing\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                elHtml.style = new CSSStyleDeclaration();\n                elHtml.style.cssText = elHtml.getAttribute('style');\n            }\n            if (matchingPlugin.object === 'mark') {\n                var attrs_1 = (_a = {},\n                    _a[matchingPlugin.type] = (_d = (_c = (_b = matchingPlugin === null || matchingPlugin === void 0 ? void 0 : matchingPlugin.deserialize) === null || _b === void 0 ? void 0 : _b.getData) === null || _c === void 0 ? void 0 : _c.call(_b, elHtml)) !== null && _d !== void 0 ? _d : true,\n                    _a);\n                return children.map(function (child) { return jsx('text', attrs_1, child); });\n            }\n            else {\n                var data = (_f = (_e = matchingPlugin === null || matchingPlugin === void 0 ? void 0 : matchingPlugin.deserialize) === null || _e === void 0 ? void 0 : _e.getData) === null || _f === void 0 ? void 0 : _f.call(_e, elHtml);\n                var attrs = __assign({ type: matchingPlugin.type }, (data ? { data: data } : {}));\n                return jsx('element', attrs, children);\n            }\n        }\n        return children;\n    };\n    return function (htmlString) {\n        var parsed = parseHtml('<body>' + htmlString + '</body>');\n        var fragment = deserializeElement(parsed.documentElement\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        );\n        return {\n            slate: Array.isArray(fragment) ? fragment : [fragment],\n        };\n    };\n};\nexport default HtmlToSlate;\n//# sourceMappingURL=index.js.map","export default (function (html) {\n    if (typeof DOMParser === 'undefined') {\n        throw new Error('The native `DOMParser` global which the `Html` serializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.');\n    }\n    return new DOMParser().parseFromString(html, 'text/html');\n});\n//# sourceMappingURL=parseHtml.browser.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Editor } from 'slate';\nimport { useSlate } from 'slate-react';\nexport var getCurrentNodeWithPlugin = function (editor, plugin) {\n    if (plugin.pluginType === 'custom') {\n        return null;\n    }\n    var match = plugin.pluginType === 'component'\n        ? plugin.object === 'mark'\n            ? function (elem) { return Boolean(elem[plugin.type]); }\n            : function (elem) { return elem.type === plugin.type; }\n        : plugin.pluginType === 'data'\n            ? // search for data\n                function (_a) {\n                    var data = _a.data;\n                    var matches = plugin.dataMatches(data);\n                    return matches;\n                }\n            : null;\n    try {\n        var _a = __read(Editor.nodes(editor, {\n            match: match,\n            mode: 'lowest',\n        }), 1), matchingNode = _a[0];\n        return matchingNode;\n    }\n    catch (e) {\n        // seems to crash sometimes on redu\n        return null;\n    }\n};\nexport default (function (plugin) {\n    var editor = useSlate();\n    return getCurrentNodeWithPlugin(editor, plugin);\n});\n//# sourceMappingURL=useCurrentNodeWithPlugin.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { Transforms } from 'slate';\nimport { useSlate } from 'slate-react';\nimport getCurrentData from '../utils/getCurrentData';\nexport var removePlugin = function (editor, plugin) {\n    if (plugin.customRemove) {\n        plugin.customRemove(editor);\n    }\n    else if (plugin.pluginType === 'component') {\n        if (plugin.object === 'mark') {\n            editor.removeMark(plugin.type);\n        }\n        else if (plugin.object === 'inline') {\n            Transforms.unwrapNodes(editor, {\n                match: function (elem) { return elem.type === plugin.type; },\n            });\n            // Transforms.setNodes(editor, { type: null });\n        }\n        else if (plugin.object === 'block') {\n            if (plugin.replaceWithDefaultOnRemove) {\n                Transforms.setNodes(editor, {\n                    type: null,\n                });\n            }\n            else {\n                Transforms.unwrapNodes(editor, {\n                    match: function (elem) { return elem.type === plugin.type; },\n                    split: true,\n                });\n            }\n        }\n    }\n    else if (plugin.pluginType === 'data') {\n        if (!plugin.properties) {\n            // can't be removed\n        }\n        else {\n            var existingData_1 = getCurrentData(editor);\n            var dataWithout = Object.keys(existingData_1).reduce(function (acc, key) {\n                var _a;\n                if (plugin.properties.includes(key)) {\n                    return acc;\n                }\n                return __assign(__assign({}, acc), (_a = {}, _a[key] = existingData_1[key], _a));\n            }, {});\n            Transforms.setNodes(editor, {\n                data: dataWithout,\n            });\n        }\n    }\n};\nexport default (function (plugin) {\n    var editor = useSlate();\n    return useCallback(function () { return removePlugin(editor, plugin); }, []);\n});\n//# sourceMappingURL=useRemovePlugin.js.map","/* eslint-disable @typescript-eslint/ban-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nvar getWidth = function (element) { return element.clientWidth; };\nvar getHeight = function (element) { return element.clientHeight; };\nvar Dimensions = function (_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.className, className = _c === void 0 ? null : _c, _d = _b.elementResize, elementResize = _d === void 0 ? false : _d;\n    return function (ComposedComponent) {\n        var Decorator = /** @class */ (function (_super) {\n            __extends(Decorator, _super);\n            function Decorator(props) {\n                var _this = _super.call(this, props) || this;\n                _this.updateDimensions = function () {\n                    var container = _this.containerRef;\n                    if (!container) {\n                        return;\n                    }\n                    var containerWidth = getWidth(container);\n                    var containerHeight = getHeight(container);\n                    if (containerWidth !== _this.state.containerWidth ||\n                        containerHeight !== _this.state.containerHeight) {\n                        _this.setState({ containerWidth: containerWidth, containerHeight: containerHeight });\n                    }\n                };\n                _this.onResize = function () {\n                    if (_this.rqf) {\n                        return;\n                    }\n                    _this.rqf = _this.getWindow().requestAnimationFrame(function () {\n                        _this.rqf = null;\n                        _this.updateDimensions();\n                    });\n                };\n                _this.onContainerRef = function (ref) {\n                    _this.containerRef = ref;\n                    _this.updateDimensions();\n                };\n                _this.state = {};\n                return _this;\n            }\n            Decorator.prototype.componentDidMount = function () {\n                if (!this.containerRef) {\n                    throw new Error('Cannot find container div');\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (global.IntersectionObserver) {\n                    this.observer = new IntersectionObserver(this.onResize);\n                }\n                this.observer.observe(this.containerRef);\n                this.updateDimensions();\n                this.getWindow().addEventListener('resize', this.onResize, false);\n            };\n            // This cann not be used here because it doesn't listen to state changes.\n            Decorator.prototype.componentWillUnmount = function () {\n                this.getWindow().removeEventListener('resize', this.onResize);\n                if (this.observer) {\n                    this.observer.disconnect();\n                }\n            };\n            // If the component is mounted in a different window to the javascript\n            // context, as with https://github.com/JakeGinnivan/react-popout\n            // then the `window` global will be different from the `window` that\n            // contains the component.\n            // Depends on `defaultView` which is not supported <IE9\n            Decorator.prototype.getWindow = function () {\n                return this.containerRef\n                    ? this.containerRef.ownerDocument.defaultView || window\n                    : window;\n            };\n            Decorator.prototype.render = function () {\n                return (React.createElement(\"div\", { className: classNames(className, 'ory-dimensions'), ref: this.onContainerRef },\n                    React.createElement(ComposedComponent, __assign({}, this.state, this.props, { updateDimensions: this.updateDimensions }))));\n            };\n            return Decorator;\n        }(React.Component));\n        return function (props) { return React.createElement(Decorator, __assign({}, props)); };\n    };\n};\nexport default Dimensions;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Editor } from 'slate';\nvar getCurrentData = function (editor) {\n    var _a;\n    var _b = __read(Editor.nodes(editor, {\n        mode: 'all',\n        match: function (node) {\n            return Boolean(node.data);\n        },\n    }), 1), existingNodeWithData = _b[0];\n    var existingData = existingNodeWithData\n        ? (_a = existingNodeWithData[0]) === null || _a === void 0 ? void 0 : _a.data\n        : {};\n    return existingData;\n};\nexport default getCurrentData;\n//# sourceMappingURL=getCurrentData.js.map"],"sourceRoot":""}